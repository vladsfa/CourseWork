"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[179],{6217:(_n,Ye,D)=>{D.d(Ye,{nm:()=>Si});var c=D(4976);D(4650),D(259);var Se=D(5861),ge=D(6881),pe=D(4859),Ke=D(2090),_t=D(1877);const Rt=new Map,qe={activated:!1,tokenObservers:[]},un={initialized:!1,enabled:!1};function St(mt){return Rt.get(mt)||Object.assign({},qe)}function yn(){return un}const ui="https://content-firebaseappcheck.googleapis.com/v1",Pt="exchangeDebugToken",wt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class gt{constructor(at,Ut,nn,gn,ci){if(this.operation=at,this.retryPolicy=Ut,this.getWaitDuration=nn,this.lowerBound=gn,this.upperBound=ci,this.pending=null,this.nextErrorWaitInterval=gn,gn>ci)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(at){var Ut=this;return(0,Se.Z)(function*(){Ut.stop();try{Ut.pending=new Ke.BH,yield function vt(mt){return new Promise(at=>{setTimeout(at,mt)})}(Ut.getNextRun(at)),Ut.pending.resolve(),yield Ut.pending.promise,Ut.pending=new Ke.BH,yield Ut.operation(),Ut.pending.resolve(),yield Ut.pending.promise,Ut.process(!0).catch(()=>{})}catch(nn){Ut.retryPolicy(nn)?Ut.process(!1).catch(()=>{}):Ut.stop()}})()}getNextRun(at){if(at)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ut=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ut}}}const an=new Ke.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Je(mt){if(!St(mt).activated)throw an.create("use-before-activation",{appName:mt.name})}function En(mt,at){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,Se.Z)(function*({url:mt,body:at},Ut){const nn={"Content-Type":"application/json"},gn=Ut.getImmediate({optional:!0});if(gn){const tr=yield gn.getHeartbeatsHeader();tr&&(nn["X-Firebase-Client"]=tr)}const ci={method:"POST",body:JSON.stringify(at),headers:nn};let yi,fi;try{yi=yield fetch(mt,ci)}catch(tr){throw an.create("fetch-network-error",{originalErrorMessage:tr?.message})}if(200!==yi.status)throw an.create("fetch-status-error",{httpStatus:yi.status});try{fi=yield yi.json()}catch(tr){throw an.create("fetch-parse-error",{originalErrorMessage:tr?.message})}const Ci=fi.ttl.match(/^([\d.]+)(s)$/);if(!Ci||!Ci[2]||isNaN(Number(Ci[1])))throw an.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${fi.ttl}`});const wr=1e3*Number(Ci[1]),yo=Date.now();return{token:fi.token,expireTimeMillis:yo+wr,issuedAtTimeMillis:yo}})).apply(this,arguments)}function Zt(mt,at){const{projectId:Ut,appId:nn,apiKey:gn}=mt.options;return{url:`${ui}/projects/${Ut}/apps/${nn}:${Pt}?key=${gn}`,body:{debug_token:at}}}const yt="firebase-app-check-database",Ht=1,xe="firebase-app-check-store";let bt=null;function _i(mt,at){return di.apply(this,arguments)}function di(){return(di=(0,Se.Z)(function*(mt,at){const nn=(yield function rn(){return bt||(bt=new Promise((mt,at)=>{try{const Ut=indexedDB.open(yt,Ht);Ut.onsuccess=nn=>{mt(nn.target.result)},Ut.onerror=nn=>{var gn;at(an.create("storage-open",{originalErrorMessage:null===(gn=nn.target.error)||void 0===gn?void 0:gn.message}))},Ut.onupgradeneeded=nn=>{0===nn.oldVersion&&nn.target.result.createObjectStore(xe,{keyPath:"compositeKey"})}}catch(Ut){at(an.create("storage-open",{originalErrorMessage:Ut?.message}))}}),bt)}()).transaction(xe,"readwrite"),ci=nn.objectStore(xe).put({compositeKey:mt,value:at});return new Promise((yi,fi)=>{ci.onsuccess=Ci=>{yi()},nn.onerror=Ci=>{var wr;fi(an.create("storage-set",{originalErrorMessage:null===(wr=Ci.target.error)||void 0===wr?void 0:wr.message}))}})})).apply(this,arguments)}const Dt=new _t.Yd("@firebase/app-check");function zt(mt,at){return(0,Ke.hl)()?function hi(mt,at){return _i(function Fi(mt){return`${mt.options.appId}-${mt.name}`}(mt),at)}(mt,at).catch(Ut=>{Dt.warn(`Failed to write token to IndexedDB. Error: ${Ut}`)}):Promise.resolve()}function Mi(){return yn().enabled}function kn(){return ti.apply(this,arguments)}function ti(){return(ti=(0,Se.Z)(function*(){const mt=yn();if(mt.enabled&&mt.token)return mt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ee={error:"UNKNOWN_ERROR"};function z(mt){return Ke.US.encodeString(JSON.stringify(mt),!1)}function ce(mt){return nt.apply(this,arguments)}function nt(){return(nt=(0,Se.Z)(function*(mt,at=!1){const Ut=mt.app;Je(Ut);const nn=St(Ut);let ci,gn=nn.token;if(gn&&!Et(gn)&&(nn.token=void 0,gn=void 0),!gn){const Ci=yield nn.cachedTokenPromise;Ci&&(Et(Ci)?gn=Ci:yield zt(Ut,void 0))}if(!at&&gn&&Et(gn))return{token:gn.token};let fi,yi=!1;if(Mi()){nn.exchangeTokenPromise||(nn.exchangeTokenPromise=En(Zt(Ut,yield kn()),mt.heartbeatServiceProvider).finally(()=>{nn.exchangeTokenPromise=void 0}),yi=!0);const Ci=yield nn.exchangeTokenPromise;return yield zt(Ut,Ci),nn.token=Ci,{token:Ci.token}}try{nn.exchangeTokenPromise||(nn.exchangeTokenPromise=nn.provider.getToken().finally(()=>{nn.exchangeTokenPromise=void 0}),yi=!0),gn=yield St(Ut).exchangeTokenPromise}catch(Ci){"appCheck/throttled"===Ci.code?Dt.warn(Ci.message):Dt.error(Ci),ci=Ci}return gn?ci?fi=Et(gn)?{token:gn.token,internalError:ci}:ln(ci):(fi={token:gn.token},nn.token=gn,yield zt(Ut,gn)):fi=ln(ci),yi&&function $t(mt,at){const Ut=St(mt).tokenObservers;for(const nn of Ut)try{"EXTERNAL"===nn.type&&null!=at.error?nn.error(at.error):nn.next(at)}catch{}}(Ut,fi),fi})).apply(this,arguments)}function Qt(mt){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,Se.Z)(function*(mt){const at=mt.app;Je(at);const{provider:Ut}=St(at);if(Mi()){const nn=yield kn(),{token:gn}=yield En(Zt(at,nn),mt.heartbeatServiceProvider);return{token:gn}}{const{token:nn}=yield Ut.getToken();return{token:nn}}})).apply(this,arguments)}function Le(mt,at){const Ut=St(mt),nn=Ut.tokenObservers.filter(gn=>gn.next!==at);0===nn.length&&Ut.tokenRefresher&&Ut.tokenRefresher.isRunning()&&Ut.tokenRefresher.stop(),Ut.tokenObservers=nn}function Ne(mt){const{app:at}=mt,Ut=St(at);let nn=Ut.tokenRefresher;nn||(nn=function He(mt){const{app:at}=mt;return new gt((0,Se.Z)(function*(){let nn;if(nn=St(at).token?yield ce(mt,!0):yield ce(mt),nn.error)throw nn.error;if(nn.internalError)throw nn.internalError}),()=>!0,()=>{const Ut=St(at);if(Ut.token){let nn=Ut.token.issuedAtTimeMillis+.5*(Ut.token.expireTimeMillis-Ut.token.issuedAtTimeMillis)+3e5;return nn=Math.min(nn,Ut.token.expireTimeMillis-3e5),Math.max(0,nn-Date.now())}return 0},wt.RETRIAL_MIN_WAIT,wt.RETRIAL_MAX_WAIT)}(mt),Ut.tokenRefresher=nn),!nn.isRunning()&&Ut.isTokenAutoRefreshEnabled&&nn.start()}function Et(mt){return mt.expireTimeMillis-Date.now()>0}function ln(mt){return{token:z(Ee),error:mt}}class Qe{constructor(at,Ut){this.app=at,this.heartbeatServiceProvider=Ut}_delete(){const{tokenObservers:at}=St(this.app);for(const Ut of at)Le(this.app,Ut.next);return Promise.resolve()}}const on="app-check-internal";!function Cn(){(0,ge._registerComponent)(new pe.wA("app-check",mt=>function Q(mt,at){return new Qe(mt,at)}(mt.getProvider("app").getImmediate(),mt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((mt,at,Ut)=>{mt.getProvider(on).initialize()})),(0,ge._registerComponent)(new pe.wA(on,mt=>function V(mt){return{getToken:at=>ce(mt,at),getLimitedUseToken:()=>Qt(mt),addTokenListener:at=>function gi(mt,at,Ut,nn){const{app:gn}=mt,ci=St(gn);if(ci.tokenObservers=[...ci.tokenObservers,{next:Ut,error:nn,type:at}],ci.token&&Et(ci.token)){const fi=ci.token;Promise.resolve().then(()=>{Ut({token:fi.token}),Ne(mt)}).catch(()=>{})}ci.cachedTokenPromise.then(()=>Ne(mt))}(mt,"INTERNAL",at),removeTokenListener:at=>Le(mt.app,at)}}(mt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)("@firebase/app-check","0.8.0")}();class Si{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},1205:(_n,Ye,D)=>{D.d(Ye,{zQ:()=>ui,rT:()=>un,f7:()=>bn,L6:()=>Rt,_Q:()=>qe,lh:()=>St,Qv:()=>_t,nw:()=>yn});var c=D(4650),A=D(7579),g=D(9646),fe=D(9751),O=D(8996),Te=D(6451),Oe=D(5363),ue=D(3900),Ie=D(4004),ie=D(6063);class ae extends A.x{constructor(Pt=1/0,wt=1/0,kt=ie.l){super(),this._bufferSize=Pt,this._windowTime=wt,this._timestampProvider=kt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=wt===1/0,this._bufferSize=Math.max(1,Pt),this._windowTime=Math.max(1,wt)}next(Pt){const{isStopped:wt,_buffer:kt,_infiniteTimeWindow:gt,_timestampProvider:vt,_windowTime:jt}=this;wt||(kt.push(Pt),!gt&&kt.push(vt.now()+jt)),this._trimBuffer(),super.next(Pt)}_subscribe(Pt){this._throwIfClosed(),this._trimBuffer();const wt=this._innerSubscribe(Pt),{_infiniteTimeWindow:kt,_buffer:gt}=this,vt=gt.slice();for(let jt=0;jt<vt.length&&!Pt.closed;jt+=kt?1:2)Pt.next(vt[jt]);return this._checkFinalizedStatuses(Pt),wt}_trimBuffer(){const{_bufferSize:Pt,_timestampProvider:wt,_buffer:kt,_infiniteTimeWindow:gt}=this,vt=(gt?1:2)*Pt;if(Pt<1/0&&vt<kt.length&&kt.splice(0,kt.length-vt),!gt){const jt=wt.now();let an=0;for(let Vt=1;Vt<kt.length&&kt[Vt]<=jt;Vt+=2)an=Vt;an&&kt.splice(0,an+1)}}}var re=D(3099);function Ae(Tt,Pt,wt){let kt,gt=!1;return Tt&&"object"==typeof Tt?({bufferSize:kt=1/0,windowTime:Pt=1/0,refCount:gt=!1,scheduler:wt}=Tt):kt=Tt??1/0,(0,re.B)({connector:()=>new ae(kt,Pt,wt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:gt})}var Ve=D(590),Ge=D(576);function rt(Tt,Pt){return(0,Ge.m)(Pt)?(0,ue.w)(()=>Tt,Pt):(0,ue.w)(()=>Tt)}var Fe=D(9468),tt=D(9300),Re=D(4976),lt=D(2011),Se=D(6895),ge=D(6217);D(9260);const _t=new c.OlP("angularfire2.auth.use-emulator"),Rt=new c.OlP("angularfire2.auth.settings"),qe=new c.OlP("angularfire2.auth.tenant-id"),un=new c.OlP("angularfire2.auth.langugage-code"),St=new c.OlP("angularfire2.auth.use-device-language"),bn=new c.OlP("angularfire.auth.persistence"),yn=(Tt,Pt,wt,kt,gt,vt,jt,an)=>(0,lt.cc)(`${Tt.name}.auth`,"AngularFireAuth",Tt.name,()=>{const Vt=Pt.runOutsideAngular(()=>Tt.auth());if(wt&&Vt.useEmulator(...wt),kt&&(Vt.tenantId=kt),Vt.languageCode=gt,vt&&Vt.useDeviceLanguage(),jt)for(const[Je,wn]of Object.entries(jt))Vt.settings[Je]=wn;return an&&Vt.setPersistence(an),Vt},[wt,kt,gt,vt,jt,an]);let ui=(()=>{class Tt{constructor(wt,kt,gt,vt,jt,an,Vt,Je,wn,ht,En,Bt){const mn=new A.x,Ue=(0,g.of)(void 0).pipe((0,Oe.Q)(jt.outsideAngular),(0,ue.w)(()=>vt.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,2644)))),(0,Ie.U)(()=>(0,lt.on)(wt,vt,kt)),(0,Ie.U)(Zt=>yn(Zt,vt,an,Je,wn,ht,Vt,En)),Ae({bufferSize:1,refCount:!1}));if((0,Se.PM)(gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,g.of)(null);else{Ue.pipe((0,Ve.P)()).subscribe();const yt=Ue.pipe((0,ue.w)(ct=>ct.getRedirectResult().then(bt=>bt,()=>null)),Re.iC,Ae({bufferSize:1,refCount:!1})),Ht=Ue.pipe((0,ue.w)(ct=>new fe.y(bt=>({unsubscribe:vt.runOutsideAngular(()=>ct.onAuthStateChanged(rn=>bt.next(rn),rn=>bt.error(rn),()=>bt.complete()))})))),xe=Ue.pipe((0,ue.w)(ct=>new fe.y(bt=>({unsubscribe:vt.runOutsideAngular(()=>ct.onIdTokenChanged(rn=>bt.next(rn),rn=>bt.error(rn),()=>bt.complete()))}))));this.authState=yt.pipe(rt(Ht),(0,Fe.R)(jt.outsideAngular),(0,Oe.Q)(jt.insideAngular)),this.user=yt.pipe(rt(xe),(0,Fe.R)(jt.outsideAngular),(0,Oe.Q)(jt.insideAngular)),this.idToken=this.user.pipe((0,ue.w)(ct=>ct?(0,O.D)(ct.getIdToken()):(0,g.of)(null))),this.idTokenResult=this.user.pipe((0,ue.w)(ct=>ct?(0,O.D)(ct.getIdTokenResult()):(0,g.of)(null))),this.credential=(0,Te.T)(yt,mn,this.authState.pipe((0,tt.h)(ct=>!ct))).pipe((0,Ie.U)(ct=>ct?.user?ct:null),(0,Fe.R)(jt.outsideAngular),(0,Oe.Q)(jt.insideAngular))}return(0,lt.pX)(this,Ue,vt,{spy:{apply:(Zt,yt,Ht)=>{(Zt.startsWith("signIn")||Zt.startsWith("createUser"))&&Ht.then(xe=>mn.next(xe))}}})}}return Tt.\u0275fac=function(wt){return new(wt||Tt)(c.LFG(lt.Dh),c.LFG(lt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Re.HU),c.LFG(_t,8),c.LFG(Rt,8),c.LFG(qe,8),c.LFG(un,8),c.LFG(St,8),c.LFG(bn,8),c.LFG(ge.nm,8))},Tt.\u0275prov=c.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"any"}),Tt})()},7977:(_n,Ye,D)=>{D.d(Ye,{ST:()=>ti,yb:()=>Lt});var c=D(4650),A=D(4986),g=D(9751),fe=D(8996),O=D(9646),Te=D(4976),Oe=D(8675),ue=D(4482),Ie=D(5403);function ie(){return(0,ue.e)((Ee,z)=>{let ce,nt=!1;Ee.subscribe((0,Ie.x)(z,Qt=>{const Gn=ce;ce=Qt,nt&&z.next([Gn,Qt]),nt=!0}))})}var ae=D(4004),re=D(5026),Ae=D(1884),Ve=D(9300),Ge=D(2011),rt=D(6895),tt=(D(2644),D(3942)),Re=D(2810),lt=D(2090),Se=D(4859);function Ke(Ee,z){if(void 0===z)return{merge:!1};if(void 0!==z.mergeFields&&void 0!==z.merge)throw new Re.WA("invalid-argument",`Invalid options passed to function ${Ee}(): You cannot specify both "merge" and "mergeFields".`);return z}function _t(){if(typeof Uint8Array>"u")throw new Re.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Rt(){if(!(0,Re.Me)())throw new Re.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class qe{constructor(z){this._delegate=z}static fromBase64String(z){return Rt(),new qe(Re.Jj.fromBase64String(z))}static fromUint8Array(z){return _t(),new qe(Re.Jj.fromUint8Array(z))}toBase64(){return Rt(),this._delegate.toBase64()}toUint8Array(){return _t(),this._delegate.toUint8Array()}isEqual(z){return this._delegate.isEqual(z._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function un(Ee){return function St(Ee,z){if("object"!=typeof Ee||null===Ee)return!1;const ce=Ee;for(const nt of z)if(nt in ce&&"function"==typeof ce[nt])return!0;return!1}(Ee,["next","error","complete"])}class bn{enableIndexedDbPersistence(z,ce){return(0,Re.ST)(z._delegate,{forceOwnership:ce})}enableMultiTabIndexedDbPersistence(z){return(0,Re.fH)(z._delegate)}clearIndexedDbPersistence(z){return(0,Re.Fc)(z._delegate)}}class yn{constructor(z,ce,nt){this._delegate=ce,this._persistenceProvider=nt,this.INTERNAL={delete:()=>this.terminate()},z instanceof Re.l7||(this._appCompat=z)}get _databaseId(){return this._delegate._databaseId}settings(z){const ce=this._delegate._getSettings();!z.merge&&ce.host!==z.host&&(0,Re.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),z.merge&&delete(z=Object.assign(Object.assign({},ce),z)).merge,this._delegate._setSettings(z)}useEmulator(z,ce,nt={}){(0,Re.at)(this._delegate,z,ce,nt)}enableNetwork(){return(0,Re.Ix)(this._delegate)}disableNetwork(){return(0,Re.TF)(this._delegate)}enablePersistence(z){let ce=!1,nt=!1;return z&&(ce=!!z.synchronizeTabs,nt=!!z.experimentalForceOwningTab,(0,Re.Wi)("synchronizeTabs",ce,"experimentalForceOwningTab",nt)),ce?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,nt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Re.Mx)(this._delegate)}onSnapshotsInSync(z){return(0,Re.sc)(this._delegate,z)}get app(){if(!this._appCompat)throw new Re.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(z){try{return new En(this,(0,Re.hJ)(this._delegate,z))}catch(ce){throw gt(ce,"collection()","Firestore.collection()")}}doc(z){try{return new kt(this,(0,Re.JU)(this._delegate,z))}catch(ce){throw gt(ce,"doc()","Firestore.doc()")}}collectionGroup(z){try{return new Je(this,(0,Re.B$)(this._delegate,z))}catch(ce){throw gt(ce,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(z){return(0,Re.i3)(this._delegate,ce=>z(new Tt(this,ce)))}batch(){return(0,Re.qY)(this._delegate),new Pt(new Re.PU(this._delegate,z=>(0,Re.GL)(this._delegate,z)))}loadBundle(z){return(0,Re.Pb)(this._delegate,z)}namedQuery(z){return(0,Re.L$)(this._delegate,z).then(ce=>ce?new Je(this,ce):null)}}class ui extends Re.u7{constructor(z){super(),this.firestore=z}convertBytes(z){return new qe(new Re.Jj(z))}convertReference(z){const ce=this.convertDocumentKey(z,this.firestore._databaseId);return kt.forKey(ce,this.firestore,null)}}class Tt{constructor(z,ce){this._firestore=z,this._delegate=ce,this._userDataWriter=new ui(z)}get(z){const ce=Bt(z);return this._delegate.get(ce).then(nt=>new an(this._firestore,new Re.xU(this._firestore._delegate,this._userDataWriter,nt._key,nt._document,nt.metadata,ce.converter)))}set(z,ce,nt){const Qt=Bt(z);return nt?(Ke("Transaction.set",nt),this._delegate.set(Qt,ce,nt)):this._delegate.set(Qt,ce),this}update(z,ce,nt,...Qt){const Gn=Bt(z);return 2===arguments.length?this._delegate.update(Gn,ce):this._delegate.update(Gn,ce,nt,...Qt),this}delete(z){const ce=Bt(z);return this._delegate.delete(ce),this}}class Pt{constructor(z){this._delegate=z}set(z,ce,nt){const Qt=Bt(z);return nt?(Ke("WriteBatch.set",nt),this._delegate.set(Qt,ce,nt)):this._delegate.set(Qt,ce),this}update(z,ce,nt,...Qt){const Gn=Bt(z);return 2===arguments.length?this._delegate.update(Gn,ce):this._delegate.update(Gn,ce,nt,...Qt),this}delete(z){const ce=Bt(z);return this._delegate.delete(ce),this}commit(){return this._delegate.commit()}}class wt{constructor(z,ce,nt){this._firestore=z,this._userDataWriter=ce,this._delegate=nt}fromFirestore(z,ce){const nt=new Re.$q(this._firestore._delegate,this._userDataWriter,z._key,z._document,z.metadata,null);return this._delegate.fromFirestore(new Vt(this._firestore,nt),ce??{})}toFirestore(z,ce){return ce?this._delegate.toFirestore(z,ce):this._delegate.toFirestore(z)}static getInstance(z,ce){const nt=wt.INSTANCES;let Qt=nt.get(z);Qt||(Qt=new WeakMap,nt.set(z,Qt));let Gn=Qt.get(ce);return Gn||(Gn=new wt(z,new ui(z),ce),Qt.set(ce,Gn)),Gn}}wt.INSTANCES=new WeakMap;class kt{constructor(z,ce){this.firestore=z,this._delegate=ce,this._userDataWriter=new ui(z)}static forPath(z,ce,nt){if(z.length%2!=0)throw new Re.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${z.canonicalString()} has ${z.length}`);return new kt(ce,new Re.my(ce._delegate,nt,new Re.Ky(z)))}static forKey(z,ce,nt){return new kt(ce,new Re.my(ce._delegate,nt,z))}get id(){return this._delegate.id}get parent(){return new En(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(z){try{return new En(this.firestore,(0,Re.hJ)(this._delegate,z))}catch(ce){throw gt(ce,"collection()","DocumentReference.collection()")}}isEqual(z){return(z=(0,lt.m9)(z))instanceof Re.my&&(0,Re.Eo)(this._delegate,z)}set(z,ce){ce=Ke("DocumentReference.set",ce);try{return ce?(0,Re.pl)(this._delegate,z,ce):(0,Re.pl)(this._delegate,z)}catch(nt){throw gt(nt,"setDoc()","DocumentReference.set()")}}update(z,ce,...nt){try{return 1===arguments.length?(0,Re.r7)(this._delegate,z):(0,Re.r7)(this._delegate,z,ce,...nt)}catch(Qt){throw gt(Qt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Re.oe)(this._delegate)}onSnapshot(...z){const ce=vt(z),nt=jt(z,Qt=>new an(this.firestore,new Re.xU(this.firestore._delegate,this._userDataWriter,Qt._key,Qt._document,Qt.metadata,this._delegate.converter)));return(0,Re.cf)(this._delegate,ce,nt)}get(z){let ce;return ce="cache"===z?.source?(0,Re.kl)(this._delegate):"server"===z?.source?(0,Re.Xk)(this._delegate):(0,Re.QT)(this._delegate),ce.then(nt=>new an(this.firestore,new Re.xU(this.firestore._delegate,this._userDataWriter,nt._key,nt._document,nt.metadata,this._delegate.converter)))}withConverter(z){return new kt(this.firestore,this._delegate.withConverter(z?wt.getInstance(this.firestore,z):null))}}function gt(Ee,z,ce){return Ee.message=Ee.message.replace(z,ce),Ee}function vt(Ee){for(const z of Ee)if("object"==typeof z&&!un(z))return z;return{}}function jt(Ee,z){var ce,nt;let Qt;return Qt=un(Ee[0])?Ee[0]:un(Ee[1])?Ee[1]:"function"==typeof Ee[0]?{next:Ee[0],error:Ee[1],complete:Ee[2]}:{next:Ee[1],error:Ee[2],complete:Ee[3]},{next:Gn=>{Qt.next&&Qt.next(z(Gn))},error:null===(ce=Qt.error)||void 0===ce?void 0:ce.bind(Qt),complete:null===(nt=Qt.complete)||void 0===nt?void 0:nt.bind(Qt)}}class an{constructor(z,ce){this._firestore=z,this._delegate=ce}get ref(){return new kt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(z){return this._delegate.data(z)}get(z,ce){return this._delegate.get(z,ce)}isEqual(z){return(0,Re.qK)(this._delegate,z._delegate)}}class Vt extends an{data(z){const ce=this._delegate.data(z);return(0,Re.K9)(void 0!==ce,"Document in a QueryDocumentSnapshot should exist"),ce}}class Je{constructor(z,ce){this.firestore=z,this._delegate=ce,this._userDataWriter=new ui(z)}where(z,ce,nt){try{return new Je(this.firestore,(0,Re.IO)(this._delegate,(0,Re.ar)(z,ce,nt)))}catch(Qt){throw gt(Qt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(z,ce){try{return new Je(this.firestore,(0,Re.IO)(this._delegate,(0,Re.Xo)(z,ce)))}catch(nt){throw gt(nt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(z){try{return new Je(this.firestore,(0,Re.IO)(this._delegate,(0,Re.b9)(z)))}catch(ce){throw gt(ce,"limit()","Query.limit()")}}limitToLast(z){try{return new Je(this.firestore,(0,Re.IO)(this._delegate,(0,Re.vh)(z)))}catch(ce){throw gt(ce,"limitToLast()","Query.limitToLast()")}}startAt(...z){try{return new Je(this.firestore,(0,Re.IO)(this._delegate,(0,Re.e0)(...z)))}catch(ce){throw gt(ce,"startAt()","Query.startAt()")}}startAfter(...z){try{return new Je(this.firestore,(0,Re.IO)(this._delegate,(0,Re.TQ)(...z)))}catch(ce){throw gt(ce,"startAfter()","Query.startAfter()")}}endBefore(...z){try{return new Je(this.firestore,(0,Re.IO)(this._delegate,(0,Re.Lx)(...z)))}catch(ce){throw gt(ce,"endBefore()","Query.endBefore()")}}endAt(...z){try{return new Je(this.firestore,(0,Re.IO)(this._delegate,(0,Re.Wu)(...z)))}catch(ce){throw gt(ce,"endAt()","Query.endAt()")}}isEqual(z){return(0,Re.iE)(this._delegate,z._delegate)}get(z){let ce;return ce="cache"===z?.source?(0,Re.UQ)(this._delegate):"server"===z?.source?(0,Re.zN)(this._delegate):(0,Re.PL)(this._delegate),ce.then(nt=>new ht(this.firestore,new Re.W(this.firestore._delegate,this._userDataWriter,this._delegate,nt._snapshot)))}onSnapshot(...z){const ce=vt(z),nt=jt(z,Qt=>new ht(this.firestore,new Re.W(this.firestore._delegate,this._userDataWriter,this._delegate,Qt._snapshot)));return(0,Re.cf)(this._delegate,ce,nt)}withConverter(z){return new Je(this.firestore,this._delegate.withConverter(z?wt.getInstance(this.firestore,z):null))}}class wn{constructor(z,ce){this._firestore=z,this._delegate=ce}get type(){return this._delegate.type}get doc(){return new Vt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ht{constructor(z,ce){this._firestore=z,this._delegate=ce}get query(){return new Je(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(z=>new Vt(this._firestore,z))}docChanges(z){return this._delegate.docChanges(z).map(ce=>new wn(this._firestore,ce))}forEach(z,ce){this._delegate.forEach(nt=>{z.call(ce,new Vt(this._firestore,nt))})}isEqual(z){return(0,Re.qK)(this._delegate,z._delegate)}}class En extends Je{constructor(z,ce){super(z,ce),this.firestore=z,this._delegate=ce}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const z=this._delegate.parent;return z?new kt(this.firestore,z):null}doc(z){try{return new kt(this.firestore,void 0===z?(0,Re.JU)(this._delegate):(0,Re.JU)(this._delegate,z))}catch(ce){throw gt(ce,"doc()","CollectionReference.doc()")}}add(z){return(0,Re.ET)(this._delegate,z).then(ce=>new kt(this.firestore,ce))}isEqual(z){return(0,Re.Eo)(this._delegate,z._delegate)}withConverter(z){return new En(this.firestore,this._delegate.withConverter(z?wt.getInstance(this.firestore,z):null))}}function Bt(Ee){return(0,Re.Cf)(Ee,Re.my)}class mn{constructor(...z){this._delegate=new Re.Lz(...z)}static documentId(){return new mn(Re.Xb.keyField().canonicalString())}isEqual(z){return(z=(0,lt.m9)(z))instanceof Re.Lz&&this._delegate._internalPath.isEqual(z._internalPath)}}class Ue{constructor(z){this._delegate=z}static serverTimestamp(){const z=(0,Re.Bt)();return z._methodName="FieldValue.serverTimestamp",new Ue(z)}static delete(){const z=(0,Re.AK)();return z._methodName="FieldValue.delete",new Ue(z)}static arrayUnion(...z){const ce=(0,Re.vr)(...z);return ce._methodName="FieldValue.arrayUnion",new Ue(ce)}static arrayRemove(...z){const ce=(0,Re.Ab)(...z);return ce._methodName="FieldValue.arrayRemove",new Ue(ce)}static increment(z){const ce=(0,Re.nP)(z);return ce._methodName="FieldValue.increment",new Ue(ce)}isEqual(z){return this._delegate.isEqual(z._delegate)}}const Zt={Firestore:yn,GeoPoint:Re.F8,Timestamp:Re.EK,Blob:qe,Transaction:Tt,WriteBatch:Pt,DocumentReference:kt,DocumentSnapshot:an,Query:Je,QueryDocumentSnapshot:Vt,QuerySnapshot:ht,CollectionReference:En,FieldPath:mn,FieldValue:Ue,setLogLevel:function Ft(Ee){(0,Re.Ub)(Ee)},CACHE_SIZE_UNLIMITED:Re.IX};!function Ht(Ee){(function yt(Ee,z){Ee.INTERNAL.registerComponent(new Se.wA("firestore-compat",ce=>{const nt=ce.getProvider("app-compat").getImmediate(),Qt=ce.getProvider("firestore").getImmediate();return z(nt,Qt)},"PUBLIC").setServiceProps(Object.assign({},Zt)))})(Ee,(z,ce)=>new yn(z,ce,new bn)),Ee.registerVersion("@firebase/firestore-compat","0.3.10")}(tt.Z);var xe=D(1205),ct=D(6217),bt=D(9260);function Zn(Ee,z){return function rn(Ee,z=A.z){return new g.y(ce=>{let nt;return null!=z?z.schedule(()=>{nt=Ee.onSnapshot({includeMetadataChanges:!0},ce)}):nt=Ee.onSnapshot({includeMetadataChanges:!0},ce),()=>{nt?.()}})}(Ee,z)}function Qn(Ee,z){return Zn(Ee,z).pipe((0,ae.U)(ce=>({payload:ce,type:"query"})))}function Ii(Ee,z){return Qn(Ee,z).pipe((0,Oe.O)(void 0),ie(),(0,ae.U)(([ce,nt])=>{const Qt=nt.payload.docChanges(),Gn=Qt.map(gi=>({type:gi.type,payload:gi}));return ce&&JSON.stringify(ce.payload.metadata)!==JSON.stringify(nt.payload.metadata)&&nt.payload.docs.forEach((gi,Le)=>{const Ne=Qt.find($t=>$t.doc.ref.isEqual(gi.ref)),He=ce?.payload.docs.find($t=>$t.ref.isEqual(gi.ref));Ne&&JSON.stringify(Ne.doc.metadata)===JSON.stringify(gi.metadata)||!Ne&&He&&JSON.stringify(He.metadata)===JSON.stringify(gi.metadata)||Gn.push({type:"modified",payload:{oldIndex:Le,newIndex:Le,type:"modified",doc:gi}})}),Gn}))}function _i(Ee,z,ce){return Ii(Ee,ce).pipe((0,re.R)((nt,Qt)=>function di(Ee,z,ce){return z.forEach(nt=>{ce.indexOf(nt.type)>-1&&(Ee=function Ln(Ee,z){switch(z.type){case"added":if(!Ee[z.newIndex]||!Ee[z.newIndex].doc.ref.isEqual(z.doc.ref))return Dn(Ee,z.newIndex,0,z);break;case"modified":if(null==Ee[z.oldIndex]||Ee[z.oldIndex].doc.ref.isEqual(z.doc.ref)){if(z.oldIndex!==z.newIndex){const ce=Ee.slice();return ce.splice(z.oldIndex,1),ce.splice(z.newIndex,0,z),ce}return Dn(Ee,z.newIndex,1,z)}break;case"removed":if(Ee[z.oldIndex]&&Ee[z.oldIndex].doc.ref.isEqual(z.doc.ref))return Dn(Ee,z.oldIndex,1)}return Ee}(Ee,nt))}),Ee}(nt,Qt.map(Gn=>Gn.payload),z),[]),(0,Ae.x)(),(0,ae.U)(nt=>nt.map(Qt=>({type:Qt.type,payload:Qt}))))}function Dn(Ee,z,ce,...nt){const Qt=Ee.slice();return Qt.splice(z,ce,...nt),Qt}function Fi(Ee){return(!Ee||0===Ee.length)&&(Ee=["added","removed","modified"]),Ee}class Dt{constructor(z,ce,nt){this.ref=z,this.query=ce,this.afs=nt}stateChanges(z){let ce=Ii(this.query,this.afs.schedulers.outsideAngular);return z&&z.length>0&&(ce=ce.pipe((0,ae.U)(nt=>nt.filter(Qt=>z.indexOf(Qt.type)>-1)))),ce.pipe((0,Oe.O)(void 0),ie(),(0,Ve.h)(([nt,Qt])=>Qt.length>0||!nt),(0,ae.U)(([nt,Qt])=>Qt),Te.iC)}auditTrail(z){return this.stateChanges(z).pipe((0,re.R)((ce,nt)=>[...ce,...nt],[]))}snapshotChanges(z){const ce=Fi(z);return _i(this.query,ce,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(z={}){return Qn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(ce=>ce.payload.docs.map(nt=>z.idField?Object.assign(Object.assign({},nt.data()),{[z.idField]:nt.id}):nt.data())),Te.iC)}get(z){return(0,fe.D)(this.query.get(z)).pipe(Te.iC)}add(z){return this.ref.add(z)}doc(z){return new Tn(this.ref.doc(z),this.afs)}}class Tn{constructor(z,ce){this.ref=z,this.afs=ce}set(z,ce){return this.ref.set(z,ce)}update(z){return this.ref.update(z)}delete(){return this.ref.delete()}collection(z,ce){const nt=this.ref.collection(z),{ref:Qt,query:Gn}=kn(nt,ce);return new Dt(Qt,Gn,this.afs)}snapshotChanges(){return function hi(Ee,z){return Zn(Ee,z).pipe((0,Oe.O)(void 0),ie(),(0,ae.U)(([ce,nt])=>nt.exists?ce?.exists?{payload:nt,type:"modified"}:{payload:nt,type:"added"}:{payload:nt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(z={}){return this.snapshotChanges().pipe((0,ae.U)(({payload:ce})=>z.idField?Object.assign(Object.assign({},ce.data()),{[z.idField]:ce.id}):ce.data()))}get(z){return(0,fe.D)(this.ref.get(z)).pipe(Te.iC)}}class Mt{constructor(z,ce){this.query=z,this.afs=ce}stateChanges(z){return z&&0!==z.length?Ii(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(ce=>ce.filter(nt=>z.indexOf(nt.type)>-1)),(0,Ve.h)(ce=>ce.length>0),Te.iC):Ii(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(z){return this.stateChanges(z).pipe((0,re.R)((ce,nt)=>[...ce,...nt],[]))}snapshotChanges(z){const ce=Fi(z);return _i(this.query,ce,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(z={}){return Qn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(nt=>nt.payload.docs.map(Qt=>z.idField?Object.assign({[z.idField]:Qt.id},Qt.data()):Qt.data())),Te.iC)}get(z){return(0,fe.D)(this.query.get(z)).pipe(Te.iC)}}const zt=new c.OlP("angularfire2.enableFirestorePersistence"),$n=new c.OlP("angularfire2.firestore.persistenceSettings"),Rn=new c.OlP("angularfire2.firestore.settings"),Mi=new c.OlP("angularfire2.firestore.use-emulator");function kn(Ee,z=(ce=>ce)){return{query:z(Ee),ref:Ee}}let ti=(()=>{class Ee{constructor(ce,nt,Qt,Gn,gi,Le,Ne,He,$t,Et,ln,Qe,Q,V,k,Z,be){this.schedulers=Ne;const st=(0,Ge.on)(ce,Le,nt),tn=$t;Et&&(0,xe.nw)(st,Le,ln,Q,V,k,Qe,Z),[this.firestore,this.persistenceEnabled$]=(0,Ge.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const In=Le.runOutsideAngular(()=>st.firestore());if(Gn&&In.settings(Gn),tn&&In.useEmulator(...tn),Qt&&!(0,rt.PM)(gi)){const ei=()=>{try{return(0,fe.D)(In.enablePersistence(He||void 0).then(()=>!0,()=>!1))}catch(It){return typeof console<"u"&&console.warn(It),(0,O.of)(!1)}};return[In,Le.runOutsideAngular(ei)]}return[In,(0,O.of)(!1)]},[Gn,tn,Qt])}collection(ce,nt){let Qt;Qt="string"==typeof ce?this.firestore.collection(ce):ce;const{ref:Gn,query:gi}=kn(Qt,nt),Le=this.schedulers.ngZone.run(()=>Gn);return new Dt(Le,gi,this)}collectionGroup(ce,nt){const Qt=nt||(gi=>gi),Gn=this.firestore.collectionGroup(ce);return new Mt(Qt(Gn),this)}doc(ce){let nt;nt="string"==typeof ce?this.firestore.doc(ce):ce;const Qt=this.schedulers.ngZone.run(()=>nt);return new Tn(Qt,this)}createId(){return this.firestore.collection("_").doc().id}}return Ee.\u0275fac=function(ce){return new(ce||Ee)(c.LFG(Ge.Dh),c.LFG(Ge.xv,8),c.LFG(zt,8),c.LFG(Rn,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Te.HU),c.LFG($n,8),c.LFG(Mi,8),c.LFG(xe.zQ,8),c.LFG(xe.Qv,8),c.LFG(xe.L6,8),c.LFG(xe._Q,8),c.LFG(xe.rT,8),c.LFG(xe.lh,8),c.LFG(xe.f7,8),c.LFG(ct.nm,8))},Ee.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"any"}),Ee})(),Lt=(()=>{class Ee{constructor(){bt.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(ce){return{ngModule:Ee,providers:[{provide:zt,useValue:!0},{provide:$n,useValue:ce}]}}}return Ee.\u0275fac=function(ce){return new(ce||Ee)},Ee.\u0275mod=c.oAB({type:Ee}),Ee.\u0275inj=c.cJS({providers:[ti]}),Ee})()},8445:(_n,Ye,D)=>{D.d(Ye,{Q1:()=>Yo,Iu:()=>mi});var c=D(9751),A=D(9646),g=D(8996),fe=D(8372),O=D(4004),Te=D(3900),Oe=D(4976),ue=D(4650),Ie=D(2011),ie=D(3942),ae=D(5861),re=D(6881),Ae=D(2090),Ve=D(4859);const Ge="firebasestorage.googleapis.com",rt="storageBucket";class lt extends Ae.ZR{constructor(_,C,j=0){super(ge(_),`Firebase Storage: ${C} (${ge(_)})`),this.status_=j,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(_){this.status_=_}_codeEquals(_){return ge(_)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(_){this.customData.serverResponse=_,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Se=(()=>{return(v=Se||(Se={})).UNKNOWN="unknown",v.OBJECT_NOT_FOUND="object-not-found",v.BUCKET_NOT_FOUND="bucket-not-found",v.PROJECT_NOT_FOUND="project-not-found",v.QUOTA_EXCEEDED="quota-exceeded",v.UNAUTHENTICATED="unauthenticated",v.UNAUTHORIZED="unauthorized",v.UNAUTHORIZED_APP="unauthorized-app",v.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",v.INVALID_CHECKSUM="invalid-checksum",v.CANCELED="canceled",v.INVALID_EVENT_NAME="invalid-event-name",v.INVALID_URL="invalid-url",v.INVALID_DEFAULT_BUCKET="invalid-default-bucket",v.NO_DEFAULT_BUCKET="no-default-bucket",v.CANNOT_SLICE_BLOB="cannot-slice-blob",v.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",v.NO_DOWNLOAD_URL="no-download-url",v.INVALID_ARGUMENT="invalid-argument",v.INVALID_ARGUMENT_COUNT="invalid-argument-count",v.APP_DELETED="app-deleted",v.INVALID_ROOT_OPERATION="invalid-root-operation",v.INVALID_FORMAT="invalid-format",v.INTERNAL_ERROR="internal-error",v.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Se;var v})();function ge(v){return"storage/"+v}function pe(){return new lt(Se.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function St(){return new lt(Se.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bn(){return new lt(Se.CANCELED,"User canceled the upload/download.")}function Tt(){return new lt(Se.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gt(v){return new lt(Se.INVALID_ARGUMENT,v)}function vt(){return new lt(Se.APP_DELETED,"The Firebase app was deleted.")}function jt(v){return new lt(Se.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function an(v,_){return new lt(Se.INVALID_FORMAT,"String does not match format '"+v+"': "+_)}function Vt(v){throw new lt(Se.INTERNAL_ERROR,"Internal error: "+v)}class Je{constructor(_,C){this.bucket=_,this.path_=C}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const _=encodeURIComponent;return"/b/"+_(this.bucket)+"/o/"+_(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(_,C){let j;try{j=Je.makeFromUrl(_,C)}catch{return new Je(_,"")}if(""===j.path)return j;throw function ui(v){return new lt(Se.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(_)}static makeFromUrl(_,C){let j=null;const _e="([A-Za-z0-9.\\-_]+)",ut=new RegExp("^gs://"+_e+"(/(.*))?$","i");function Xn(Bi){Bi.path_=decodeURIComponent(Bi.path)}const ki=C.replace(/[.]/g,"\\."),fr=[{regex:ut,indices:{bucket:1,path:3},postModify:function dt(Bi){"/"===Bi.path.charAt(Bi.path.length-1)&&(Bi.path_=Bi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ki}/v[A-Za-z0-9_]+/b/${_e}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Xn},{regex:new RegExp(`^https?://${C===Ge?"(?:storage.googleapis.com|storage.cloud.google.com)":C}/${_e}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Xn}];for(let Bi=0;Bi<fr.length;Bi++){const Hr=fr[Bi],Wr=Hr.regex.exec(_);if(Wr){let Rr=Wr[Hr.indices.path];Rr||(Rr=""),j=new Je(Wr[Hr.indices.bucket],Rr),Hr.postModify(j);break}}if(null==j)throw function yn(v){return new lt(Se.INVALID_URL,"Invalid URL '"+v+"'.")}(_);return j}}class wn{constructor(_){this.promise_=Promise.reject(_)}getPromise(){return this.promise_}cancel(_=!1){}}function Zt(v){return"string"==typeof v||v instanceof String}function yt(v){return Ht()&&v instanceof Blob}function Ht(){return typeof Blob<"u"&&!(0,Ae.UG)()}function xe(v,_,C,j){if(j<_)throw gt(`Invalid value for '${v}'. Expected ${_} or greater.`);if(j>C)throw gt(`Invalid value for '${v}'. Expected ${C} or less.`)}function ct(v,_,C){let j=_;return null==C&&(j=`https://${_}`),`${C}://${j}/v0${v}`}function bt(v){const _=encodeURIComponent;let C="?";for(const j in v)v.hasOwnProperty(j)&&(C=C+(_(j)+"=")+_(v[j])+"&");return C=C.slice(0,-1),C}var rn=(()=>{return(v=rn||(rn={}))[v.NO_ERROR=0]="NO_ERROR",v[v.NETWORK_ERROR=1]="NETWORK_ERROR",v[v.ABORT=2]="ABORT",rn;var v})();function Zn(v,_){const C=v>=500&&v<600,_e=-1!==[408,429].indexOf(v),dt=-1!==_.indexOf(v);return C||_e||dt}class hi{constructor(_,C,j,_e,dt,sn,ut,pn,Xn,vi,ki,ir=!0){this.url_=_,this.method_=C,this.headers_=j,this.body_=_e,this.successCodes_=dt,this.additionalRetryCodes_=sn,this.callback_=ut,this.errorCallback_=pn,this.timeout_=Xn,this.progressCallback_=vi,this.connectionFactory_=ki,this.retry=ir,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ar,zi)=>{this.resolve_=ar,this.reject_=zi,this.start_()})}start_(){const C=(j,_e)=>{const dt=this.resolve_,sn=this.reject_,ut=_e.connection;if(_e.wasSuccessCode)try{const pn=this.callback_(ut,ut.getResponse());!function Bt(v){return void 0!==v}(pn)?dt():dt(pn)}catch(pn){sn(pn)}else if(null!==ut){const pn=pe();pn.serverResponse=ut.getErrorText(),sn(this.errorCallback_?this.errorCallback_(ut,pn):pn)}else sn(_e.canceled?this.appDelete_?vt():bn():St())};this.canceled_?C(0,new Qn(!1,null,!0)):this.backoffId_=function ht(v,_,C){let j=1,_e=null,dt=null,sn=!1,ut=0;function pn(){return 2===ut}let Xn=!1;function vi(...lr){Xn||(Xn=!0,_.apply(null,lr))}function ki(lr){_e=setTimeout(()=>{_e=null,v(ar,pn())},lr)}function ir(){dt&&clearTimeout(dt)}function ar(lr,...as){if(Xn)return void ir();if(lr)return ir(),void vi.call(null,lr,...as);if(pn()||sn)return ir(),void vi.call(null,lr,...as);let fr;j<64&&(j*=2),1===ut?(ut=2,fr=0):fr=1e3*(j+Math.random()),ki(fr)}let zi=!1;function co(lr){zi||(zi=!0,ir(),!Xn&&(null!==_e?(lr||(ut=2),clearTimeout(_e),ki(0)):lr||(ut=1)))}return ki(0),dt=setTimeout(()=>{sn=!0,co(!0)},C),co}((j,_e)=>{if(_e)return void j(!1,new Qn(!1,null,!0));const dt=this.connectionFactory_();this.pendingConnection_=dt;const sn=ut=>{null!==this.progressCallback_&&this.progressCallback_(ut.loaded,ut.lengthComputable?ut.total:-1)};null!==this.progressCallback_&&dt.addUploadProgressListener(sn),dt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&dt.removeUploadProgressListener(sn),this.pendingConnection_=null;const ut=dt.getErrorCode()===rn.NO_ERROR,pn=dt.getStatus();if(!ut||Zn(pn,this.additionalRetryCodes_)&&this.retry){const vi=dt.getErrorCode()===rn.ABORT;return void j(!1,new Qn(!1,null,vi))}const Xn=-1!==this.successCodes_.indexOf(pn);j(!0,new Qn(Xn,dt))})},C,this.timeout_)}getPromise(){return this.promise_}cancel(_){this.canceled_=!0,this.appDelete_=_||!1,null!==this.backoffId_&&function En(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Qn{constructor(_,C,j){this.wasSuccessCode=_,this.connection=C,this.canceled=!!j}}function Dt(...v){const _=function Fi(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==_){const C=new _;for(let j=0;j<v.length;j++)C.append(v[j]);return C.getBlob()}if(Ht())return new Blob(v);throw new lt(Se.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const zt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $n{constructor(_,C){this.data=_,this.contentType=C||null}}function Rn(v,_){switch(v){case zt.RAW:return new $n(Mi(_));case zt.BASE64:case zt.BASE64URL:return new $n(ti(v,_));case zt.DATA_URL:return new $n(function Ee(v){const _=new Lt(v);return _.base64?ti(zt.BASE64,_.rest):function kn(v){let _;try{_=decodeURIComponent(v)}catch{throw an(zt.DATA_URL,"Malformed data URL.")}return Mi(_)}(_.rest)}(_),function z(v){return new Lt(v).contentType}(_))}throw pe()}function Mi(v){const _=[];for(let C=0;C<v.length;C++){let j=v.charCodeAt(C);j<=127?_.push(j):j<=2047?_.push(192|j>>6,128|63&j):55296==(64512&j)?C<v.length-1&&56320==(64512&v.charCodeAt(C+1))?(j=65536|(1023&j)<<10|1023&v.charCodeAt(++C),_.push(240|j>>18,128|j>>12&63,128|j>>6&63,128|63&j)):_.push(239,191,189):56320==(64512&j)?_.push(239,191,189):_.push(224|j>>12,128|j>>6&63,128|63&j)}return new Uint8Array(_)}function ti(v,_){switch(v){case zt.BASE64:{const _e=-1!==_.indexOf("-"),dt=-1!==_.indexOf("_");if(_e||dt)throw an(v,"Invalid character '"+(_e?"-":"_")+"' found: is it base64url encoded?");break}case zt.BASE64URL:{const _e=-1!==_.indexOf("+"),dt=-1!==_.indexOf("/");if(_e||dt)throw an(v,"Invalid character '"+(_e?"+":"/")+"' found: is it base64 encoded?");_=_.replace(/-/g,"+").replace(/_/g,"/");break}}let C;try{C=function Mt(v){if(typeof atob>"u")throw function kt(v){return new lt(Se.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(_)}catch(_e){throw _e.message.includes("polyfill")?_e:an(v,"Invalid character found")}const j=new Uint8Array(C.length);for(let _e=0;_e<C.length;_e++)j[_e]=C.charCodeAt(_e);return j}class Lt{constructor(_){this.base64=!1,this.contentType=null;const C=_.match(/^data:([^,]+)?,/);if(null===C)throw an(zt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const j=C[1]||null;null!=j&&(this.base64=function ce(v,_){return v.length>=_.length&&v.substring(v.length-_.length)===_}(j,";base64"),this.contentType=this.base64?j.substring(0,j.length-7):j),this.rest=_.substring(_.indexOf(",")+1)}}class nt{constructor(_,C){let j=0,_e="";yt(_)?(this.data_=_,j=_.size,_e=_.type):_ instanceof ArrayBuffer?(C?this.data_=new Uint8Array(_):(this.data_=new Uint8Array(_.byteLength),this.data_.set(new Uint8Array(_))),j=this.data_.length):_ instanceof Uint8Array&&(C?this.data_=_:(this.data_=new Uint8Array(_.length),this.data_.set(_)),j=_.length),this.size_=j,this.type_=_e}size(){return this.size_}type(){return this.type_}slice(_,C){if(yt(this.data_)){const _e=function Tn(v,_,C){return v.webkitSlice?v.webkitSlice(_,C):v.mozSlice?v.mozSlice(_,C):v.slice?v.slice(_,C):null}(this.data_,_,C);return null===_e?null:new nt(_e)}{const j=new Uint8Array(this.data_.buffer,_,C-_);return new nt(j,!0)}}static getBlob(..._){if(Ht()){const C=_.map(j=>j instanceof nt?j.data_:j);return new nt(Dt.apply(null,C))}{const C=_.map(sn=>Zt(sn)?Rn(zt.RAW,sn).data:sn.data_);let j=0;C.forEach(sn=>{j+=sn.byteLength});const _e=new Uint8Array(j);let dt=0;return C.forEach(sn=>{for(let ut=0;ut<sn.length;ut++)_e[dt++]=sn[ut]}),new nt(_e,!0)}}uploadData(){return this.data_}}function Qt(v){let _;try{_=JSON.parse(v)}catch{return null}return function Ue(v){return"object"==typeof v&&!Array.isArray(v)}(_)?_:null}function Le(v){const _=v.lastIndexOf("/",v.length-2);return-1===_?v:v.slice(_+1)}function Ne(v,_){return _}class He{constructor(_,C,j,_e){this.server=_,this.local=C||_,this.writable=!!j,this.xform=_e||Ne}}let $t=null;function ln(){if($t)return $t;const v=[];v.push(new He("bucket")),v.push(new He("generation")),v.push(new He("metageneration")),v.push(new He("name","fullPath",!0));const C=new He("name");C.xform=function _(dt,sn){return function Et(v){return!Zt(v)||v.length<2?v:Le(v)}(sn)},v.push(C);const _e=new He("size");return _e.xform=function j(dt,sn){return void 0!==sn?Number(sn):sn},v.push(_e),v.push(new He("timeCreated")),v.push(new He("updated")),v.push(new He("md5Hash",null,!0)),v.push(new He("cacheControl",null,!0)),v.push(new He("contentDisposition",null,!0)),v.push(new He("contentEncoding",null,!0)),v.push(new He("contentLanguage",null,!0)),v.push(new He("contentType",null,!0)),v.push(new He("metadata","customMetadata",!0)),$t=v,$t}function V(v,_,C){const j=Qt(_);return null===j?null:function Q(v,_,C){const j={type:"file"},_e=C.length;for(let dt=0;dt<_e;dt++){const sn=C[dt];j[sn.local]=sn.xform(j,_[sn.server])}return function Qe(v,_){Object.defineProperty(v,"ref",{get:function C(){const dt=new Je(v.bucket,v.fullPath);return _._makeStorageReference(dt)}})}(j,v),j}(v,j,C)}function Z(v,_){const C={},j=_.length;for(let _e=0;_e<j;_e++){const dt=_[_e];dt.writable&&(C[dt.server]=v[dt.local])}return JSON.stringify(C)}const be="prefixes",st="items";class ei{constructor(_,C,j,_e){this.url=_,this.method=C,this.handler=j,this.timeout=_e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function It(v){if(!v)throw pe()}function Ot(v,_){return function C(j,_e){const dt=V(v,_e,_);return It(null!==dt),dt}}function Wn(v){return function _(C,j){let _e;return _e=401===C.getStatus()?C.getErrorText().includes("Firebase App Check token is invalid")?function qe(){return new lt(Se.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Rt(){return new lt(Se.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===C.getStatus()?function _t(v){return new lt(Se.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===C.getStatus()?function un(v){return new lt(Se.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):j,_e.status=C.getStatus(),_e.serverResponse=j.serverResponse,_e}}function li(v){const _=Wn(v);return function C(j,_e){let dt=_(j,_e);return 404===j.getStatus()&&(dt=function Ke(v){return new lt(Se.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),dt.serverResponse=_e.serverResponse,dt}}function zn(v,_,C){const _e=ct(_.fullServerUrl(),v.host,v._protocol),sn=v.maxOperationRetryTime,ut=new ei(_e,"GET",Ot(v,C),sn);return ut.errorHandler=li(_),ut}function ft(v,_,C,j,_e){const dt={};dt.prefix=_.isRoot?"":_.path+"/",C&&C.length>0&&(dt.delimiter=C),j&&(dt.pageToken=j),_e&&(dt.maxResults=_e);const ut=ct(_.bucketOnlyServerUrl(),v.host,v._protocol),Xn=v.maxOperationRetryTime,vi=new ei(ut,"GET",function dn(v,_){return function C(j,_e){const dt=function In(v,_,C){const j=Qt(C);return null===j?null:function tn(v,_,C){const j={prefixes:[],items:[],nextPageToken:C.nextPageToken};if(C[be])for(const _e of C[be]){const dt=_e.replace(/\/$/,""),sn=v._makeStorageReference(new Je(_,dt));j.prefixes.push(sn)}if(C[st])for(const _e of C[st]){const dt=v._makeStorageReference(new Je(_,_e.name));j.items.push(dt)}return j}(v,_,j)}(v,_,_e);return It(null!==dt),dt}}(v,_.bucket),Xn);return vi.urlParams=dt,vi.errorHandler=Wn(_),vi}function ze(v,_,C){const j=Object.assign({},C);return j.fullPath=v.path,j.size=_.size(),j.contentType||(j.contentType=function Nt(v,_){return v&&v.contentType||_&&_.type()||"application/octet-stream"}(null,_)),j}class te{constructor(_,C,j,_e){this.current=_,this.total=C,this.finalized=!!j,this.metadata=_e||null}}function De(v,_){let C=null;try{C=v.getResponseHeader("X-Goog-Upload-Status")}catch{It(!1)}return It(!!C&&-1!==(_||["active"]).indexOf(C)),C}const On={STATE_CHANGED:"state_changed"},Nn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Si(v){switch(v){case"running":case"pausing":case"canceling":return Nn.RUNNING;case"paused":return Nn.PAUSED;case"success":return Nn.SUCCESS;case"canceled":return Nn.CANCELED;default:return Nn.ERROR}}class Er{constructor(_,C,j){if(function mn(v){return"function"==typeof v}(_)||null!=C||null!=j)this.next=_,this.error=C??void 0,this.complete=j??void 0;else{const dt=_;this.next=dt.next,this.error=dt.error,this.complete=dt.complete}}}function Yn(v){return(..._)=>{Promise.resolve().then(()=>v(..._))}}let Mr=null;class dr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rn.NO_ERROR,this.sendPromise_=new Promise(_=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rn.ABORT,_()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rn.NETWORK_ERROR,_()}),this.xhr_.addEventListener("load",()=>{_()})})}send(_,C,j,_e){if(this.sent_)throw Vt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(C,_,!0),void 0!==_e)for(const dt in _e)_e.hasOwnProperty(dt)&&this.xhr_.setRequestHeader(dt,_e[dt].toString());return void 0!==j?this.xhr_.send(j):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(_){return this.xhr_.getResponseHeader(_)}addUploadProgressListener(_){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",_)}removeUploadProgressListener(_){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",_)}}class zr extends dr{initXhr(){this.xhr_.responseType="text"}}function hr(){return Mr?Mr():new zr}class So{constructor(_,C,j=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=_,this._blob=C,this._metadata=j,this._mappings=ln(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=_e=>{if(this._request=void 0,this._chunkMultiplier=1,_e._codeEquals(Se.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const dt=this.isExponentialBackoffExpired();if(Zn(_e.status,[])){if(!dt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();_e=St()}this._error=_e,this._transition("error")}},this._metadataErrorHandler=_e=>{this._request=void 0,_e._codeEquals(Se.CANCELED)?this.completeTransitions_():(this._error=_e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((_e,dt)=>{this._resolve=_e,this._reject=dt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const _=this._transferred;return C=>this._updateProgress(_+C)}_shouldDoResumable(_){return _.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(_){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([C,j])=>{switch(this._state){case"running":_(C,j);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((_,C)=>{const j=function et(v,_,C,j,_e){const dt=_.bucketOnlyServerUrl(),sn=ze(_,j,_e),ut={name:sn.fullPath},pn=ct(dt,v.host,v._protocol),vi={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${j.size()}`,"X-Goog-Upload-Header-Content-Type":sn.contentType,"Content-Type":"application/json; charset=utf-8"},ki=Z(sn,C),zi=new ei(pn,"POST",function ar(co){let lr;De(co);try{lr=co.getResponseHeader("X-Goog-Upload-URL")}catch{It(!1)}return It(Zt(lr)),lr},v.maxUploadRetryTime);return zi.urlParams=ut,zi.headers=vi,zi.body=ki,zi.errorHandler=Wn(_),zi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_e=this._ref.storage._makeRequest(j,hr,_,C);this._request=_e,_e.getPromise().then(dt=>{this._request=void 0,this._uploadUrl=dt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const _=this._uploadUrl;this._resolveToken((C,j)=>{const _e=function Wt(v,_,C,j){const pn=new ei(C,"POST",function dt(Xn){const vi=De(Xn,["active","final"]);let ki=null;try{ki=Xn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{It(!1)}ki||It(!1);const ir=Number(ki);return It(!isNaN(ir)),new te(ir,j.size(),"final"===vi)},v.maxUploadRetryTime);return pn.headers={"X-Goog-Upload-Command":"query"},pn.errorHandler=Wn(_),pn}(this._ref.storage,this._ref._location,_,this._blob),dt=this._ref.storage._makeRequest(_e,hr,C,j);this._request=dt,dt.getPromise().then(sn=>{this._request=void 0,this._updateProgress(sn.current),this._needToFetchStatus=!1,sn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const _=262144*this._chunkMultiplier,C=new te(this._transferred,this._blob.size()),j=this._uploadUrl;this._resolveToken((_e,dt)=>{let sn;try{sn=function Cn(v,_,C,j,_e,dt,sn,ut){const pn=new te(0,0);if(sn?(pn.current=sn.current,pn.total=sn.total):(pn.current=0,pn.total=j.size()),j.size()!==pn.total)throw function Pt(){return new lt(Se.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Xn=pn.total-pn.current;let vi=Xn;_e>0&&(vi=Math.min(vi,_e));const ki=pn.current;let ar="";ar=0===vi?"finalize":Xn===vi?"upload, finalize":"upload";const zi={"X-Goog-Upload-Command":ar,"X-Goog-Upload-Offset":`${pn.current}`},co=j.slice(ki,ki+vi);if(null===co)throw Tt();const fr=new ei(C,"POST",function lr(Bi,Hr){const Wr=De(Bi,["active","final"]),jo=pn.current+vi,Rr=j.size();let jr;return jr="final"===Wr?Ot(_,dt)(Bi,Hr):null,new te(jo,Rr,"final"===Wr,jr)},_.maxUploadRetryTime);return fr.headers=zi,fr.body=co.uploadData(),fr.progressCallback=ut||null,fr.errorHandler=Wn(v),fr}(this._ref._location,this._ref.storage,j,this._blob,_,this._mappings,C,this._makeProgressCallback())}catch(pn){return this._error=pn,void this._transition("error")}const ut=this._ref.storage._makeRequest(sn,hr,_e,dt,!1);this._request=ut,ut.getPromise().then(pn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(pn.current),pn.finalized?(this._metadata=pn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((_,C)=>{const j=zn(this._ref.storage,this._ref._location,this._mappings),_e=this._ref.storage._makeRequest(j,hr,_,C);this._request=_e,_e.getPromise().then(dt=>{this._request=void 0,this._metadata=dt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((_,C)=>{const j=function we(v,_,C,j,_e){const dt=_.bucketOnlyServerUrl(),sn={"X-Goog-Upload-Protocol":"multipart"},pn=function ut(){let fr="";for(let Bi=0;Bi<2;Bi++)fr+=Math.random().toString().slice(2);return fr}();sn["Content-Type"]="multipart/related; boundary="+pn;const Xn=ze(_,j,_e),vi=Z(Xn,C),ar=nt.getBlob("--"+pn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+vi+"\r\n--"+pn+"\r\nContent-Type: "+Xn.contentType+"\r\n\r\n",j,"\r\n--"+pn+"--");if(null===ar)throw Tt();const zi={name:Xn.fullPath},co=ct(dt,v.host,v._protocol),as=v.maxUploadRetryTime,Gr=new ei(co,"POST",Ot(v,C),as);return Gr.urlParams=zi,Gr.headers=sn,Gr.body=ar.uploadData(),Gr.errorHandler=Wn(_),Gr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_e=this._ref.storage._makeRequest(j,hr,_,C);this._request=_e,_e.getPromise().then(dt=>{this._request=void 0,this._metadata=dt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(_){const C=this._transferred;this._transferred=_,this._transferred!==C&&this._notifyObservers()}_transition(_){if(this._state!==_)switch(_){case"canceling":case"pausing":this._state=_,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const C="paused"===this._state;this._state=_,C&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=_,this._notifyObservers();break;case"canceled":this._error=bn(),this._state=_,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const _=Si(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:_,metadata:this._metadata,task:this,ref:this._ref}}on(_,C,j,_e){const dt=new Er(C||void 0,j||void 0,_e||void 0);return this._addObserver(dt),()=>{this._removeObserver(dt)}}then(_,C){return this._promise.then(_,C)}catch(_){return this.then(null,_)}_addObserver(_){this._observers.push(_),this._notifyObserver(_)}_removeObserver(_){const C=this._observers.indexOf(_);-1!==C&&this._observers.splice(C,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(C=>{this._notifyObserver(C)})}_finishPromise(){if(void 0!==this._resolve){let _=!0;switch(Si(this._state)){case Nn.SUCCESS:Yn(this._resolve.bind(null,this.snapshot))();break;case Nn.CANCELED:case Nn.ERROR:Yn(this._reject.bind(null,this._error))();break;default:_=!1}_&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(_){switch(Si(this._state)){case Nn.RUNNING:case Nn.PAUSED:_.next&&Yn(_.next.bind(_,this.snapshot))();break;case Nn.SUCCESS:_.complete&&Yn(_.complete.bind(_))();break;default:_.error&&Yn(_.error.bind(_,this._error))()}}resume(){const _="paused"===this._state||"pausing"===this._state;return _&&this._transition("running"),_}pause(){const _="running"===this._state;return _&&this._transition("pausing"),_}cancel(){const _="running"===this._state||"pausing"===this._state;return _&&this._transition("canceling"),_}}class qi{constructor(_,C){this._service=_,this._location=C instanceof Je?C:Je.makeFromUrl(C,_.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(_,C){return new qi(_,C)}get root(){const _=new Je(this._location.bucket,"");return this._newRef(this._service,_)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Le(this._location.path)}get storage(){return this._service}get parent(){const _=function Gn(v){if(0===v.length)return null;const _=v.lastIndexOf("/");return-1===_?"":v.slice(0,_)}(this._location.path);if(null===_)return null;const C=new Je(this._location.bucket,_);return new qi(this._service,C)}_throwIfRoot(_){if(""===this._location.path)throw jt(_)}}function nn(v,_,C){return gn.apply(this,arguments)}function gn(){return(gn=(0,ae.Z)(function*(v,_,C){const _e=yield ci(v,{pageToken:C});_.prefixes.push(..._e.prefixes),_.items.push(..._e.items),null!=_e.nextPageToken&&(yield nn(v,_,_e.nextPageToken))})).apply(this,arguments)}function ci(v,_){null!=_&&"number"==typeof _.maxResults&&xe("options.maxResults",1,1e3,_.maxResults);const C=_||{},j=ft(v.storage,v._location,"/",C.pageToken,C.maxResults);return v.storage.makeRequestWithTokens(j,hr)}function Ci(v){v._throwIfRoot("getDownloadURL");const _=function ee(v,_,C){const _e=ct(_.fullServerUrl(),v.host,v._protocol),sn=v.maxOperationRetryTime,ut=new ei(_e,"GET",function Mn(v,_){return function C(j,_e){const dt=V(v,_e,_);return It(null!==dt),function k(v,_,C,j){const _e=Qt(_);if(null===_e||!Zt(_e.downloadTokens))return null;const dt=_e.downloadTokens;if(0===dt.length)return null;const sn=encodeURIComponent;return dt.split(",").map(Xn=>{const ki=v.fullPath;return ct("/b/"+sn(v.bucket)+"/o/"+sn(ki),C,j)+bt({alt:"media",token:Xn})})[0]}(dt,_e,v.host,v._protocol)}}(v,C),sn);return ut.errorHandler=li(_),ut}(v.storage,v._location,ln());return v.storage.makeRequestWithTokens(_,hr).then(C=>{if(null===C)throw function wt(){return new lt(Se.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return C})}function yo(v,_){const C=function gi(v,_){const C=_.split("/").filter(j=>j.length>0).join("/");return 0===v.length?C:v+"/"+C}(v._location.path,_),j=new Je(v._location.bucket,C);return new qi(v.storage,j)}function yr(v,_){if(v instanceof rs){const C=v;if(null==C._bucket)throw function Ft(){return new lt(Se.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rt+"' property when initializing the app?")}();const j=new qi(C,C._bucket);return null!=_?yr(j,_):j}return void 0!==_?yo(v,_):v}function ao(v,_){if(_&&function tr(v){return/^[A-Za-z]+:\/\//.test(v)}(_)){if(v instanceof rs)return function nr(v,_){return new qi(v,_)}(v,_);throw gt("To use ref(service, url), the first argument must be a Storage instance.")}return yr(v,_)}function Mo(v,_){const C=_?.[rt];return null==C?null:Je.makeFromBucketSpec(C,v)}class rs{constructor(_,C,j,_e,dt){this.app=_,this._authProvider=C,this._appCheckProvider=j,this._url=_e,this._firebaseVersion=dt,this._bucket=null,this._host=Ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=_e?Je.makeFromBucketSpec(_e,this._host):Mo(this._host,this.app.options)}get host(){return this._host}set host(_){this._host=_,this._bucket=null!=this._url?Je.makeFromBucketSpec(this._url,_):Mo(_,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(_){xe("time",0,Number.POSITIVE_INFINITY,_),this._maxUploadRetryTime=_}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(_){xe("time",0,Number.POSITIVE_INFINITY,_),this._maxOperationRetryTime=_}_getAuthToken(){var _=this;return(0,ae.Z)(function*(){if(_._overrideAuthToken)return _._overrideAuthToken;const C=_._authProvider.getImmediate({optional:!0});if(C){const j=yield C.getToken();if(null!==j)return j.accessToken}return null})()}_getAppCheckToken(){var _=this;return(0,ae.Z)(function*(){const C=_._appCheckProvider.getImmediate({optional:!0});return C?(yield C.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(_=>_.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(_){return new qi(this,_)}_makeRequest(_,C,j,_e,dt=!0){if(this._deleted)return new wn(vt());{const sn=function Ln(v,_,C,j,_e,dt,sn=!0){const ut=bt(v.urlParams),pn=v.url+ut,Xn=Object.assign({},v.headers);return function di(v,_){_&&(v["X-Firebase-GMPID"]=_)}(Xn,_),function Ii(v,_){null!==_&&_.length>0&&(v.Authorization="Firebase "+_)}(Xn,C),function _i(v,_){v["X-Firebase-Storage-Version"]="webjs/"+(_??"AppManager")}(Xn,dt),function Dn(v,_){null!==_&&(v["X-Firebase-AppCheck"]=_)}(Xn,j),new hi(pn,v.method,Xn,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,_e,sn)}(_,this._appId,j,_e,C,this._firebaseVersion,dt);return this._requests.add(sn),sn.getPromise().then(()=>this._requests.delete(sn),()=>this._requests.delete(sn)),sn}}makeRequestWithTokens(_,C){var j=this;return(0,ae.Z)(function*(){const[_e,dt]=yield Promise.all([j._getAuthToken(),j._getAppCheckToken()]);return j._makeRequest(_,C,_e,dt).getPromise()})()}}const Zo="@firebase/storage";function Us(v,_){return ao(v=(0,Ae.m9)(v),_)}function ss(v,{instanceIdentifier:_}){const C=v.getProvider("app").getImmediate(),j=v.getProvider("auth-internal"),_e=v.getProvider("app-check-internal");return new rs(C,j,_e,_,re.SDK_VERSION)}!function ms(){(0,re._registerComponent)(new Ve.wA("storage",ss,"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Zo,"0.11.2",""),(0,re.registerVersion)(Zo,"0.11.2","esm2017")}();class po{constructor(_,C,j){this._delegate=_,this.task=C,this.ref=j}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ea{constructor(_,C){this._delegate=_,this._ref=C,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new po(this._delegate.snapshot,this,this._ref)}then(_,C){return this._delegate.then(j=>{if(_)return _(new po(j,this,this._ref))},C)}on(_,C,j,_e){let dt;return C&&(dt="function"==typeof C?sn=>C(new po(sn,this,this._ref)):{next:C.next?sn=>C.next(new po(sn,this,this._ref)):void 0,complete:C.complete||void 0,error:C.error||void 0}),this._delegate.on(_,dt,j||void 0,_e||void 0)}}class Ms{constructor(_,C){this._delegate=_,this._service=C}get prefixes(){return this._delegate.prefixes.map(_=>new Xr(_,this._service))}get items(){return this._delegate.items.map(_=>new Xr(_,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xr{constructor(_,C){this._delegate=_,this.storage=C}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(_){const C=function Ir(v,_){return yo(v,_)}(this._delegate,_);return new Xr(C,this.storage)}get root(){return new Xr(this._delegate.root,this.storage)}get parent(){const _=this._delegate.parent;return null==_?null:new Xr(_,this.storage)}put(_,C){return this._throwIfRoot("put"),new ea(function Ia(v,_,C){return function mt(v,_,C){return v._throwIfRoot("uploadBytesResumable"),new So(v,new nt(_),C)}(v=(0,Ae.m9)(v),_,C)}(this._delegate,_,C),this)}putString(_,C=zt.RAW,j){this._throwIfRoot("putString");const _e=Rn(C,_),dt=Object.assign({},j);return null==dt.contentType&&null!=_e.contentType&&(dt.contentType=_e.contentType),new ea(new So(this._delegate,new nt(_e.data,!0),dt),this)}listAll(){return function ps(v){return function Ut(v){const _={prefixes:[],items:[]};return nn(v,_).then(()=>_)}(v=(0,Ae.m9)(v))}(this._delegate).then(_=>new Ms(_,this.storage))}list(_){return function Uo(v,_){return ci(v=(0,Ae.m9)(v),_)}(this._delegate,_||void 0).then(C=>new Ms(C,this.storage))}getMetadata(){return function Bo(v){return function yi(v){v._throwIfRoot("getMetadata");const _=zn(v.storage,v._location,ln());return v.storage.makeRequestWithTokens(_,hr)}(v=(0,Ae.m9)(v))}(this._delegate)}updateMetadata(_){return function Ur(v,_){return function fi(v,_){v._throwIfRoot("updateMetadata");const C=function Ce(v,_,C,j){const dt=ct(_.fullServerUrl(),v.host,v._protocol),ut=Z(C,j),Xn=v.maxOperationRetryTime,vi=new ei(dt,"PATCH",Ot(v,j),Xn);return vi.headers={"Content-Type":"application/json; charset=utf-8"},vi.body=ut,vi.errorHandler=li(_),vi}(v.storage,v._location,_,ln());return v.storage.makeRequestWithTokens(C,hr)}(v=(0,Ae.m9)(v),_)}(this._delegate,_)}getDownloadURL(){return function Vo(v){return Ci(v=(0,Ae.m9)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Js(v){return function wr(v){v._throwIfRoot("deleteObject");const _=function ot(v,_){const j=ct(_.fullServerUrl(),v.host,v._protocol),ut=new ei(j,"DELETE",function sn(pn,Xn){},v.maxOperationRetryTime);return ut.successCodes=[200,204],ut.errorHandler=li(_),ut}(v.storage,v._location);return v.storage.makeRequestWithTokens(_,hr)}(v=(0,Ae.m9)(v))}(this._delegate)}_throwIfRoot(_){if(""===this._delegate._location.path)throw jt(_)}}class Jr{constructor(_,C){this.app=_,this._delegate=C}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(_){if(Ar(_))throw gt("ref() expected a child path but got a URL, use refFromURL instead.");return new Xr(Us(this._delegate,_),this)}refFromURL(_){if(!Ar(_))throw gt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Je.makeFromUrl(_,this._delegate.host)}catch{throw gt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xr(Us(this._delegate,_),this)}setMaxUploadRetryTime(_){this._delegate.maxUploadRetryTime=_}setMaxOperationRetryTime(_){this._delegate.maxOperationRetryTime=_}useEmulator(_,C,j={}){!function lo(v,_,C,j={}){!function Yr(v,_,C,j={}){v.host=`${_}:${C}`,v._protocol="http";const{mockUserToken:_e}=j;_e&&(v._overrideAuthToken="string"==typeof _e?_e:(0,Ae.Sg)(_e,v.app.options.projectId))}(v,_,C,j)}(this._delegate,_,C,j)}}function Ar(v){return/^[A-Za-z]+:\/\//.test(v)}function Cr(v,{instanceIdentifier:_}){const C=v.getProvider("app-compat").getImmediate(),j=v.getProvider("storage").getImmediate({identifier:_});return new Jr(C,j)}!function Ro(v){const _={TaskState:Nn,TaskEvent:On,StringFormat:zt,Storage:Jr,Reference:Xr};v.INTERNAL.registerComponent(new Ve.wA("storage-compat",Cr,"PUBLIC").setServiceProps(_).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.2")}(ie.Z);var Di=D(6217);function Nr(v){const _=function Hs(v){return new c.y(_=>{const C=sn=>_.next(sn);C(v.snapshot);const dt=v.on("state_changed",C);return v.then(sn=>{C(sn),_.complete()},sn=>{C(v.snapshot),(sn=>{_.error(sn)})(sn)}),function(){dt()}}).pipe((0,fe.b)(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>_,percentageChanges:()=>_.pipe((0,O.U)(C=>C.bytesTransferred/C.totalBytes*100))}}function br(v){return{getDownloadURL:()=>(0,A.of)(void 0).pipe(Oe.fc,(0,Te.w)(()=>v.getDownloadURL()),Oe.iC),getMetadata:()=>(0,A.of)(void 0).pipe(Oe.fc,(0,Te.w)(()=>v.getMetadata()),Oe.iC),delete:()=>(0,g.D)(v.delete()),child:_=>br(v.child(_)),updateMetadata:_=>(0,g.D)(v.updateMetadata(_)),put:(_,C)=>Nr(v.put(_,C)),putString:(_,C,j)=>Nr(v.putString(_,C,j)),list:_=>(0,g.D)(v.list(_)),listAll:()=>(0,g.D)(v.listAll())}}D(9260);const As=new ue.OlP("angularfire2.storageBucket"),mo=new ue.OlP("angularfire2.storage.maxUploadRetryTime"),Ho=new ue.OlP("angularfire2.storage.maxOperationRetryTime"),mr=new ue.OlP("angularfire2.storage.use-emulator");let Yo=(()=>{class v{constructor(C,j,_e,dt,sn,ut,pn,Xn,vi,ki){const ir=(0,Ie.on)(C,sn,j);this.storage=(0,Ie.cc)(`${ir.name}.storage.${_e}`,"AngularFireStorage",ir.name,()=>{const ar=sn.runOutsideAngular(()=>ir.storage(_e||void 0)),zi=vi;return zi&&ar.useEmulator(...zi),pn&&ar.setMaxUploadRetryTime(pn),Xn&&ar.setMaxOperationRetryTime(Xn),ar},[pn,Xn])}ref(C){return br(this.storage.ref(C))}refFromURL(C){return br(this.storage.refFromURL(C))}upload(C,j,_e){return br(this.storage.ref(C)).put(j,_e)}}return v.\u0275fac=function(C){return new(C||v)(ue.LFG(Ie.Dh),ue.LFG(Ie.xv,8),ue.LFG(As,8),ue.LFG(ue.Lbi),ue.LFG(ue.R0b),ue.LFG(Oe.HU),ue.LFG(mo,8),ue.LFG(Ho,8),ue.LFG(mr,8),ue.LFG(Di.nm,8))},v.\u0275prov=ue.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),mi=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=ue.oAB({type:v}),v.\u0275inj=ue.cJS({}),v})()},2011:(_n,Ye,D)=>{D.d(Ye,{Dh:()=>ue,GT:()=>Te,cc:()=>Ve,hO:()=>Ae,on:()=>ie,pX:()=>O,xv:()=>Ie});var c=D(4650),A=D(9260),g=D(4976);_n=D.hmd(_n);const fe=["ngOnDestroy"],O=(tt,Re,lt,Se={})=>new Proxy(tt,{get:(ge,pe)=>lt.runOutsideAngular(()=>{var Ke;if(tt[pe])return!(null===(Ke=Se?.spy)||void 0===Ke)&&Ke.get&&Se.spy.get(pe,tt[pe]),tt[pe];if(fe.indexOf(pe)>-1)return()=>{};const _t=Re.toPromise().then(Rt=>{const qe=Rt&&Rt[pe];return"function"==typeof qe?qe.bind(Rt):qe&&qe.then?qe.then(un=>lt.run(()=>un)):lt.run(()=>qe)});return new Proxy(()=>{},{get:(Rt,qe)=>_t[qe],apply:(Rt,qe,un)=>_t.then(St=>{var bn;const yn=St&&St(...un);return!(null===(bn=Se?.spy)||void 0===bn)&&bn.apply&&Se.spy.apply(pe,un,yn),yn})})})}),Te=(tt,Re)=>{Re.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(Se=>{Object.defineProperty(tt.prototype,Se,Object.getOwnPropertyDescriptor(lt.prototype||lt,Se))})})};class Oe{constructor(Re){return Re}}const ue=new c.OlP("angularfire2.app.options"),Ie=new c.OlP("angularfire2.app.name");function ie(tt,Re,lt){const ge="object"==typeof lt&&lt||{};ge.name=ge.name||"string"==typeof lt&&lt||"[DEFAULT]";const Ke=A.Z.apps.filter(_t=>_t&&_t.name===ge.name)[0]||Re.runOutsideAngular(()=>A.Z.initializeApp(tt,ge));try{JSON.stringify(tt)!==JSON.stringify(Ke.options)&&ae("error",`${Ke.name} Firebase App already initialized with different options${_n.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Oe(Ke)}const ae=(tt,...Re)=>{(0,c.X6Q)()&&typeof console<"u"&&console[tt](...Re)},re={provide:Oe,useFactory:ie,deps:[ue,c.R0b,[new c.FiY,Ie]]};let Ae=(()=>{class tt{constructor(lt){A.Z.registerVersion("angularfire",g.q4.full,"core"),A.Z.registerVersion("angularfire",g.q4.full,"app-compat"),A.Z.registerVersion("angular",c.q4F.full,lt.toString())}static initializeApp(lt,Se){return{ngModule:tt,providers:[{provide:ue,useValue:lt},{provide:Ie,useValue:Se}]}}}return tt.\u0275fac=function(lt){return new(lt||tt)(c.LFG(c.Lbi))},tt.\u0275mod=c.oAB({type:tt}),tt.\u0275inj=c.cJS({providers:[re]}),tt})();function Ve(tt,Re,lt,Se,ge){const[,pe,Ke]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===tt)||[];if(pe)return function Ge(tt,Re){try{return tt.toString()===Re.toString()}catch{return tt===Re}}(ge,Ke)||(Fe("error",`${Re} was already initialized on the ${lt} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:ge,was:Ke})),pe;{const _t=Se();return globalThis.\u0275AngularfireInstanceCache.push([tt,_t,ge]),_t}}const rt=!!_n.hot,Fe=(tt,...Re)=>{(0,c.X6Q)()&&typeof console<"u"&&console[tt](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(_n,Ye,D)=>{D.d(Ye,{q4:()=>Ol,iC:()=>lu,fc:()=>au,HU:()=>ca,vb:()=>Tc,JM:()=>Nl});var c=D(4650),A=D(259),g=D(5861),fe=D(6881),O=D(2090),Te=D(4859),Oe=D(1877);const ue=(M,B)=>B.some(q=>M instanceof q);let Ie,ie;const Ae=new WeakMap,Ve=new WeakMap,Ge=new WeakMap,rt=new WeakMap,Fe=new WeakMap;let lt={get(M,B,q){if(M instanceof IDBTransaction){if("done"===B)return Ve.get(M);if("objectStoreNames"===B)return M.objectStoreNames||Ge.get(M);if("store"===B)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return Ke(M[B])},set:(M,B,q)=>(M[B]=q,!0),has:(M,B)=>M instanceof IDBTransaction&&("done"===B||"store"===B)||B in M};function pe(M){return"function"==typeof M?function ge(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...B){return M.apply(_t(this),B),Ke(Ae.get(this))}:function(...B){return Ke(M.apply(_t(this),B))}:function(B,...q){const Pe=M.call(_t(this),B,...q);return Ge.set(Pe,B.sort?B.sort():[B]),Ke(Pe)}}(M):(M instanceof IDBTransaction&&function Re(M){if(Ve.has(M))return;const B=new Promise((q,Pe)=>{const We=()=>{M.removeEventListener("complete",pt),M.removeEventListener("error",Xt),M.removeEventListener("abort",Xt)},pt=()=>{q(),We()},Xt=()=>{Pe(M.error||new DOMException("AbortError","AbortError")),We()};M.addEventListener("complete",pt),M.addEventListener("error",Xt),M.addEventListener("abort",Xt)});Ve.set(M,B)}(M),ue(M,function ae(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,lt):M)}function Ke(M){if(M instanceof IDBRequest)return function tt(M){const B=new Promise((q,Pe)=>{const We=()=>{M.removeEventListener("success",pt),M.removeEventListener("error",Xt)},pt=()=>{q(Ke(M.result)),We()},Xt=()=>{Pe(M.error),We()};M.addEventListener("success",pt),M.addEventListener("error",Xt)});return B.then(q=>{q instanceof IDBCursor&&Ae.set(q,M)}).catch(()=>{}),Fe.set(B,M),B}(M);if(rt.has(M))return rt.get(M);const B=pe(M);return B!==M&&(rt.set(M,B),Fe.set(B,M)),B}const _t=M=>Fe.get(M),un=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],bn=new Map;function yn(M,B){if(!(M instanceof IDBDatabase)||B in M||"string"!=typeof B)return;if(bn.get(B))return bn.get(B);const q=B.replace(/FromIndex$/,""),Pe=B!==q,We=St.includes(q);if(!(q in(Pe?IDBIndex:IDBObjectStore).prototype)||!We&&!un.includes(q))return;const pt=function(){var Xt=(0,g.Z)(function*(Hn,...Un){const pi=this.transaction(Hn,We?"readwrite":"readonly");let Pi=pi.store;return Pe&&(Pi=Pi.index(Un.shift())),(yield Promise.all([Pi[q](...Un),We&&pi.done]))[0]});return function(Un){return Xt.apply(this,arguments)}}();return bn.set(B,pt),pt}!function Se(M){lt=M(lt)}(M=>({...M,get:(B,q,Pe)=>yn(B,q)||M.get(B,q,Pe),has:(B,q)=>!!yn(B,q)||M.has(B,q)}));const ui="@firebase/installations",Ft="0.6.4",Tt=1e4,Pt=`w:${Ft}`,wt="FIS_v2",kt="https://firebaseinstallations.googleapis.com/v1",gt=36e5,Vt=new O.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(M){return M instanceof O.ZR&&M.code.includes("request-failed")}function wn({projectId:M}){return`${kt}/projects/${M}/installations`}function ht(M){return{token:M.token,requestStatus:2,expiresIn:Ht(M.expiresIn),creationTime:Date.now()}}function En(M,B){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,g.Z)(function*(M,B){const Pe=(yield B.json()).error;return Vt.create("request-failed",{requestName:M,serverCode:Pe.code,serverMessage:Pe.message,serverStatus:Pe.status})})).apply(this,arguments)}function mn({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Zt(M){return yt.apply(this,arguments)}function yt(){return(yt=(0,g.Z)(function*(M){const B=yield M();return B.status>=500&&B.status<600?M():B})).apply(this,arguments)}function Ht(M){return Number(M.replace("s","000"))}function bt(){return(bt=(0,g.Z)(function*({appConfig:M,heartbeatServiceProvider:B},{fid:q}){const Pe=wn(M),We=mn(M),pt=B.getImmediate({optional:!0});if(pt){const pi=yield pt.getHeartbeatsHeader();pi&&We.append("x-firebase-client",pi)}const Hn={method:"POST",headers:We,body:JSON.stringify({fid:q,authVersion:wt,appId:M.appId,sdkVersion:Pt})},Un=yield Zt(()=>fetch(Pe,Hn));if(Un.ok){const pi=yield Un.json();return{fid:pi.fid||q,registrationStatus:2,refreshToken:pi.refreshToken,authToken:ht(pi.authToken)}}throw yield En("Create Installation",Un)})).apply(this,arguments)}function rn(M){return new Promise(B=>{setTimeout(B,M)})}const hi=/^[cdef][\w-]{21}$/,Qn="";function Ii(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const q=function _i(M){return function Zn(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return hi.test(q)?q:Qn}catch{return Qn}}function di(M){return`${M.appName}!${M.appId}`}const Dn=new Map;function Ln(M,B){const q=di(M);Tn(q,B),function Mt(M,B){const q=function $n(){return!zt&&"BroadcastChannel"in self&&(zt=new BroadcastChannel("[Firebase] FID Change"),zt.onmessage=M=>{Tn(M.data.key,M.data.fid)}),zt}();q&&q.postMessage({key:M,fid:B}),function Rn(){0===Dn.size&&zt&&(zt.close(),zt=null)}()}(q,B)}function Tn(M,B){const q=Dn.get(M);if(q)for(const Pe of q)Pe(B)}let zt=null;const Mi="firebase-installations-database",kn=1,ti="firebase-installations-store";let Lt=null;function Ee(){return Lt||(Lt=function Rt(M,B,{blocked:q,upgrade:Pe,blocking:We,terminated:pt}={}){const Xt=indexedDB.open(M,B),Hn=Ke(Xt);return Pe&&Xt.addEventListener("upgradeneeded",Un=>{Pe(Ke(Xt.result),Un.oldVersion,Un.newVersion,Ke(Xt.transaction))}),q&&Xt.addEventListener("blocked",()=>q()),Hn.then(Un=>{pt&&Un.addEventListener("close",()=>pt()),We&&Un.addEventListener("versionchange",()=>We())}).catch(()=>{}),Hn}(Mi,kn,{upgrade:(M,B)=>{0===B&&M.createObjectStore(ti)}})),Lt}function z(M,B){return ce.apply(this,arguments)}function ce(){return(ce=(0,g.Z)(function*(M,B){const q=di(M),We=(yield Ee()).transaction(ti,"readwrite"),pt=We.objectStore(ti),Xt=yield pt.get(q);return yield pt.put(B,q),yield We.done,(!Xt||Xt.fid!==B.fid)&&Ln(M,B.fid),B})).apply(this,arguments)}function nt(M){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,g.Z)(function*(M){const B=di(M),Pe=(yield Ee()).transaction(ti,"readwrite");yield Pe.objectStore(ti).delete(B),yield Pe.done})).apply(this,arguments)}function Gn(M,B){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(M,B){const q=di(M),We=(yield Ee()).transaction(ti,"readwrite"),pt=We.objectStore(ti),Xt=yield pt.get(q),Hn=B(Xt);return void 0===Hn?yield pt.delete(q):yield pt.put(Hn,q),yield We.done,Hn&&(!Xt||Xt.fid!==Hn.fid)&&Ln(M,Hn.fid),Hn})).apply(this,arguments)}function Le(M){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,g.Z)(function*(M){let B;const q=yield Gn(M.appConfig,Pe=>{const We=function He(M){return k(M||{fid:Ii(),registrationStatus:0})}(Pe),pt=function $t(M,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(Vt.create("app-offline"))};const q={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},Pe=function Et(M,B){return ln.apply(this,arguments)}(M,q);return{installationEntry:q,registrationPromise:Pe}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:Qe(M)}:{installationEntry:B}}(M,We);return B=pt.registrationPromise,pt.installationEntry});return q.fid===Qn?{installationEntry:yield B}:{installationEntry:q,registrationPromise:B}}),Ne.apply(this,arguments)}function ln(){return ln=(0,g.Z)(function*(M,B){try{const q=yield function ct(M,B){return bt.apply(this,arguments)}(M,B);return z(M.appConfig,q)}catch(q){throw Je(q)&&409===q.customData.serverCode?yield nt(M.appConfig):yield z(M.appConfig,{fid:B.fid,registrationStatus:0}),q}}),ln.apply(this,arguments)}function Qe(M){return Q.apply(this,arguments)}function Q(){return(Q=(0,g.Z)(function*(M){let B=yield V(M.appConfig);for(;1===B.registrationStatus;)yield rn(100),B=yield V(M.appConfig);if(0===B.registrationStatus){const{installationEntry:q,registrationPromise:Pe}=yield Le(M);return Pe||q}return B})).apply(this,arguments)}function V(M){return Gn(M,B=>{if(!B)throw Vt.create("installation-not-found");return k(B)})}function k(M){return function Z(M){return 1===M.registrationStatus&&M.registrationTime+Tt<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function st(){return(st=(0,g.Z)(function*({appConfig:M,heartbeatServiceProvider:B},q){const Pe=function tn(M,{fid:B}){return`${wn(M)}/${B}/authTokens:generate`}(M,q),We=function Ue(M,{refreshToken:B}){const q=mn(M);return q.append("Authorization",function xe(M){return`${wt} ${M}`}(B)),q}(M,q),pt=B.getImmediate({optional:!0});if(pt){const pi=yield pt.getHeartbeatsHeader();pi&&We.append("x-firebase-client",pi)}const Hn={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:Pt,appId:M.appId}})},Un=yield Zt(()=>fetch(Pe,Hn));if(Un.ok)return ht(yield Un.json());throw yield En("Generate Auth Token",Un)})).apply(this,arguments)}function In(M){return ei.apply(this,arguments)}function ei(){return ei=(0,g.Z)(function*(M,B=!1){let q;const Pe=yield Gn(M.appConfig,pt=>{if(!li(pt))throw Vt.create("not-registered");const Xt=pt.authToken;if(!B&&function zn(M){return 2===M.requestStatus&&!function ft(M){const B=Date.now();return B<M.creationTime||M.creationTime+M.expiresIn<B+gt}(M)}(Xt))return pt;if(1===Xt.requestStatus)return q=function It(M,B){return Ot.apply(this,arguments)}(M,B),pt;{if(!navigator.onLine)throw Vt.create("app-offline");const Hn=function oe(M){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:B})}(pt);return q=function Mn(M,B){return Wn.apply(this,arguments)}(M,Hn),Hn}});return q?yield q:Pe.authToken}),ei.apply(this,arguments)}function Ot(){return(Ot=(0,g.Z)(function*(M,B){let q=yield dn(M.appConfig);for(;1===q.authToken.requestStatus;)yield rn(100),q=yield dn(M.appConfig);const Pe=q.authToken;return 0===Pe.requestStatus?In(M,B):Pe})).apply(this,arguments)}function dn(M){return Gn(M,B=>{if(!li(B))throw Vt.create("not-registered");return function ee(M){return 1===M.requestStatus&&M.requestTime+Tt<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function Wn(){return Wn=(0,g.Z)(function*(M,B){try{const q=yield function be(M,B){return st.apply(this,arguments)}(M,B),Pe=Object.assign(Object.assign({},B),{authToken:q});return yield z(M.appConfig,Pe),q}catch(q){if(!Je(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const Pe=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield z(M.appConfig,Pe)}else yield nt(M.appConfig);throw q}}),Wn.apply(this,arguments)}function li(M){return void 0!==M&&2===M.registrationStatus}function ot(){return(ot=(0,g.Z)(function*(M){const B=M,{installationEntry:q,registrationPromise:Pe}=yield Le(B);return Pe?Pe.catch(console.error):In(B).catch(console.error),q.fid})).apply(this,arguments)}function ze(){return ze=(0,g.Z)(function*(M,B=!1){const q=M;return yield function we(M){return te.apply(this,arguments)}(q),(yield In(q,B)).token}),ze.apply(this,arguments)}function te(){return(te=(0,g.Z)(function*(M){const{registrationPromise:B}=yield Le(M);B&&(yield B)})).apply(this,arguments)}function Er(M){return Vt.create("missing-app-config-values",{valueName:M})}const Yn="installations",dr=M=>{const B=M.getProvider("app").getImmediate(),q=function Si(M){if(!M||!M.options)throw Er("App Configuration");if(!M.name)throw Er("App Name");const B=["projectId","apiKey","appId"];for(const q of B)if(!M.options[q])throw Er(q);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(B);return{app:B,appConfig:q,heartbeatServiceProvider:(0,fe._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},zr=M=>{const B=M.getProvider("app").getImmediate(),q=(0,fe._getProvider)(B,Yn).getImmediate();return{getId:()=>function Ce(M){return ot.apply(this,arguments)}(q),getToken:We=>function Nt(M){return ze.apply(this,arguments)}(q,We)}};(function hr(){(0,fe._registerComponent)(new Te.wA(Yn,dr,"PUBLIC")),(0,fe._registerComponent)(new Te.wA("installations-internal",zr,"PRIVATE"))})(),(0,fe.registerVersion)(ui,Ft),(0,fe.registerVersion)(ui,Ft,"esm2017");const sr="@firebase/remote-config",qi=new O.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yr{constructor(B,q,Pe,We){this.client=B,this.storage=q,this.storageCache=Pe,this.logger=We}isCachedDataFresh(B,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Pe=Date.now()-q,We=Pe<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${We}.`),We}fetch(B){var q=this;return(0,g.Z)(function*(){const[Pe,We]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(We&&q.isCachedDataFresh(B.cacheMaxAgeMillis,Pe))return We;B.eTag=We&&We.eTag;const pt=yield q.client.fetch(B),Xt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pt.status&&Xt.push(q.storage.setLastSuccessfulFetchResponse(pt)),yield Promise.all(Xt),pt})()}}function rs(M=navigator){return M.languages&&M.languages[0]||M.language}class Zo{constructor(B,q,Pe,We,pt,Xt){this.firebaseInstallations=B,this.sdkVersion=q,this.namespace=Pe,this.projectId=We,this.apiKey=pt,this.appId=Xt}fetch(B){var q=this;return(0,g.Z)(function*(){const[Pe,We]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),Xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,Hn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},Un={sdk_version:q.sdkVersion,app_instance_id:Pe,app_instance_id_token:We,app_id:q.appId,language_code:rs()},pi={method:"POST",headers:Hn,body:JSON.stringify(Un)},Pi=fetch(Xt,pi),Ni=new Promise((ua,wa)=>{B.signal.addEventListener(()=>{const nc=new Error("The operation was aborted.");nc.name="AbortError",wa(nc)})});let qs;try{yield Promise.race([Pi,Ni]),qs=yield Pi}catch(ua){let wa="fetch-client-network";throw"AbortError"===ua?.name&&(wa="fetch-timeout"),qi.create(wa,{originalErrorMessage:ua?.message})}let Io=qs.status;const Bl=qs.headers.get("ETag")||void 0;let Sc,_l;if(200===qs.status){let ua;try{ua=yield qs.json()}catch(wa){throw qi.create("fetch-client-parse",{originalErrorMessage:wa?.message})}Sc=ua.entries,_l=ua.state}if("INSTANCE_STATE_UNSPECIFIED"===_l?Io=500:"NO_CHANGE"===_l?Io=304:("NO_TEMPLATE"===_l||"EMPTY_CONFIG"===_l)&&(Sc={}),304!==Io&&200!==Io)throw qi.create("fetch-status",{httpStatus:Io});return{status:Io,eTag:Bl,config:Sc}})()}}class ma{constructor(B,q){this.client=B,this.storage=q}fetch(B){var q=this;return(0,g.Z)(function*(){const Pe=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(B,Pe)})()}attemptFetch(B,{throttleEndTimeMillis:q,backoffCount:Pe}){var We=this;return(0,g.Z)(function*(){yield function Xs(M,B){return new Promise((q,Pe)=>{const We=Math.max(B-Date.now(),0),pt=setTimeout(q,We);M.addEventListener(()=>{clearTimeout(pt),Pe(qi.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,q);try{const pt=yield We.client.fetch(B);return yield We.storage.deleteThrottleMetadata(),pt}catch(pt){if(!function ds(M){if(!(M instanceof O.ZR&&M.customData))return!1;const B=Number(M.customData.httpStatus);return 429===B||500===B||503===B||504===B}(pt))throw pt;const Xt={throttleEndTimeMillis:Date.now()+(0,O.$s)(Pe),backoffCount:Pe+1};return yield We.storage.setThrottleMetadata(Xt),We.attemptFetch(B,Xt)}})()}}class Ia{constructor(B,q,Pe,We,pt){this.app=B,this._client=q,this._storageCache=Pe,this._storage=We,this._logger=pt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bo(M,B){const q=M.target.error||void 0;return qi.create(B,{originalErrorMessage:q&&q?.message})}const Ur="app_namespace_store";class Js{constructor(B,q,Pe,We=function Vo(){return new Promise((M,B)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=Pe=>{B(Bo(Pe,"storage-open"))},q.onsuccess=Pe=>{M(Pe.target.result)},q.onupgradeneeded=Pe=>{0===Pe.oldVersion&&Pe.target.result.createObjectStore(Ur,{keyPath:"compositeKey"})}}catch(q){B(qi.create("storage-open",{originalErrorMessage:q?.message}))}})}()){this.appId=B,this.appName=q,this.namespace=Pe,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var q=this;return(0,g.Z)(function*(){const Pe=yield q.openDbPromise;return new Promise((We,pt)=>{const Hn=Pe.transaction([Ur],"readonly").objectStore(Ur),Un=q.createCompositeKey(B);try{const pi=Hn.get(Un);pi.onerror=Pi=>{pt(Bo(Pi,"storage-get"))},pi.onsuccess=Pi=>{const Ni=Pi.target.result;We(Ni?Ni.value:void 0)}}catch(pi){pt(qi.create("storage-get",{originalErrorMessage:pi?.message}))}})})()}set(B,q){var Pe=this;return(0,g.Z)(function*(){const We=yield Pe.openDbPromise;return new Promise((pt,Xt)=>{const Un=We.transaction([Ur],"readwrite").objectStore(Ur),pi=Pe.createCompositeKey(B);try{const Pi=Un.put({compositeKey:pi,value:q});Pi.onerror=Ni=>{Xt(Bo(Ni,"storage-set"))},Pi.onsuccess=()=>{pt()}}catch(Pi){Xt(qi.create("storage-set",{originalErrorMessage:Pi?.message}))}})})()}delete(B){var q=this;return(0,g.Z)(function*(){const Pe=yield q.openDbPromise;return new Promise((We,pt)=>{const Hn=Pe.transaction([Ur],"readwrite").objectStore(Ur),Un=q.createCompositeKey(B);try{const pi=Hn.delete(Un);pi.onerror=Pi=>{pt(Bo(Pi,"storage-delete"))},pi.onsuccess=()=>{We()}}catch(pi){pt(qi.create("storage-delete",{originalErrorMessage:pi?.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class Us{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,g.Z)(function*(){const q=B.storage.getLastFetchStatus(),Pe=B.storage.getLastSuccessfulFetchTimestampMillis(),We=B.storage.getActiveConfig(),pt=yield q;pt&&(B.lastFetchStatus=pt);const Xt=yield Pe;Xt&&(B.lastSuccessfulFetchTimestampMillis=Xt);const Hn=yield We;Hn&&(B.activeConfig=Hn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Ss(){return os.apply(this,arguments)}function os(){return(os=(0,g.Z)(function*(){if(!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch{return!1}})).apply(this,arguments)}!function Ir(){(0,fe._registerComponent)(new Te.wA("remote-config",function M(B,{instanceIdentifier:q}){const Pe=B.getProvider("app").getImmediate(),We=B.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qi.create("registration-window");if(!(0,O.hl)())throw qi.create("indexed-db-unavailable");const{projectId:pt,apiKey:Xt,appId:Hn}=Pe.options;if(!pt)throw qi.create("registration-project-id");if(!Xt)throw qi.create("registration-api-key");if(!Hn)throw qi.create("registration-app-id");const Un=new Js(Hn,Pe.name,q=q||"firebase"),pi=new Us(Un),Pi=new Oe.Yd(sr);Pi.logLevel=Oe.in.ERROR;const Ni=new Zo(We,fe.SDK_VERSION,q,pt,Xt,Hn),qs=new ma(Ni,Un),Io=new Yr(qs,Un,pi,Pi),Bl=new Ia(Pe,Io,pi,Un,Pi);return function yi(M){const B=(0,O.m9)(M);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(Bl),Bl},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(sr,"0.4.4"),(0,fe.registerVersion)(sr,"0.4.4","esm2017")}();const ss=(M,B)=>B.some(q=>M instanceof q);let ms,po;const Xr=new WeakMap,Jr=new WeakMap,Ar=new WeakMap,Vr=new WeakMap,qo=new WeakMap;let Ro={get(M,B,q){if(M instanceof IDBTransaction){if("done"===B)return Jr.get(M);if("objectStoreNames"===B)return M.objectStoreNames||Ar.get(M);if("store"===B)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return Nr(M[B])},set:(M,B,q)=>(M[B]=q,!0),has:(M,B)=>M instanceof IDBTransaction&&("done"===B||"store"===B)||B in M};function Hs(M){return"function"==typeof M?function Vs(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ms(){return po||(po=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...B){return M.apply(br(this),B),Nr(Xr.get(this))}:function(...B){return Nr(M.apply(br(this),B))}:function(B,...q){const Pe=M.call(br(this),B,...q);return Ar.set(Pe,B.sort?B.sort():[B]),Nr(Pe)}}(M):(M instanceof IDBTransaction&&function Cr(M){if(Jr.has(M))return;const B=new Promise((q,Pe)=>{const We=()=>{M.removeEventListener("complete",pt),M.removeEventListener("error",Xt),M.removeEventListener("abort",Xt)},pt=()=>{q(),We()},Xt=()=>{Pe(M.error||new DOMException("AbortError","AbortError")),We()};M.addEventListener("complete",pt),M.addEventListener("error",Xt),M.addEventListener("abort",Xt)});Jr.set(M,B)}(M),ss(M,function ea(){return ms||(ms=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Ro):M)}function Nr(M){if(M instanceof IDBRequest)return function vr(M){const B=new Promise((q,Pe)=>{const We=()=>{M.removeEventListener("success",pt),M.removeEventListener("error",Xt)},pt=()=>{q(Nr(M.result)),We()},Xt=()=>{Pe(M.error),We()};M.addEventListener("success",pt),M.addEventListener("error",Xt)});return B.then(q=>{q instanceof IDBCursor&&Xr.set(q,M)}).catch(()=>{}),qo.set(B,M),B}(M);if(Vr.has(M))return Vr.get(M);const B=Hs(M);return B!==M&&(Vr.set(M,B),qo.set(B,M)),B}const br=M=>qo.get(M);function As(M,B,{blocked:q,upgrade:Pe,blocking:We,terminated:pt}={}){const Xt=indexedDB.open(M,B),Hn=Nr(Xt);return Pe&&Xt.addEventListener("upgradeneeded",Un=>{Pe(Nr(Xt.result),Un.oldVersion,Un.newVersion,Nr(Xt.transaction))}),q&&Xt.addEventListener("blocked",()=>q()),Hn.then(Un=>{pt&&Un.addEventListener("close",()=>pt()),We&&Un.addEventListener("versionchange",()=>We())}).catch(()=>{}),Hn}function mo(M,{blocked:B}={}){const q=indexedDB.deleteDatabase(M);return B&&q.addEventListener("blocked",()=>B()),Nr(q).then(()=>{})}const Ho=["get","getKey","getAll","getAllKeys","count"],mr=["put","add","delete","clear"],Yo=new Map;function $r(M,B){if(!(M instanceof IDBDatabase)||B in M||"string"!=typeof B)return;if(Yo.get(B))return Yo.get(B);const q=B.replace(/FromIndex$/,""),Pe=B!==q,We=mr.includes(q);if(!(q in(Pe?IDBIndex:IDBObjectStore).prototype)||!We&&!Ho.includes(q))return;const pt=function(){var Xt=(0,g.Z)(function*(Hn,...Un){const pi=this.transaction(Hn,We?"readwrite":"readonly");let Pi=pi.store;return Pe&&(Pi=Pi.index(Un.shift())),(yield Promise.all([Pi[q](...Un),We&&pi.done]))[0]});return function(Un){return Xt.apply(this,arguments)}}();return Yo.set(B,pt),pt}!function Di(M){Ro=M(Ro)}(M=>({...M,get:(B,q,Pe)=>$r(B,q)||M.get(B,q,Pe),has:(B,q)=>!!$r(B,q)||M.has(B,q)}));const mi="/firebase-messaging-sw.js",Qo="/firebase-cloud-messaging-push-scope",v="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_="https://fcmregistrations.googleapis.com/v1",C="google.c.a.c_id",j="google.c.a.c_l",_e="google.c.a.ts",dt="google.c.a.e";var ut=(()=>{return(M=ut||(ut={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",ut;var M})();function pn(M){const B=new Uint8Array(M);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xn(M){const q=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(q),We=new Uint8Array(Pe.length);for(let pt=0;pt<Pe.length;++pt)We[pt]=Pe.charCodeAt(pt);return We}const vi="fcm_token_details_db",ki=5,ir="fcm_token_object_Store";function zi(){return zi=(0,g.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pt=>pt.name).includes(vi))return null;let B=null;return(yield As(vi,ki,{upgrade:(Pe=(0,g.Z)(function*(We,pt,Xt,Hn){var Un;if(pt<2||!We.objectStoreNames.contains(ir))return;const pi=Hn.objectStore(ir),Pi=yield pi.index("fcmSenderId").get(M);if(yield pi.clear(),Pi)if(2===pt){const Ni=Pi;if(!Ni.auth||!Ni.p256dh||!Ni.endpoint)return;B={token:Ni.fcmToken,createTime:null!==(Un=Ni.createTime)&&void 0!==Un?Un:Date.now(),subscriptionOptions:{auth:Ni.auth,p256dh:Ni.p256dh,endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:"string"==typeof Ni.vapidKey?Ni.vapidKey:pn(Ni.vapidKey)}}}else if(3===pt){const Ni=Pi;B={token:Ni.fcmToken,createTime:Ni.createTime,subscriptionOptions:{auth:pn(Ni.auth),p256dh:pn(Ni.p256dh),endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:pn(Ni.vapidKey)}}}else if(4===pt){const Ni=Pi;B={token:Ni.fcmToken,createTime:Ni.createTime,subscriptionOptions:{auth:pn(Ni.auth),p256dh:pn(Ni.p256dh),endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:pn(Ni.vapidKey)}}}}),function(pt,Xt,Hn,Un){return Pe.apply(this,arguments)})})).close(),yield mo(vi),yield mo("fcm_vapid_details_db"),yield mo("undefined"),function co(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:B}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}(B)?B:null;var Pe}),zi.apply(this,arguments)}const lr="firebase-messaging-database",as=1,Gr="firebase-messaging-store";let fr=null;function Bi(){return fr||(fr=As(lr,as,{upgrade:(M,B)=>{0===B&&M.createObjectStore(Gr)}})),fr}function Hr(M){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,g.Z)(function*(M){const B=Rs(M),Pe=yield(yield Bi()).transaction(Gr).objectStore(Gr).get(B);if(Pe)return Pe;{const We=yield function ar(M){return zi.apply(this,arguments)}(M.appConfig.senderId);if(We)return yield jo(M,We),We}}),Wr.apply(this,arguments)}function jo(M,B){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,g.Z)(function*(M,B){const q=Rs(M),We=(yield Bi()).transaction(Gr,"readwrite");return yield We.objectStore(Gr).put(B,q),yield We.done,B})).apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(M){const B=Rs(M),Pe=(yield Bi()).transaction(Gr,"readwrite");yield Pe.objectStore(Gr).delete(B),yield Pe.done})).apply(this,arguments)}function Rs({appConfig:M}){return M.appId}const eo=new O.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kr(M,B){return na.apply(this,arguments)}function na(){return(na=(0,g.Z)(function*(M,B){const q=yield zs(M),Pe=_a(B),We={method:"POST",headers:q,body:JSON.stringify(Pe)};let pt;try{pt=yield(yield fetch(hs(M.appConfig),We)).json()}catch(Xt){throw eo.create("token-subscribe-failed",{errorInfo:Xt?.toString()})}if(pt.error)throw eo.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw eo.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function ga(){return(ga=(0,g.Z)(function*(M,B){const q=yield zs(M),Pe=_a(B.subscriptionOptions),We={method:"PATCH",headers:q,body:JSON.stringify(Pe)};let pt;try{pt=yield(yield fetch(`${hs(M.appConfig)}/${B.token}`,We)).json()}catch(Xt){throw eo.create("token-update-failed",{errorInfo:Xt?.toString()})}if(pt.error)throw eo.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw eo.create("token-update-no-token");return pt.token})).apply(this,arguments)}function gs(M,B){return Po.apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(M,B){const Pe={method:"DELETE",headers:yield zs(M)};try{const pt=yield(yield fetch(`${hs(M.appConfig)}/${B}`,Pe)).json();if(pt.error)throw eo.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(We){throw eo.create("token-unsubscribe-failed",{errorInfo:We?.toString()})}})).apply(this,arguments)}function hs({projectId:M}){return`${_}/projects/${M}/registrations`}function zs(M){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,g.Z)(function*({appConfig:M,installations:B}){const q=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function _a({p256dh:M,auth:B,endpoint:q,vapidKey:Pe}){const We={web:{endpoint:q,auth:B,p256dh:M}};return Pe!==v&&(We.web.applicationPubKey=Pe),We}const ya=6048e5;function Oo(){return Oo=(0,g.Z)(function*(M){const B=yield function ia(M,B){return Wa.apply(this,arguments)}(M.swRegistration,M.vapidKey),q={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:B.endpoint,auth:pn(B.getKey("auth")),p256dh:pn(B.getKey("p256dh"))},Pe=yield Hr(M.firebaseDependencies);if(Pe){if(function ul(M,B){return B.vapidKey===M.vapidKey&&B.endpoint===M.endpoint&&B.auth===M.auth&&B.p256dh===M.p256dh}(Pe.subscriptionOptions,q))return Date.now()>=Pe.createTime+ya?function xr(M,B){return es.apply(this,arguments)}(M,{token:Pe.token,createTime:Date.now(),subscriptionOptions:q}):Pe.token;try{yield gs(M.firebaseDependencies,Pe.token)}catch(We){console.warn(We)}return $s(M.firebaseDependencies,q)}return $s(M.firebaseDependencies,q)}),Oo.apply(this,arguments)}function Jo(){return Jo=(0,g.Z)(function*(M){const B=yield Hr(M.firebaseDependencies);B&&(yield gs(M.firebaseDependencies,B.token),yield function jr(M){return js.apply(this,arguments)}(M.firebaseDependencies));const q=yield M.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()}),Jo.apply(this,arguments)}function es(){return es=(0,g.Z)(function*(M,B){try{const q=yield function Xi(M,B){return ga.apply(this,arguments)}(M.firebaseDependencies,B),Pe=Object.assign(Object.assign({},B),{token:q,createTime:Date.now()});return yield jo(M.firebaseDependencies,Pe),q}catch(q){throw yield function rr(M){return Jo.apply(this,arguments)}(M),q}}),es.apply(this,arguments)}function $s(M,B){return _s.apply(this,arguments)}function _s(){return(_s=(0,g.Z)(function*(M,B){const Pe={token:yield Kr(M,B),createTime:Date.now(),subscriptionOptions:B};return yield jo(M,Pe),Pe.token})).apply(this,arguments)}function Wa(){return(Wa=(0,g.Z)(function*(M,B){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xn(B)})})).apply(this,arguments)}function ra(M){const B={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function Ta(M,B){if(!B.notification)return;M.notification={};const q=B.notification.title;q&&(M.notification.title=q);const Pe=B.notification.body;Pe&&(M.notification.body=Pe);const We=B.notification.image;We&&(M.notification.image=We);const pt=B.notification.icon;pt&&(M.notification.icon=pt)}(B,M),function Da(M,B){B.data&&(M.data=B.data)}(B,M),function N(M,B){var q,Pe,We,pt,Xt;if(!(B.fcmOptions||null!==(q=B.notification)&&void 0!==q&&q.click_action))return;M.fcmOptions={};const Hn=null!==(We=null===(Pe=B.fcmOptions)||void 0===Pe?void 0:Pe.link)&&void 0!==We?We:null===(pt=B.notification)||void 0===pt?void 0:pt.click_action;Hn&&(M.fcmOptions.link=Hn);const Un=null===(Xt=B.fcmOptions)||void 0===Xt?void 0:Xt.analytics_label;Un&&(M.fcmOptions.analyticsLabel=Un)}(B,M),B}function H(M,B){const q=[];for(let Pe=0;Pe<M.length;Pe++)q.push(M.charAt(Pe)),Pe<B.length&&q.push(B.charAt(Pe));return q.join("")}function je(M){return eo.create("missing-app-config-values",{valueName:M})}H("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),H("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jt{constructor(B,q,Pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function he(M){if(!M||!M.options)throw je("App Configuration Object");if(!M.name)throw je("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:q}=M;for(const Pe of B)if(!q[Pe])throw je(Pe);return{appName:M.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:We,installations:q,analyticsProvider:Pe}}_delete(){return Promise.resolve()}}function fn(M){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,g.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(mi,{scope:Qo}),M.swRegistration.update().catch(()=>{})}catch(B){throw eo.create("failed-service-worker-registration",{browserErrorMessage:B?.message})}})).apply(this,arguments)}function Ui(){return(Ui=(0,g.Z)(function*(M,B){if(!B&&!M.swRegistration&&(yield fn(M)),B||!M.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw eo.create("invalid-sw-registration");M.swRegistration=B}})).apply(this,arguments)}function $(){return($=(0,g.Z)(function*(M,B){B?M.vapidKey=B:M.vapidKey||(M.vapidKey=v)})).apply(this,arguments)}function w(){return w=(0,g.Z)(function*(M,B){if(!navigator)throw eo.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw eo.create("permission-blocked");return yield function Li(M,B){return $.apply(this,arguments)}(M,B?.vapidKey),yield function pr(M,B){return Ui.apply(this,arguments)}(M,B?.serviceWorkerRegistration),function Ps(M){return Oo.apply(this,arguments)}(M)}),w.apply(this,arguments)}function ne(){return(ne=(0,g.Z)(function*(M,B,q){const Pe=function se(M){switch(M){case ut.NOTIFICATION_CLICKED:return"notification_open";case ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(B);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:q[C],message_name:q[j],message_time:q[_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xe(){return Xe=(0,g.Z)(function*(M,B){const q=B.data;if(!q.isFirebaseMessaging)return;M.onMessageHandler&&q.messageType===ut.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(ra(q)):M.onMessageHandler.next(ra(q)));const Pe=q.data;(function X(M){return"object"==typeof M&&!!M&&C in M})(Pe)&&"1"===Pe[dt]&&(yield function L(M,B,q){return ne.apply(this,arguments)}(M,q.messageType,Pe))}),Xe.apply(this,arguments)}const $e="@firebase/messaging",Ct=M=>{const B=new Jt(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function Me(M,B){return Xe.apply(this,arguments)}(B,q)),B},An=M=>{const B=M.getProvider("messaging").getImmediate();return{getToken:Pe=>function y(M,B){return w.apply(this,arguments)}(B,Pe)}};function $i(){return bi.apply(this,arguments)}function bi(){return(bi=(0,g.Z)(function*(){try{yield(0,O.eu)()}catch{return!1}return typeof window<"u"&&(0,O.hl)()&&(0,O.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vi(){(0,fe._registerComponent)(new Te.wA("messaging",Ct,"PUBLIC")),(0,fe._registerComponent)(new Te.wA("messaging-internal",An,"PRIVATE")),(0,fe.registerVersion)($e,"0.12.4"),(0,fe.registerVersion)($e,"0.12.4","esm2017")}();const Fn="analytics",bo="firebase_id",ls="origin",cr=6e4,ri="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ys="https://www.googletagmanager.com/gtag/js",Ei=new Oe.Yd("@firebase/analytics"),Ri=new O.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function en(M){if(!M.startsWith(ys)){const B=Ri.create("invalid-gtag-resource",{gtagURL:M});return Ei.warn(B.message),""}return M}function Jn(M){return Promise.all(M.map(B=>B.catch(q=>q)))}function kr(){return(kr=(0,g.Z)(function*(M,B,q,Pe,We,pt){const Xt=Pe[We];try{if(Xt)yield B[Xt];else{const Un=(yield Jn(q)).find(pi=>pi.measurementId===We);Un&&(yield B[Un.appId])}}catch(Hn){Ei.error(Hn)}M("config",We,pt)})).apply(this,arguments)}function Tr(){return(Tr=(0,g.Z)(function*(M,B,q,Pe,We){try{let pt=[];if(We&&We.send_to){let Xt=We.send_to;Array.isArray(Xt)||(Xt=[Xt]);const Hn=yield Jn(q);for(const Un of Xt){const pi=Hn.find(Ni=>Ni.measurementId===Un),Pi=pi&&B[pi.appId];if(!Pi){pt=[];break}pt.push(Pi)}}0===pt.length&&(pt=Object.values(B)),yield Promise.all(pt),M("event",Pe,We||{})}catch(pt){Ei.error(pt)}})).apply(this,arguments)}const ts=30,vs=new class _o{constructor(B={},q=1e3){this.throttleMetadata=B,this.intervalMillis=q}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,q){this.throttleMetadata[B]=q}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function qt(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Qi(){return(Qi=(0,g.Z)(function*(M){var B;const{appId:q,apiKey:Pe}=M,We={method:"GET",headers:qt(Pe)},pt=ri.replace("{app-id}",q),Xt=yield fetch(pt,We);if(200!==Xt.status&&304!==Xt.status){let Hn="";try{const Un=yield Xt.json();null!==(B=Un.error)&&void 0!==B&&B.message&&(Hn=Un.error.message)}catch{}throw Ri.create("config-fetch-failed",{httpStatus:Xt.status,responseMessage:Hn})}return Xt.json()})).apply(this,arguments)}function Aa(){return(Aa=(0,g.Z)(function*(M,B=vs,q){const{appId:Pe,apiKey:We,measurementId:pt}=M.options;if(!Pe)throw Ri.create("no-app-id");if(!We){if(pt)return{measurementId:pt,appId:Pe};throw Ri.create("no-api-key")}const Xt=B.getThrottleMetadata(Pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Hn=new vc;return setTimeout((0,g.Z)(function*(){Hn.abort()}),void 0!==q?q:cr),Ba({appId:Pe,apiKey:We,measurementId:pt},Xt,Hn,B)})).apply(this,arguments)}function Ba(M,B,q){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,g.Z)(function*(M,{throttleEndTimeMillis:B,backoffCount:q},Pe,We=vs){var pt;const{appId:Xt,measurementId:Hn}=M;try{yield function hl(M,B){return new Promise((q,Pe)=>{const We=Math.max(B-Date.now(),0),pt=setTimeout(q,We);M.addEventListener(()=>{clearTimeout(pt),Pe(Ri.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(Pe,B)}catch(Un){if(Hn)return Ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Hn} provided in the "measurementId" field in the local Firebase config. [${Un?.message}]`),{appId:Xt,measurementId:Hn};throw Un}try{const Un=yield function dl(M){return Qi.apply(this,arguments)}(M);return We.deleteThrottleMetadata(Xt),Un}catch(Un){const pi=Un;if(!function Al(M){if(!(M instanceof O.ZR&&M.customData))return!1;const B=Number(M.customData.httpStatus);return 429===B||500===B||503===B||504===B}(pi)){if(We.deleteThrottleMetadata(Xt),Hn)return Ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Hn} provided in the "measurementId" field in the local Firebase config. [${pi?.message}]`),{appId:Xt,measurementId:Hn};throw Un}const Pi=503===Number(null===(pt=pi?.customData)||void 0===pt?void 0:pt.httpStatus)?(0,O.$s)(q,We.intervalMillis,ts):(0,O.$s)(q,We.intervalMillis),Ni={throttleEndTimeMillis:Date.now()+Pi,backoffCount:q+1};return We.setThrottleMetadata(Xt,Ni),Ei.debug(`Calling attemptFetch again in ${Pi} millis`),Ba(M,Ni,Pe,We)}}),Ka.apply(this,arguments)}class vc{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let Ua,F;function fs(){return(fs=(0,g.Z)(function*(M,B,q,Pe,We){if(We&&We.global)M("event",q,Pe);else{const pt=yield B;M("event",q,Object.assign(Object.assign({},Pe),{send_to:pt}))}})).apply(this,arguments)}function At(){return(At=(0,g.Z)(function*(){if(!(0,O.hl)())return Ei.warn(Ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,O.eu)()}catch(M){return Ei.warn(Ri.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function Kn(){return Kn=(0,g.Z)(function*(M,B,q,Pe,We,pt,Xt){var Hn;const Un=function kd(M){return Aa.apply(this,arguments)}(M);Un.then(Io=>{q[Io.measurementId]=Io.appId,M.options.measurementId&&Io.measurementId!==M.options.measurementId&&Ei.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Io.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Io=>Ei.error(Io)),B.push(Un);const pi=function ve(){return At.apply(this,arguments)}().then(Io=>{if(Io)return Pe.getId()}),[Pi,Ni]=yield Promise.all([Un,pi]);(function Fr(M){const B=window.document.getElementsByTagName("script");for(const q of Object.values(B))if(q.src&&q.src.includes(ys)&&q.src.includes(M))return q;return null})(pt)||function Ti(M,B){const q=function wi(M,B){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(M,B)),q}("firebase-js-sdk-policy",{createScriptURL:en}),Pe=document.createElement("script"),We=`${ys}?l=${M}&id=${B}`;Pe.src=q?q?.createScriptURL(We):We,Pe.async=!0,document.head.appendChild(Pe)}(pt,Pi.measurementId),F&&(We("consent","default",F),function W(M){F=M}(void 0)),We("js",new Date);const qs=null!==(Hn=Xt?.config)&&void 0!==Hn?Hn:{};return qs[ls]="firebase",qs.update=!0,null!=Ni&&(qs[bo]=Ni),We("config",Pi.measurementId,qs),Ua&&(We("set",Ua),function le(M){Ua=M}(void 0)),Pi.measurementId}),Kn.apply(this,arguments)}class qn{constructor(B){this.app=B}_delete(){return delete Hi[this.app.options.appId],Promise.resolve()}}let Hi={},Co=[];const va={};let Es,Gs,Ns="dataLayer",aa="gtag",ba=!1;function Jl(M,B,q){!function Rl(){const M=[];if((0,O.ru)()&&M.push("This is a browser extension environment."),(0,O.zI)()||M.push("Cookies are not available."),M.length>0){const B=M.map((Pe,We)=>`(${We+1}) ${Pe}`).join(" "),q=Ri.create("invalid-analytics-context",{errorInfo:B});Ei.warn(q.message)}}();const Pe=M.options.appId;if(!Pe)throw Ri.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Ri.create("no-api-key");Ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hi[Pe])throw Ri.create("already-exists",{id:Pe});if(!ba){!function Eo(M){let B=[];Array.isArray(window[M])?B=window[M]:window[M]=B}(Ns);const{wrappedGtag:pt,gtagCore:Xt}=function go(M,B,q,Pe,We){let pt=function(...Xt){window[Pe].push(arguments)};return window[We]&&"function"==typeof window[We]&&(pt=window[We]),window[We]=function Ma(M,B,q,Pe){function pt(){return pt=(0,g.Z)(function*(Xt,...Hn){try{if("event"===Xt){const[Un,pi]=Hn;yield function ko(M,B,q,Pe,We){return Tr.apply(this,arguments)}(M,B,q,Un,pi)}else if("config"===Xt){const[Un,pi]=Hn;yield function wo(M,B,q,Pe,We,pt){return kr.apply(this,arguments)}(M,B,q,Pe,Un,pi)}else if("consent"===Xt){const[Un]=Hn;M("consent","update",Un)}else if("get"===Xt){const[Un,pi,Pi]=Hn;M("get",Un,pi,Pi)}else if("set"===Xt){const[Un]=Hn;M("set",Un)}else M(Xt,...Hn)}catch(Un){Ei.error(Un)}}),pt.apply(this,arguments)}return function We(Xt){return pt.apply(this,arguments)}}(pt,M,B,q),{gtagCore:pt,wrappedGtag:window[We]}}(Hi,Co,va,Ns,aa);Gs=pt,Es=Xt,ba=!0}return Hi[Pe]=function hn(M,B,q,Pe,We,pt,Xt){return Kn.apply(this,arguments)}(M,Co,va,B,Es,Ns,q),new qn(M)}function xo(){return qa.apply(this,arguments)}function qa(){return(qa=(0,g.Z)(function*(){if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch{return!1}})).apply(this,arguments)}const Ec="@firebase/analytics";!function $o(){(0,fe._registerComponent)(new Te.wA(Fn,(B,{options:q})=>Jl(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,fe._registerComponent)(new Te.wA("analytics-internal",function M(B){try{const q=B.getProvider(Fn).getImmediate();return{logEvent:(Pe,We,pt)=>function pl(M,B,q,Pe){M=(0,O.m9)(M),function ju(M,B,q,Pe,We){return fs.apply(this,arguments)}(Gs,Hi[M.app.options.appId],B,q,Pe).catch(We=>Ei.error(We))}(q,Pe,We,pt)}}catch(q){throw Ri.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,fe.registerVersion)(Ec,"0.10.0"),(0,fe.registerVersion)(Ec,"0.10.0","esm2017")}();var ou=D(4408),no=D(7565);const wc=new class la extends no.v{}(class Ya extends ou.o{constructor(B,q){super(B,q),this.scheduler=B,this.work=q}schedule(B,q=0){return q>0?super.schedule(B,q):(this.delay=q,this.state=B,this.scheduler.flush(this),this)}execute(B,q){return q>0||this.closed?super.execute(B,q):this._execute(B,q)}requestAsyncId(B,q,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(B,q,Pe):(B.flush(this),0)}});var Pl=D(4986),$u=D(8505),Ra=D(5363),Ea=D(9468);const Ol=new c.GfV("7.5.0"),Ws="__angularfire_symbol__analyticsIsSupportedValue",Ks="__angularfire_symbol__analyticsIsSupported",kl="__angularfire_symbol__remoteConfigIsSupportedValue",Zs="__angularfire_symbol__remoteConfigIsSupported",xc="__angularfire_symbol__messagingIsSupportedValue",Qa="__angularfire_symbol__messagingIsSupported";function Nl(M,B,q){if(B){if(1===B.length)return B[0];const pt=B.filter(Xt=>Xt.app===q);if(1===pt.length)return pt[0]}return q.container.getProvider(M).getImmediate({optional:!0})}globalThis[Ks]||(globalThis[Ks]=xo().then(M=>globalThis[Ws]=M).catch(()=>globalThis[Ws]=!1)),globalThis[Qa]||(globalThis[Qa]=$i().then(M=>globalThis[xc]=M).catch(()=>globalThis[xc]=!1)),globalThis[Zs]||(globalThis[Zs]=Ss().then(M=>globalThis[kl]=M).catch(()=>globalThis[kl]=!1));const Tc=(M,B)=>{const q=B?[B]:(0,A.C6)(),Pe=[];return q.forEach(We=>{We.container.getProvider(M).instances.forEach(Xt=>{Pe.includes(Xt)||Pe.push(Xt)})}),Pe};function Pa(){}class Fl{constructor(B,q=wc){this.zone=B,this.delegate=q}now(){return this.delegate.now()}schedule(B,q,Pe){const We=this.zone;return this.delegate.schedule(function(Xt){We.runGuarded(()=>{B.apply(this,[Xt])})},q,Pe)}}class Ll{constructor(B){this.zone=B,this.task=null}call(B,q){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)),q.pipe((0,$u.b)({next:Pe,complete:Pe,error:Pe})).subscribe(B).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ca=(()=>{class M{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new Fl(Zone.current)),this.insideAngular=q.run(()=>new Fl(Zone.current,Pl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(q){return new(q||M)(c.LFG(c.R0b))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function gl(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function au(M){return M.pipe((0,Ra.Q)(gl().outsideAngular))}function lu(M){return gl(),function io(M){return function(q){return(q=q.lift(new Ll(M.ngZone))).pipe((0,Ea.R)(M.outsideAngular),(0,Ra.Q)(M.insideAngular))}}(gl())(M)}},2810:(_n,Ye,D)=>{D.d(Ye,{u7:()=>ip,Jj:()=>mc,IX:()=>Zg,my:()=>Wo,xU:()=>Uu,Lz:()=>gc,WA:()=>Ct,F8:()=>Mh,$q:()=>Uh,W:()=>Ql,EK:()=>cr,PU:()=>km,l7:()=>Ra,Ky:()=>en,Xb:()=>Ri,Cf:()=>ur,K9:()=>Xe,Me:()=>Fd,yq:()=>L,Wi:()=>vm,ET:()=>Yy,Ab:()=>w_,vr:()=>sv,Fc:()=>Py,hJ:()=>Em,B$:()=>Yl,at:()=>$g,oe:()=>__,AK:()=>ov,TF:()=>Yg,JU:()=>Gg,ST:()=>Sh,fH:()=>Ry,Ix:()=>qg,Wu:()=>np,Lx:()=>zy,qY:()=>cs,GL:()=>Pd,QT:()=>p_,kl:()=>Vh,Xk:()=>Hh,PL:()=>Ky,UQ:()=>Zy,zN:()=>qy,nP:()=>av,b9:()=>qv,vh:()=>Oi,Pb:()=>ky,L$:()=>Qg,cf:()=>y_,sc:()=>Qy,Xo:()=>c_,IO:()=>Lu,iE:()=>cl,Eo:()=>Wg,i3:()=>jh,Bt:()=>E_,pl:()=>m_,Ub:()=>$,qK:()=>f_,TQ:()=>jy,e0:()=>Hy,r7:()=>g_,Mx:()=>Oy,ar:()=>Vy});var ue,c=D(5861),A=D(6881),g=D(4859),fe=D(1877),O=D(2090),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe={},Ie=Ie||{},ie=Te||self;function ae(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function re(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ve="closure_uid_"+(1e9*Math.random()>>>0),Ge=0;function rt(i,e,t){return i.call.apply(i.bind,arguments)}function Fe(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function tt(i,e,t){return(tt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rt:Fe).apply(null,arguments)}function Re(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function lt(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(o,a,d){for(var m=Array(arguments.length-2),R=2;R<arguments.length;R++)m[R-2]=arguments[R];return e.prototype[a].apply(o,m)}}function Se(){this.s=this.s,this.o=this.o}Se.prototype.s=!1,Se.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ae(i){Object.prototype.hasOwnProperty.call(i,Ve)&&i[Ve]||(i[Ve]=++Ge)}(this)},Se.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ke(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function _t(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ae(o)){const a=i.length||0,d=o.length||0;i.length=a+d;for(let m=0;m<d;m++)i[a+m]=o[m]}else i.push(o)}}function Rt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var qe=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return i}();function un(i){return/^[\s\xa0]*$/.test(i)}function St(){var i=ie.navigator;return i&&(i=i.userAgent)?i:""}function bn(i){return-1!=St().indexOf(i)}function yn(i){return yn[" "](i),i}yn[" "]=function(){};var jt,i,Ft=bn("Opera"),Tt=bn("Trident")||bn("MSIE"),Pt=bn("Edge"),wt=Pt||Tt,kt=bn("Gecko")&&!(-1!=St().toLowerCase().indexOf("webkit")&&!bn("Edge"))&&!(bn("Trident")||bn("MSIE"))&&!bn("Edge"),gt=-1!=St().toLowerCase().indexOf("webkit")&&!bn("Edge");function vt(){var i=ie.document;return i?i.documentMode:void 0}e:{var an="",Vt=(i=St(),kt?/rv:([^\);]+)(\)|;)/.exec(i):Pt?/Edge\/([\d\.]+)/.exec(i):Tt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gt?/WebKit\/(\S+)/.exec(i):Ft?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Vt&&(an=Vt?Vt[1]:""),Tt){var Je=vt();if(null!=Je&&Je>parseFloat(an)){jt=String(Je);break e}}jt=an}var En=ie.document&&Tt&&(vt()||parseInt(jt,10))||void 0;function Bt(i,e){if(Rt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(kt){e:{try{yn(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:mn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Bt.$.h.call(this)}}lt(Bt,Rt);var mn={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function yt(i,e,t,o,a){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++Zt,this.fa=this.ia=!1}function Ht(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function xe(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function bt(i){const e={};for(const t in i)e[t]=i[t];return e}const rn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zn(i,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)i[t]=o[t];for(let d=0;d<rn.length;d++)t=rn[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function hi(i){this.src=i,this.g={},this.h=0}function Qn(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],a=pe(o,e);(d=0<=a)&&Array.prototype.splice.call(o,a,1),d&&(Ht(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ii(i,e,t,o){for(var a=0;a<i.length;++a){var d=i[a];if(!d.fa&&d.listener==e&&d.capture==!!t&&d.la==o)return a}return-1}hi.prototype.add=function(i,e,t,o,a){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=Ii(i,e,o,a);return-1<m?(e=i[m],t||(e.ia=!1)):((e=new yt(e,this.src,d,!!o,a)).ia=t,i.push(e)),e};var _i="closure_lm_"+(1e6*Math.random()|0),di={};function Dn(i,e,t,o,a){if(o&&o.once)return Dt(i,e,t,o,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Dn(i,e[d],t,o,a);return null}return t=kn(t),i&&i[Ue]?i.O(e,t,re(o)?!!o.capture:!!o,a):Ln(i,e,t,!1,o,a)}function Ln(i,e,t,o,a,d){if(!e)throw Error("Invalid event type");var m=re(a)?!!a.capture:!!a,R=Rn(i);if(R||(i[_i]=R=new hi(i)),(t=R.add(e,t,o,m,d)).proxy)return t;if(o=function Fi(){const e=$n;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)qe||(a=m),void 0===a&&(a=!1),i.addEventListener(e.toString(),o,a);else if(i.attachEvent)i.attachEvent(zt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Dt(i,e,t,o,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Dt(i,e[d],t,o,a);return null}return t=kn(t),i&&i[Ue]?i.P(e,t,re(o)?!!o.capture:!!o,a):Ln(i,e,t,!0,o,a)}function Tn(i,e,t,o,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)Tn(i,e[d],t,o,a);else o=re(o)?!!o.capture:!!o,t=kn(t),i&&i[Ue]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ii(d=i.g[e],t,o,a))&&(Ht(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Rn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ii(e,t,o,a)),(t=-1<i?e[i]:null)&&Mt(t))}function Mt(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Ue])Qn(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(zt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Rn(e))?(Qn(t,i),0==t.h&&(t.src=null,e[_i]=null)):Ht(i)}}}function zt(i){return i in di?di[i]:di[i]="on"+i}function $n(i,e){if(i.fa)i=!0;else{e=new Bt(e,this);var t=i.listener,o=i.la||i.src;i.ia&&Mt(i),i=t.call(o,e)}return i}function Rn(i){return(i=i[_i])instanceof hi?i:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(i){return"function"==typeof i?i:(i[Mi]||(i[Mi]=function(e){return i.handleEvent(e)}),i[Mi])}function ti(){Se.call(this),this.i=new hi(this),this.S=this,this.J=null}function Lt(i,e){var t,o=i.J;if(o)for(t=[];o;o=o.J)t.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Rt(e,i);else if(e instanceof Rt)e.target=e.target||i;else{var a=e;Zn(e=new Rt(o,i),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var m=e.g=t[d];a=Ee(m,o,!0,e)&&a}if(a=Ee(m=e.g=i,o,!0,e)&&a,a=Ee(m,o,!1,e)&&a,t)for(d=0;d<t.length;d++)a=Ee(m=e.g=t[d],o,!1,e)&&a}function Ee(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.fa&&m.capture==t){var R=m.listener,G=m.la||m.src;m.ia&&Qn(i.i,m),a=!1!==R.call(G,o)&&a}}return a&&!o.defaultPrevented}lt(ti,Se),ti.prototype[Ue]=!0,ti.prototype.removeEventListener=function(i,e,t,o){Tn(this,i,e,t,o)},ti.prototype.N=function(){if(ti.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Ht(t[o]);delete i.g[e],i.h--}}this.J=null},ti.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},ti.prototype.P=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var z=ie.JSON.stringify;function nt(){var i=Et;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Gn=new class ce{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gi,i=>i.reset());class gi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Le(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function Ne(i){ie.setTimeout(()=>{throw i},0)}let He,$t=!1,Et=new class Qt{constructor(){this.h=this.g=null}add(e,t){const o=Gn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},ln=()=>{const i=ie.Promise.resolve(void 0);He=()=>{i.then(Qe)}};var Qe=()=>{for(var i;i=nt();){try{i.h.call(i.g)}catch(t){Ne(t)}var e=Gn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}$t=!1};function Q(i,e){ti.call(this),this.h=i||1,this.g=e||ie,this.j=tt(this.qb,this),this.l=Date.now()}function V(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function k(i,e,t){if("function"==typeof i)t&&(i=tt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=tt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ie.setTimeout(i,e||0)}function Z(i){i.g=k(()=>{i.g=null,i.i&&(i.i=!1,Z(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}lt(Q,ti),(ue=Q.prototype).ga=!1,ue.T=null,ue.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(V(this),this.start()))}},ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.N=function(){Q.$.N.call(this),V(this),delete this.g};class be extends Se{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function st(i){Se.call(this),this.h=i,this.g={}}lt(st,Se);var tn=[];function In(i,e,t,o){Array.isArray(t)||(t&&(tn[0]=t.toString()),t=tn);for(var a=0;a<t.length;a++){var d=Dn(e,t[a],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function ei(i){xe(i.g,function(e,t){this.g.hasOwnProperty(t)&&Mt(e)},i),i.g={}}function It(){this.g=!0}function Mn(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function li(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<a.length;m++)a[m]=""}}}return z(t)}catch{return e}}(i,t)+(o?" "+o:"")})}st.prototype.N=function(){st.$.N.call(this),ei(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},It.prototype.Ea=function(){this.g=!1},It.prototype.info=function(){};var zn={},ft=null;function oe(){return ft=ft||new ti}function ee(i){Rt.call(this,zn.Ta,i)}function Ce(i){const e=oe();Lt(e,new ee(e))}function ot(i,e){Rt.call(this,zn.STAT_EVENT,i),this.stat=e}function Nt(i){const e=oe();Lt(e,new ot(e,i))}function ze(i,e){Rt.call(this,zn.Ua,i),this.size=e}function we(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){i()},e)}zn.Ta="serverreachability",lt(ee,Rt),zn.STAT_EVENT="statevent",lt(ot,Rt),zn.Ua="timingevent",lt(ze,Rt);var te={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},De={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function et(){}function on(){}et.prototype.h=null;var Si,Cn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function On(){Rt.call(this,"d")}function Nn(){Rt.call(this,"c")}function Er(){}function Yn(i,e,t,o){this.l=i,this.j=e,this.m=t,this.W=o||1,this.U=new st(this),this.P=dr,this.V=new Q(i=wt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mr}function Mr(){this.i=null,this.g="",this.h=!1}lt(On,Rt),lt(Nn,Rt),lt(Er,et),Er.prototype.g=function(){return new XMLHttpRequest},Er.prototype.i=function(){return{}},Si=new Er;var dr=45e3,zr={},hr={};function sr(i,e,t){i.L=1,i.v=yr(Ci(e)),i.s=t,i.S=!0,Lo(i,null)}function Lo(i,e){i.G=Date.now(),qi(i),i.A=Ci(i.v);var t=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Ur(t.i,"t",o),i.C=0,t=i.l.J,i.h=new Mr,i.g=Wr(i.l,t?e:null,!i.s),0<i.O&&(i.M=new be(tt(i.Pa,i,i.g),i.O)),In(i.U,i.g,"readystatechange",i.nb),e=i.I?bt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Ce(),function Ot(i,e,t,o,a,d){i.info(function(){if(i.g)if(d)for(var m="",R=d.split("&"),G=0;G<R.length;G++){var J=R[G].split("=");if(1<J.length){var ye=J[0];J=J[1];var Ze=ye.split("_");m=2<=Ze.length&&"type"==Ze[1]?m+(ye+"=")+J+"&":m+(ye+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.W,i.s)}function oo(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function qr(i,e,t){let a,o=!0;for(;!i.J&&i.C<t.length;){if(a=So(i,t),a==hr){4==e&&(i.o=4,Nt(14),o=!1),Mn(i.j,i.m,null,"[Incomplete Response]");break}if(a==zr){i.o=4,Nt(15),Mn(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Mn(i.j,i.m,a,null),at(i,a)}oo(i)&&a!=hr&&a!=zr&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Nt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),zi(e),e.M=!0,Nt(11))):(Mn(i.j,i.m,t,"[Invalid Chunked Response]"),mt(i),so(i))}function So(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?hr:(t=Number(e.substring(t,o)),isNaN(t)?zr:(o+=1)+t>e.length?hr:(e=e.slice(o,o+t),i.C=o+t,e))}function qi(i){i.Y=Date.now()+i.P,Wi(i,i.P)}function Wi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=we(tt(i.lb,i),e)}function Br(i){i.B&&(ie.clearTimeout(i.B),i.B=null)}function so(i){0==i.l.H||i.J||as(i.l,i)}function mt(i){Br(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,V(i.V),ei(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function at(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||lo(t.i,i)))if(!i.K&&lo(t.i,i)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;lr(t),dt(t)}ar(t),Nt(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=we(tt(t.ib,t),6e3));if(1>=fo(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else fr(t,11)}else if((i.K||t.g==i)&&lr(t),!un(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let J=a[e];if(t.V=J[0],J=J[1],2==t.H)if("c"==J[0]){t.K=J[1],t.pa=J[2];const ye=J[3];null!=ye&&(t.ra=ye,t.l.info("VER="+t.ra));const Ze=J[4];null!=Ze&&(t.Ga=Ze,t.l.info("SVER="+t.Ga));const Kt=J[5];null!=Kt&&"number"==typeof Kt&&0<Kt&&(t.L=o=1.5*Kt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const cn=i.g;if(cn){const Pn=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pn){var d=o.i;d.g||-1==Pn.indexOf("spdy")&&-1==Pn.indexOf("quic")&&-1==Pn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Ss(d,d.h),d.h=null))}if(o.F){const ni=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ni&&(o.Da=ni,nr(o.I,o.F,ni))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var m=i;if((o=t).wa=Hr(o,o.J?o.pa:null,o.Y),m.K){os(o.i,m);var R=m,G=o.L;G&&R.setTimeout(G),R.B&&(Br(R),qi(R)),o.g=m}else ir(o);0<t.j.length&&ut(t)}else"stop"!=J[0]&&"close"!=J[0]||fr(t,7);else 3==t.H&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?fr(t,7):_e(t):"noop"!=J[0]&&t.h&&t.h.Aa(J),t.A=0)}Ce()}catch{}}function gn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ae(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function nn(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ae(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Ut(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ae(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),a=o.length,d=0;d<a;d++)e.call(void 0,o[d],t&&t[d],i)}(ue=Yn.prototype).setTimeout=function(i){this.P=i},ue.nb=function(i){i=i.target;const e=this.M;e&&3==$r(i)?e.l():this.Pa(i)},ue.Pa=function(i){try{if(i==this.g)e:{const ye=$r(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ye)&&(3!=ye||wt||this.g&&(this.h.h||this.g.ja()||mi(this.g)))){this.J||4!=ye||7==e||Ce(),Br(this);var t=this.g.da();this.ca=t;t:if(oo(this)){var o=mi(this.g);i="";var a=o.length,d=4==$r(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mt(this),so(this);var m="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==a-1});o.splice(0,a),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==t,function dn(i,e,t,o,a,d,m){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.W,ye,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!un(R)){var J=R;break t}}J=null}if(!(t=J)){this.i=!1,this.o=3,Nt(12),mt(this),so(this);break e}Mn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,at(this,t)}this.S?(qr(this,ye,m),wt&&this.i&&3==ye&&(In(this.U,this.V,"tick",this.mb),this.V.start())):(Mn(this.j,this.m,m,null),at(this,m)),4==ye&&mt(this),this.i&&!this.J&&(4==ye?as(this.l,this):(this.i=!1,qi(this)))}else(function Qo(i){const e={};i=(i.g&&2<=$r(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(un(i[o]))continue;var t=Le(i[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const d=e[a]||[];e[a]=d,d.push(t)}!function ct(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Nt(12)):(this.o=0,Nt(13)),mt(this),so(this)}}}catch{}},ue.mb=function(){if(this.g){var i=$r(this.g),e=this.g.ja();this.C<e.length&&(Br(this),qr(this,i,e),this.i&&4!=i&&qi(this))}},ue.cancel=function(){this.J=!0,mt(this)},ue.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Wn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ce(),Nt(17)),mt(this),this.o=2,so(this)):Wi(this,this.Y-i)};var ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof fi){this.h=i.h,wr(this,i.j),this.s=i.s,this.g=i.g,yo(this,i.m),this.l=i.l;var e=i.i,t=new Ao;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),tr(this,t),this.o=i.o}else i&&(e=String(i).match(ci))?(this.h=!1,wr(this,e[1]||"",!0),this.s=ao(e[2]||""),this.g=ao(e[3]||"",!0),yo(this,e[4]),this.l=ao(e[5]||"",!0),tr(this,e[6]||"",!0),this.o=ao(e[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}function Ci(i){return new fi(i)}function wr(i,e,t){i.j=t?ao(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function yo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function tr(i,e,t){e instanceof Ao?(i.i=e,function ps(i,e){e&&!i.j&&(Qr(i),i.i=null,i.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(Ia(this,o),Ur(this,a,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Mo(e,ds)),i.i=new Ao(e,i.h))}function nr(i,e,t){i.i.set(e,t)}function yr(i){return nr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ao(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Mo(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Yr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Yr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}fi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Mo(e,rs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Mo(e,rs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Mo(t,"/"==t.charAt(0)?Xs:Zo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Mo(t,ma)),i.join("")};var rs=/[#\/\?@]/g,Zo=/[#\?:]/g,Xs=/[#\?]/g,ds=/[#\?@]/g,ma=/#/g;function Ao(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qr(i){i.g||(i.g=new Map,i.h=0,i.i&&function yi(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),a=null;if(0<=o){var d=i[t].substring(0,o);a=i[t].substring(o+1)}else d=i[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ia(i,e){Qr(i),e=Uo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Bo(i,e){return Qr(i),e=Uo(i,e),i.g.has(e)}function Ur(i,e,t){Ia(i,e),0<t.length&&(i.i=null,i.g.set(Uo(i,e),Ke(t)),i.h+=t.length)}function Uo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Js(i){this.l=i||Us,i=ie.PerformanceNavigationTiming?0<(i=ie.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ue=Ao.prototype).add=function(i,e){Qr(this),this.i=null,i=Uo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ue.forEach=function(i,e){Qr(this),this.g.forEach(function(t,o){t.forEach(function(a){i.call(e,a,o,this)},this)},this)},ue.ta=function(){Qr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=i[o];for(let d=0;d<a.length;d++)t.push(e[o])}return t},ue.Z=function(i){Qr(this);let e=[];if("string"==typeof i)Bo(this,i)&&(e=e.concat(this.g.get(Uo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ue.set=function(i,e){return Qr(this),this.i=null,Bo(this,i=Uo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ue.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),m=this.Z(o);for(o=0;o<m.length;o++){var a=d;""!==m[o]&&(a+="="+encodeURIComponent(String(m[o]))),i.push(a)}}return this.i=i.join("&")};var Us=10;function Ir(i){return!!i.h||!!i.g&&i.g.size>=i.j}function fo(i){return i.h?1:i.g?i.g.size:0}function lo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ss(i,e){i.g?i.g.add(e):i.h=e}function os(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ss(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Ke(i.i)}Js.prototype.cancel=function(){if(this.i=ss(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ms=class{stringify(i){return ie.JSON.stringify(i,void 0)}parse(i){return ie.JSON.parse(i,void 0)}};function po(){this.g=new ms}function ea(i,e,t){const o=t||"";try{gn(i,function(a,d){let m=a;re(a)&&(m=z(a)),e.push(o+d+"="+encodeURIComponent(m))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function Xr(i,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function Jr(i){this.l=i.fc||null,this.j=i.ob||!1}function Ar(i,e){ti.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Vr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lt(Jr,et),Jr.prototype.g=function(){return new Ar(this.l,this.j)},Jr.prototype.i=function(i){return function(){return i}}({}),lt(Ar,ti);var Vr=0;function qo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function vr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Cr(i)}function Cr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ue=Ar.prototype).open=function(i,e){if(this.readyState!=Vr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Cr(this)},ue.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vr(this)),this.readyState=Vr},ue.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ue.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?vr(this):Cr(this),3==this.readyState&&qo(this)}},ue.Za=function(i){this.g&&(this.response=this.responseText=i,vr(this))},ue.Ya=function(i){this.g&&(this.response=i,vr(this))},ue.ka=function(){this.g&&vr(this)},ue.setRequestHeader=function(i,e){this.v.append(i,e)},ue.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ro=ie.JSON.parse;function Di(i){ti.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vs,this.L=this.M=!1}lt(Di,ti);var Vs="",Hs=/^https?$/i,Nr=["POST","PUT"];function As(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,mo(i),mr(i)}function mo(i){i.F||(i.F=!0,Lt(i,"complete"),Lt(i,"error"))}function Ho(i){if(i.h&&typeof Ie<"u"&&(!i.C[1]||4!=$r(i)||2!=i.da()))if(i.v&&4==$r(i))k(i.La,0,i);else if(Lt(i,"readystatechange"),4==$r(i)){i.h=!1;try{const m=i.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===m){var a=String(i.I).match(ci)[1]||null;!a&&ie.self&&ie.self.location&&(a=ie.self.location.protocol.slice(0,-1)),o=!Hs.test(a?a.toLowerCase():"")}t=o}if(t)Lt(i,"complete"),Lt(i,"success");else{i.m=6;try{var d=2<$r(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",mo(i)}}finally{mr(i)}}}function mr(i,e){if(i.g){Yo(i);const t=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Lt(i,"ready");try{t.onreadystatechange=o}catch{}}}function Yo(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ie.clearTimeout(i.A),i.A=null)}function $r(i){return i.g?i.g.readyState:0}function mi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Vs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function v(i){let e="";return xe(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function _(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=v(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):nr(i,e,t))}function C(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function j(i){this.Ga=0,this.j=[],this.l=new It,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=C("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=C("baseRetryDelayMs",5e3,i),this.hb=C("retryDelaySeedMs",1e4,i),this.eb=C("forwardChannelMaxRetries",2,i),this.xa=C("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Js(i&&i.concurrentRequestLimit),this.Ja=new po,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _e(i){if(sn(i),3==i.H){var e=i.W++,t=Ci(i.I);if(nr(t,"SID",i.K),nr(t,"RID",e),nr(t,"TYPE","terminate"),vi(i,t),(e=new Yn(i,i.l,e)).L=2,e.v=yr(Ci(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon)try{t=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=Wr(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qi(e)}Bi(i)}function dt(i){i.g&&(zi(i),i.g.cancel(),i.g=null)}function sn(i){dt(i),i.u&&(ie.clearTimeout(i.u),i.u=null),lr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ie.clearTimeout(i.m),i.m=null)}function ut(i){if(!Ir(i.i)&&!i.m){i.m=!0;var e=i.Na;He||ln(),$t||(He(),$t=!0),Et.add(e,i),i.C=0}}function Xn(i,e){var t;t=e?e.m:i.W++;const o=Ci(i.I);nr(o,"SID",i.K),nr(o,"RID",t),nr(o,"AID",i.V),vi(i,o),i.o&&i.s&&_(o,i.o,i.s),t=new Yn(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ki(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Ss(i.i,t),sr(t,o,e)}function vi(i,e){i.na&&xe(i.na,function(t,o){nr(e,o,t)}),i.h&&gn({},function(t,o){nr(e,o,t)})}function ki(i,e,t){t=Math.min(i.j.length,t);var o=i.h?tt(i.h.Va,i.h,i):null;e:{var a=i.j;let d=-1;for(;;){const m=["count="+t];-1==d?0<t?(d=a[0].g,m.push("ofs="+d)):d=0:m.push("ofs="+d);let R=!0;for(let G=0;G<t;G++){let J=a[G].g;const ye=a[G].map;if(J-=d,0>J)d=Math.max(0,a[G].g-100),R=!1;else try{ea(ye,m,"req"+J+"_")}catch{o&&o(ye)}}if(R){o=m.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,o}function ir(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;He||ln(),$t||(He(),$t=!0),Et.add(e,i),i.A=0}}function ar(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=we(tt(i.Ma,i),Gr(i,i.A)),i.A++,0))}function zi(i){null!=i.B&&(ie.clearTimeout(i.B),i.B=null)}function co(i){i.g=new Yn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Ci(i.wa);nr(e,"RID","rpc"),nr(e,"SID",i.K),nr(e,"AID",i.V),nr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&nr(e,"TO",i.qa),nr(e,"TYPE","xmlhttp"),vi(i,e),i.o&&i.s&&_(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=yr(Ci(e)),t.s=null,t.S=!0,Lo(t,i)}function lr(i){null!=i.v&&(ie.clearTimeout(i.v),i.v=null)}function as(i,e){var t=null;if(i.g==e){lr(i),zi(i),i.g=null;var o=2}else{if(!lo(i.i,e))return;t=e.F,os(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=i.C;Lt(o=oe(),new ze(o,t)),ut(i)}else ir(i);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function pn(i,e){return!(fo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=we(tt(i.Na,i,e),Gr(i,i.C)),i.C++,0)))}(i,e)||2==o&&ar(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),a){case 1:fr(i,5);break;case 4:fr(i,10);break;case 3:fr(i,6);break;default:fr(i,2)}}function Gr(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function fr(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var o=tt(i.pb,i);t||(t=new fi("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||wr(t,"https"),yr(t)),function Ms(i,e){const t=new It;if(ie.Image){const o=new Image;o.onload=Re(Xr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Re(Xr,t,o,"TestLoadImage: error",!1,e),o.onabort=Re(Xr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Re(Xr,t,o,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Nt(2);i.H=0,i.h&&i.h.za(e),Bi(i),sn(i)}function Bi(i){if(i.H=0,i.ma=[],i.h){const e=ss(i.i);(0!=e.length||0!=i.j.length)&&(_t(i.ma,e),_t(i.ma,i.j),i.i.i.length=0,Ke(i.j),i.j.length=0),i.h.ya()}}function Hr(i,e,t){var o=t instanceof fi?Ci(t):new fi(t);if(""!=o.g)e&&(o.g=e+"."+o.g),yo(o,o.m);else{var a=ie.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var d=new fi(null);o&&wr(d,o),e&&(d.g=e),a&&yo(d,a),t&&(d.l=t),o=d}return e=i.Da,(t=i.F)&&e&&nr(o,t,e),nr(o,"VER",i.ra),vi(i,o),o}function Wr(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Di(t&&i.Ha&&!i.va?new Jr({ob:!0}):i.va)).Oa(i.J),e}function jo(){}function Rr(){if(Tt&&!(10<=Number(En)))throw Error("Environmental error: no available transport.")}function jr(i,e){ti.call(this),this.g=new j(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!un(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!un(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ta(this)}function js(i){On.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Rs(){Nn.call(this),this.status=1}function ta(i){this.g=i}function Kr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function na(i,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var d=i.g[3],m=(e=i.g[0])+(d^(t=i.g[1])&((a=i.g[2])^d))+o[0]+3614090360&4294967295;m=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=t+(m<<7&4294967295|m>>>25))+((m=d+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=a+(t^d&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^a&(d^e))+o[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=e+(d^t&(a^d))+o[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=d+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=a+(t^d&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^a&(d^e))+o[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=e+(d^t&(a^d))+o[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=d+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=a+(t^d&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^a&(d^e))+o[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=e+(d^t&(a^d))+o[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=d+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=a+(t^d&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^a&(d^e))+o[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=e+(a^d&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=d+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=a+(e^t&(d^e))+o[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=t+(d^e&(a^d))+o[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=e+(a^d&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=d+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=a+(e^t&(d^e))+o[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=t+(d^e&(a^d))+o[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=e+(a^d&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=d+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=a+(e^t&(d^e))+o[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=t+(d^e&(a^d))+o[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=e+(a^d&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=d+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=a+(e^t&(d^e))+o[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=t+(d^e&(a^d))+o[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=e+(t^a^d)+o[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=d+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=a+(d^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=t+(a^d^e)+o[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^a^d)+o[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=d+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=a+(d^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=t+(a^d^e)+o[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^a^d)+o[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=d+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=a+(d^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=t+(a^d^e)+o[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^a^d)+o[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=d+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=a+(d^e^t)+o[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=t+(a^d^e)+o[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=e+(a^(t|~d))+o[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=d+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=a+(e^(d|~t))+o[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=t+(d^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=e+(a^(t|~d))+o[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=d+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=a+(e^(d|~t))+o[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=t+(d^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=e+(a^(t|~d))+o[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=d+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=a+(e^(d|~t))+o[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=t+(d^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((d=(e=t+((m=e+(a^(t|~d))+o[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=d+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((a=d+((m=a+(e^(d|~t))+o[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(a+(m<<21&4294967295|m>>>11))&4294967295,i.g[2]=i.g[2]+a&4294967295,i.g[3]=i.g[3]+d&4294967295}function Xi(i,e){this.h=e;for(var t=[],o=!0,a=i.length-1;0<=a;a--){var d=0|i[a];o&&d==e||(t[a]=d,o=!1)}this.g=t}(ue=Di.prototype).Oa=function(i){this.M=i},ue.ha=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Si.g(),this.C=function Wt(i){return i.h||(i.h=i.i())}(this.u?this.u:Si),this.g.onreadystatechange=tt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void As(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),a=ie.FormData&&i instanceof ie.FormData,!(0<=pe(Nr,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,m]of t)this.g.setRequestHeader(d,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yo(this),0<this.B&&((this.L=function br(i){return Tt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tt(this.ua,this)):this.A=k(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){As(this,d)}},ue.ua=function(){typeof Ie<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))},ue.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Lt(this,"complete"),Lt(this,"abort"),mr(this))},ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mr(this,!0)),Di.$.N.call(this)},ue.La=function(){this.s||(this.G||this.v||this.l?Ho(this):this.kb())},ue.kb=function(){Ho(this)},ue.isActive=function(){return!!this.g},ue.da=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ue.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ro(e)}},ue.Ia=function(){return this.m},ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=j.prototype).ra=8,ue.H=1,ue.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const a=new Yn(this,this.l,i);let d=this.s;if(this.U&&(d?(d=bt(d),Zn(d,this.U)):d=this.U),null!==this.o||this.O||(a.I=d,d=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ki(this,a,e),nr(t=Ci(this.I),"RID",i),nr(t,"CVER",22),this.F&&nr(t,"X-HTTP-Session-Id",this.F),vi(this,t),d&&(this.O?e="headers="+encodeURIComponent(String(v(d)))+"&"+e:this.o&&_(t,this.o,d)),Ss(this.i,a),this.bb&&nr(t,"TYPE","init"),this.P?(nr(t,"$req",e),nr(t,"SID","null"),a.aa=!0,sr(a,t,null)):sr(a,t,e),this.H=2}}else 3==this.H&&(i?Xn(this,i):0==this.j.length||Ir(this.i)||Xn(this))},ue.Ma=function(){if(this.u=null,co(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=we(tt(this.jb,this),i)}},ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nt(10),dt(this),co(this))},ue.ib=function(){null!=this.v&&(this.v=null,dt(this),ar(this),Nt(19))},ue.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Nt(2)):(this.l.info("Failed to ping google.com"),Nt(1))},ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(ue=jo.prototype).Ba=function(){},ue.Aa=function(){},ue.za=function(){},ue.ya=function(){},ue.isActive=function(){return!0},ue.Va=function(){},Rr.prototype.g=function(i,e){return new jr(i,e)},lt(jr,ti),jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;Nt(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Hr(i,null,i.Y),ut(i)},jr.prototype.close=function(){_e(this.g)},jr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=z(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ut(e)},jr.prototype.N=function(){this.g.h=null,delete this.j,_e(this.g),delete this.g,jr.$.N.call(this)},lt(js,On),lt(Rs,Nn),lt(ta,jo),ta.prototype.Ba=function(){Lt(this.g,"a")},ta.prototype.Aa=function(i){Lt(this.g,new js(i))},ta.prototype.za=function(i){Lt(this.g,new Rs)},ta.prototype.ya=function(){Lt(this.g,"b")},lt(Kr,function eo(){this.blockSize=-1}),Kr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Kr.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,o=this.m,a=this.h,d=0;d<e;){if(0==a)for(;d<=t;)na(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(o[a++]=i.charCodeAt(d++),a==this.blockSize){na(this,o),a=0;break}}else for(;d<e;)if(o[a++]=i[d++],a==this.blockSize){na(this,o),a=0;break}}this.h=a,this.i+=e},Kr.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)i[t++]=this.g[e]>>>o&255;return i};var ga={};function gs(i){return-128<=i&&128>i?function ui(i,e){var t=ga;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new Xi([0|e],0>e?-1:0)}):new Xi([0|i],0>i?-1:0)}function Po(i){if(isNaN(i)||!isFinite(i))return Xo;if(0>i)return rr(Po(-i));for(var e=[],t=1,o=0;i>=t;o++)e[o]=i/t|0,t*=zs;return new Xi(e,0)}var zs=4294967296,Xo=gs(0),_a=gs(1),ya=gs(16777216);function Ps(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Oo(i){return-1==i.h}function rr(i){for(var e=i.g.length,t=[],o=0;o<e;o++)t[o]=~i.g[o];return new Xi(t,~i.h).add(_a)}function Jo(i,e){return i.add(rr(e))}function xr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function es(i,e){this.g=i,this.h=e}function $s(i,e){if(Ps(e))throw Error("division by zero");if(Ps(i))return new es(Xo,Xo);if(Oo(i))return e=$s(rr(i),e),new es(rr(e.g),rr(e.h));if(Oo(e))return e=$s(i,rr(e)),new es(rr(e.g),e.h);if(30<i.g.length){if(Oo(i)||Oo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=_a,o=e;0>=o.X(i);)t=_s(t),o=_s(o);var a=ia(t,1),d=ia(o,1);for(o=ia(o,2),t=ia(t,2);!Ps(o);){var m=d.add(o);0>=m.X(i)&&(a=a.add(t),d=m),o=ia(o,1),t=ia(t,1)}return e=Jo(i,a.R(e)),new es(a,e)}for(a=Xo;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),m=(d=Po(t)).R(e);Oo(m)||0<m.X(i);)m=(d=Po(t-=o)).R(e);Ps(d)&&(d=_a),a=a.add(d),i=Jo(i,m)}return new es(a,i)}function _s(i){for(var e=i.g.length+1,t=[],o=0;o<e;o++)t[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Xi(t,i.h)}function ia(i,e){var t=e>>5;e%=32;for(var o=i.g.length-t,a=[],d=0;d<o;d++)a[d]=0<e?i.D(d+t)>>>e|i.D(d+t+1)<<32-e:i.D(d+t);return new Xi(a,i.h)}(ue=Xi.prototype).ea=function(){if(Oo(this))return-rr(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);i+=(0<=o?o:zs+o)*e,e*=zs}return i},ue.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Ps(this))return"0";if(Oo(this))return"-"+rr(this).toString(i);for(var e=Po(Math.pow(i,6)),t=this,o="";;){var a=$s(t,e).g,d=((0<(t=Jo(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Ps(t=a))return d+o;for(;6>d.length;)d="0"+d;o=d+o}},ue.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ue.X=function(i){return Oo(i=Jo(this,i))?-1:Ps(i)?0:1},ue.abs=function(){return Oo(this)?rr(this):this},ue.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0,a=0;a<=e;a++){var d=o+(65535&this.D(a))+(65535&i.D(a)),m=(d>>>16)+(this.D(a)>>>16)+(i.D(a)>>>16);o=m>>>16,t[a]=(m&=65535)<<16|(d&=65535)}return new Xi(t,-2147483648&t[t.length-1]?-1:0)},ue.R=function(i){if(Ps(this)||Ps(i))return Xo;if(Oo(this))return Oo(i)?rr(this).R(rr(i)):rr(rr(this).R(i));if(Oo(i))return rr(this.R(rr(i)));if(0>this.X(ya)&&0>i.X(ya))return Po(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<i.g.length;a++){var d=this.D(o)>>>16,m=65535&this.D(o),R=i.D(a)>>>16,G=65535&i.D(a);t[2*o+2*a]+=m*G,xr(t,2*o+2*a),t[2*o+2*a+1]+=d*G,xr(t,2*o+2*a+1),t[2*o+2*a+1]+=m*R,xr(t,2*o+2*a+1),t[2*o+2*a+2]+=d*R,xr(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Xi(t,0)},ue.gb=function(i){return $s(this,i).h},ue.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&i.D(o);return new Xi(t,this.h&i.h)},ue.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|i.D(o);return new Xi(t,this.h|i.h)},ue.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^i.D(o);return new Xi(t,this.h^i.h)},Rr.prototype.createWebChannel=Rr.prototype.g,jr.prototype.send=jr.prototype.u,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,De.COMPLETE="complete",on.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",ti.prototype.listen=ti.prototype.O,Di.prototype.listenOnce=Di.prototype.P,Di.prototype.getLastError=Di.prototype.Sa,Di.prototype.getLastErrorCode=Di.prototype.Ia,Di.prototype.getStatus=Di.prototype.da,Di.prototype.getResponseJson=Di.prototype.Wa,Di.prototype.getResponseText=Di.prototype.ja,Di.prototype.send=Di.prototype.ha,Di.prototype.setWithCredentials=Di.prototype.Oa,Kr.prototype.digest=Kr.prototype.l,Kr.prototype.reset=Kr.prototype.reset,Kr.prototype.update=Kr.prototype.j,Xi.prototype.add=Xi.prototype.add,Xi.prototype.multiply=Xi.prototype.R,Xi.prototype.modulo=Xi.prototype.gb,Xi.prototype.compare=Xi.prototype.X,Xi.prototype.toNumber=Xi.prototype.ea,Xi.prototype.toString=Xi.prototype.toString,Xi.prototype.getBits=Xi.prototype.D,Xi.fromNumber=Po,Xi.fromString=function hs(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return rr(hs(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Po(Math.pow(e,8)),o=Xo,a=0;a<i.length;a+=8){var d=Math.min(8,i.length-a),m=parseInt(i.substring(a,a+d),e);8>d?(d=Po(Math.pow(e,d)),o=o.R(d).add(Po(m))):o=(o=o.R(t)).add(Po(m))}return o};var Wa=Oe.createWebChannelTransport=function(){return new Rr},ul=Oe.getStatEventTarget=function(){return oe()},ra=Oe.ErrorCode=te,Ta=Oe.EventType=De,Da=Oe.Event=zn,N=Oe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},X=Oe.FetchXmlHttpFactory=Jr,H=Oe.WebChannel=on,he=Oe.XhrIo=Di,je=Oe.Md5=Kr,Jt=Oe.Integer=Xi;const fn="@firebase/firestore";class Bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");let pr="9.22.1";const Ui=new fe.Yd("@firebase/firestore");function Li(){return Ui.logLevel}function $(i){Ui.setLogLevel(i)}function y(i,...e){if(Ui.logLevel<=fe.in.DEBUG){const t=e.map(ne);Ui.debug(`Firestore (${pr}): ${i}`,...t)}}function w(i,...e){if(Ui.logLevel<=fe.in.ERROR){const t=e.map(ne);Ui.error(`Firestore (${pr}): ${i}`,...t)}}function L(i,...e){if(Ui.logLevel<=fe.in.WARN){const t=e.map(ne);Ui.warn(`Firestore (${pr}): ${i}`,...t)}}function ne(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function se(i="Unexpected state"){const e=`FIRESTORE (${pr}) INTERNAL ASSERTION FAILED: `+i;throw w(e),new Error(e)}function Me(i,e){i||se()}function Xe(i,e){i||se()}function $e(i,e){return i}const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends O.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class An{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $i{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bn.UNAUTHENTICATED))}shutdown(){}}class bi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ai{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const d=J=>this.i!==a?(a=this.i,t(J)):Promise.resolve();let m=new An;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new An,e.enqueueRetryable(()=>d(this.currentUser))};const R=()=>{const J=m;e.enqueueRetryable((0,c.Z)(function*(){yield J.promise,yield d(o.currentUser)}))},G=J=>{y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(J=>G(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?G(J):(y("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new An)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Me("string"==typeof o.accessToken),new Vi(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new Bn(e)}}class or{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yi{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new or(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=d=>{null!=d.error&&y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.T;return this.T=d.token,y("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const a=d=>{y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.I.onInit(d=>a(d)),setTimeout(()=>{if(!this.appCheck){const d=this.I.getImmediate({optional:!0});d?a(d):y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me("string"==typeof t.token),this.T=t.token,new Pr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Os(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Or{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=Os(40);for(let d=0;d<a.length;++d)o.length<20&&a[d]<t&&(o+=e.charAt(a[d]%e.length))}return o}}function Fn(i,e){return i<e?-1:i>e?1:0}function bo(i,e,t){return i.length===e.length&&i.every((o,a)=>t(o,e[a]))}function ls(i){return i+"\0"}class cr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ct(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new cr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ri{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ri(e)}static min(){return new ri(new cr(0,0))}static max(){return new ri(new cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ys{constructor(e,t,o){void 0===t?t=0:t>e.length&&se(),void 0===o?o=e.length-t:o>e.length-t&&se(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===ys.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const d=e.get(a),m=t.get(a);if(d<m)return-1;if(d>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ei extends ys{construct(e,t,o){return new Ei(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ct(ke.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new Ei(t)}static emptyPath(){return new Ei([])}}const Sa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends ys{construct(e,t,o){return new Ri(e,t,o)}static isValidIdentifier(e){return Sa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ri(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const d=()=>{if(0===o.length)throw new Ct(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let m=!1;for(;a<e.length;){const R=e[a];if("\\"===R){if(a+1===e.length)throw new Ct(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[a+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new Ct(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,a+=2}else"`"===R?(m=!m,a++):"."!==R||m?(o+=R,a++):(d(),a++)}if(d(),m)throw new Ct(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ri(t)}static emptyPath(){return new Ri([])}}class en{constructor(e){this.path=e}static fromPath(e){return new en(Ei.fromString(e))}static fromName(e){return new en(Ei.fromString(e).popFirst(5))}static empty(){return new en(Ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ei.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ei.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new en(new Ei(e.slice()))}}class Jn{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function wi(i){return i.fields.find(e=>2===e.kind)}function Ti(i){return i.fields.filter(e=>2!==e.kind)}Jn.UNKNOWN_ID=-1;class wo{constructor(e,t){this.fieldPath=e,this.kind=t}}class ko{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ko(0,go.min())}}function Tr(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,a=ri.fromTimestamp(1e9===o?new cr(t+1,0):new cr(t,o));return new go(a,en.empty(),e)}function Ma(i){return new go(i.readTime,i.key,-1)}class go{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new go(ri.min(),en.empty(),-1)}static max(){return new go(ri.max(),en.empty(),-1)}}function Fr(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=en.comparator(i.documentKey,e.documentKey),0!==t?t:Fn(i.largestBatchId,e.largestBatchId))}const ts="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _o(i){return vs.apply(this,arguments)}function vs(){return vs=(0,c.Z)(function*(i){if(i.code!==ke.FAILED_PRECONDITION||i.message!==ts)throw i;y("LocalStore","Unexpectedly lost primary lease")}),vs.apply(this,arguments)}class qt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qt((o,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qt?t:qt.resolve(t)}catch(t){return qt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qt.reject(t)}static resolve(e){return new qt((t,o)=>{t(e)})}static reject(e){return new qt((t,o)=>{o(e)})}static waitFor(e){return new qt((t,o)=>{let a=0,d=0,m=!1;e.forEach(R=>{++a,R.next(()=>{++d,m&&d===a&&t()},G=>o(G))}),m=!0,d===a&&t()})}static or(e){let t=qt.resolve(!1);for(const o of e)t=t.next(a=>a?qt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,d)=>{o.push(t.call(this,a,d))}),this.waitFor(o)}static mapArray(e,t){return new qt((o,a)=>{const d=e.length,m=new Array(d);let R=0;for(let G=0;G<d;G++){const J=G;t(e[J]).next(ye=>{m[J]=ye,++R,R===d&&o(m)},ye=>a(ye))}})}static doWhile(e,t){return new qt((o,a)=>{const d=()=>{!0===e()?t().next(()=>{d()},a):o()};d()})}}class dl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new An,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Aa(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=vc(o.target.error);this.v.reject(new Aa(e,a))}}static open(e,t,o,a){try{return new dl(t,e.transaction(a,o))}catch(d){throw new Aa(t,d)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ka(t)}}class Qi{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Qi.S((0,O.z$)())&&w("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return y("SimpleDb","Removing database:",e),hl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,O.hl)())return!1;if(Qi.C())return!0;const e=(0,O.z$)(),t=Qi.S(e),o=0<t&&t<10,a=Qi.N(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,c.Z)(function*(){return t.db||(y("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=m=>{o(m.target.result)},d.onblocked=()=>{a(new Aa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const R=m.target.error;a("VersionError"===R.name?new Ct(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Ct(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new Aa(e,R))},d.onupgradeneeded=m=>{y("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.V.O(m.target.result,d.transaction,m.oldVersion,t.version).next(()=>{y("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var d=this;return(0,c.Z)(function*(){const m="readonly"===t;let R=0;for(;;){++R;try{d.db=yield d.$(e);const G=dl.open(d.db,e,m?"readonly":"readwrite",o),J=a(G).next(ye=>(G.P(),ye)).catch(ye=>(G.abort(ye),qt.reject(ye))).toPromise();return J.catch(()=>{}),yield G.R,J}catch(G){const J=G,ye="FirebaseError"!==J.name&&R<3;if(y("SimpleDb","Transaction failed with error:",J.message,"Retrying:",ye),d.close(),!ye)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kd{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return hl(this.L.delete())}}class Aa extends Ct{constructor(e,t){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ba(i){return"IndexedDbTransactionError"===i.name}class Ka{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(y("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(y("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),hl(o)}add(e){return y("SimpleDb","ADD",this.store.name,e,e),hl(this.store.add(e))}get(e){return hl(this.store.get(e)).next(t=>(void 0===t&&(t=null),y("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return y("SimpleDb","DELETE",this.store.name,e),hl(this.store.delete(e))}count(){return y("SimpleDb","COUNT",this.store.name),hl(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),d=[];return this.W(a,(m,R)=>{d.push(R)}).next(()=>d)}{const a=this.store.getAll(o.range);return new qt((d,m)=>{a.onerror=R=>{m(R.target.error)},a.onsuccess=R=>{d(R.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new qt((a,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{a(m.target.result)}})}J(e,t){y("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(d,m,R)=>R.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new qt((o,a)=>{t.onerror=d=>{const m=vc(d.target.error);a(m)},t.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(R=>{R?m.continue():o()}):o()}})}W(e,t){const o=[];return new qt((a,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const R=m.target.result;if(!R)return void a();const G=new kd(R),J=t(R.primaryKey,R.value,G);if(J instanceof qt){const ye=J.catch(Ze=>(G.done(),qt.reject(Ze)));o.push(ye)}G.isDone?a():null===G.K?R.continue():R.continue(G.K)}}).next(()=>qt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hl(i){return new qt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const a=vc(o.target.error);t(a)}})}let Al=!1;function vc(i){const e=Qi.S((0,O.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Al||(Al=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ua{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;y("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.Z)(function*(){t.task=null;try{y("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){Ba(o)?y("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield _o(o)}yield t.et(6e4)}))}}class ju{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,c.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,d=!0;return qt.doWhile(()=>!0===d&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return y("IndexBackiller",`Processing collection: ${m}`),this.it(e,m,a).next(R=>{a-=R,o.add(m)});d=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(d=>{const m=d.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.rt(a,d)).next(R=>(y("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>m.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,d)=>{const m=Ma(d);Fr(m,o)>0&&(o=m)}),new go(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let fs=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function to(i){return null==i}function oa(i){return 0===i&&1/i==-1/0}function Za(i){return"number"==typeof i&&Number.isInteger(i)&&!oa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function No(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ks(e)),e=bs(i.get(t),e);return ks(e)}function bs(i,e){let t=e;const o=i.length;for(let a=0;a<o;a++){const d=i.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function ks(i){return i+"\x01\x01"}function sa(i){const e=i.length;if(Me(e>=2),2===e)return Me("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ei.emptyPath();const t=e-2,o=[];let a="";for(let d=0;d<e;){const m=i.indexOf("\x01",d);switch((m<0||m>t)&&se(),i.charAt(m+1)){case"\x01":const R=i.substring(d,m);let G;0===a.length?G=R:(a+=R,G=a,a=""),o.push(G);break;case"\x10":a+=i.substring(d,m),a+="\0";break;case"\x11":a+=i.substring(d,m+1);break;default:se()}d=m+2}return new Ei(o)}const I=["userId","batchId"];function S(i,e){return[i,No(e)]}function E(i,e,t){return[i,No(e),t]}const F={},W=["prefixPath","collectionGroup","readTime","documentId"],le=["prefixPath","collectionGroup","documentId"],ve=["collectionGroup","readTime","prefixPath","documentId"],At=["canonicalId","targetId"],hn=["targetId","path"],Kn=["path","targetId"],qn=["collectionId","parent"],Hi=["indexId","uid"],Co=["uid","sequenceNumber"],va=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ns=["indexId","uid","orderedDocumentKey"],aa=["userId","collectionPath","documentId"],Es=["userId","collectionPath","largestBatchId"],Gs=["userId","collectionGroup","largestBatchId"],ba=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fl=[...ba,"documentOverlays"],Rl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jl=Rl,bc=[...Jl,"indexConfiguration","indexState","indexEntries"];class ec extends zo{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function xo(i,e){const t=$e(i);return Qi.M(t.ht,e)}function qa(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Fs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function zu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Lr{constructor(e,t){this.comparator=e,this.root=t||uo.EMPTY}insert(e,t){return new Lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,uo.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class uo{constructor(e,t,o,a,d){this.key=e,this.value=t,this.color=o??uo.RED,this.left=a??uo.EMPTY,this.right=d??uo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,d){return new uo(e??this.key,t??this.value,o??this.color,a??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const d=o(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return uo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return uo.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,uo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,uo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}uo.EMPTY=null,uo.RED=!0,uo.BLACK=!1,uo.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(i,e,t,o,a){return this}insert(i,e,t){return new uo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sr{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nd(this.data.getIterator())}getIteratorFrom(e){return new Nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sr(this.comparator);return t.data=e,t}}class Nd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pl(i){return i.hasNext()?i.getNext():void 0}class ws{constructor(e){this.fields=e,e.sort(Ri.comparator)}static empty(){return new ws([])}unionWith(e){let t=new Sr(Ri.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Ec extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Fd(){return typeof atob<"u"}class $o{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ec("Invalid base64 string: "+a):a}}(e);return new $o(t)}static fromUint8Array(e){const t=function(o){let a="";for(let d=0;d<o.length;++d)a+=String.fromCharCode(o[d]);return a}(e);return new $o(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$o.EMPTY_BYTE_STRING=new $o("");const ou=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(i){if(Me(!!i),"string"==typeof i){let e=0;const t=ou.exec(i);if(Me(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:no(i.seconds),nanos:no(i.nanos)}}function no(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function la(i){return"string"==typeof i?$o.fromBase64String(i):$o.fromUint8Array(i)}function wc(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Cc(i){const e=i.mapValue.fields.__previous_value__;return wc(e)?Cc(e):e}function Pl(i){const e=Ya(i.mapValue.fields.__local_write_time__.timestampValue);return new cr(e.seconds,e.nanos)}class $u{constructor(e,t,o,a,d,m,R,G,J){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=R,this.longPollingOptions=G,this.useFetchStreams=J}}class Ra{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ra&&e.projectId===this.projectId&&e.database===this.database}}const Ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ol={nullValue:"NULL_VALUE"};function Ws(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wc(i)?4:ca(i)?9007199254740991:10:se()}function Ks(i,e){if(i===e)return!0;const t=Ws(i);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pl(i).isEqual(Pl(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const d=Ya(o.timestampValue),m=Ya(a.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return a=e,la(i.bytesValue).isEqual(la(a.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,a){return no(o.geoPointValue.latitude)===no(a.geoPointValue.latitude)&&no(o.geoPointValue.longitude)===no(a.geoPointValue.longitude)}(i,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return no(o.integerValue)===no(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const d=no(o.doubleValue),m=no(a.doubleValue);return d===m?oa(d)===oa(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return bo(i.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:return function(o,a){const d=o.mapValue.fields||{},m=a.mapValue.fields||{};if(qa(d)!==qa(m))return!1;for(const R in d)if(d.hasOwnProperty(R)&&(void 0===m[R]||!Ks(d[R],m[R])))return!1;return!0}(i,e);default:return se()}var a}function kl(i,e){return void 0!==(i.values||[]).find(t=>Ks(t,e))}function Zs(i,e){if(i===e)return 0;const t=Ws(i),o=Ws(e);if(t!==o)return Fn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fn(i.booleanValue,e.booleanValue);case 2:return function(a,d){const m=no(a.integerValue||a.doubleValue),R=no(d.integerValue||d.doubleValue);return m<R?-1:m>R?1:m===R?0:isNaN(m)?isNaN(R)?0:-1:1}(i,e);case 3:return xc(i.timestampValue,e.timestampValue);case 4:return xc(Pl(i),Pl(e));case 5:return Fn(i.stringValue,e.stringValue);case 6:return function(a,d){const m=la(a),R=la(d);return m.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(a,d){const m=a.split("/"),R=d.split("/");for(let G=0;G<m.length&&G<R.length;G++){const J=Fn(m[G],R[G]);if(0!==J)return J}return Fn(m.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,d){const m=Fn(no(a.latitude),no(d.latitude));return 0!==m?m:Fn(no(a.longitude),no(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,d){const m=a.values||[],R=d.values||[];for(let G=0;G<m.length&&G<R.length;++G){const J=Zs(m[G],R[G]);if(J)return J}return Fn(m.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,d){if(a===Ea.mapValue&&d===Ea.mapValue)return 0;if(a===Ea.mapValue)return 1;if(d===Ea.mapValue)return-1;const m=a.fields||{},R=Object.keys(m),G=d.fields||{},J=Object.keys(G);R.sort(),J.sort();for(let ye=0;ye<R.length&&ye<J.length;++ye){const Ze=Fn(R[ye],J[ye]);if(0!==Ze)return Ze;const Kt=Zs(m[R[ye]],G[J[ye]]);if(0!==Kt)return Kt}return Fn(R.length,J.length)}(i.mapValue,e.mapValue);default:throw se()}}function xc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Fn(i,e);const t=Ya(i),o=Ya(e),a=Fn(t.seconds,o.seconds);return 0!==a?a:Fn(t.nanos,o.nanos)}function Qa(i){return Ic(i)}function Ic(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const a=Ya(o);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?la(i.bytesValue).toBase64():"referenceValue"in i?en.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let a="[",d=!0;for(const m of o.values||[])d?d=!1:a+=",",a+=Ic(m);return a+"]"}(i.arrayValue):"mapValue"in i?function(o){const a=Object.keys(o.fields||{}).sort();let d="{",m=!0;for(const R of a)m?m=!1:d+=",",d+=`${R}:${Ic(o.fields[R])}`;return d+"}"}(i.mapValue):se();var e}function ml(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Gu(i){return!!i&&"integerValue"in i}function Nl(i){return!!i&&"arrayValue"in i}function Tc(i){return!!i&&"nullValue"in i}function Pa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fl(i){return!!i&&"mapValue"in i}function Ll(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fs(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Ll(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ca(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function gl(i){return"nullValue"in i?Ol:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ml(Ra.empty(),en.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:se()}function Dc(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ml(Ra.empty(),en.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ea:se()}function Xa(i,e){const t=Zs(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function au(i,e){const t=Zs(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Fl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=Ri.emptyPath(),o={},a=[];e.forEach((m,R)=>{if(!t.isImmediateParentOf(R)){const G=this.getFieldsMap(t);this.applyChanges(G,o,a),o={},a=[],t=R.popLast()}m?o[R.lastSegment()]=Ll(m):a.push(R.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,a)}delete(e){const t=this.field(e.popLast());Fl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];Fl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){Fs(t,(a,d)=>e[a]=d);for(const a of o)delete e[a]}clone(){return new ns(Ll(this.value))}}function lu(i){const e=[];return Fs(i.fields,(t,o)=>{const a=new Ri([t]);if(Fl(o)){const d=lu(o.mapValue).fields;if(0===d.length)e.push(a);else for(const m of d)e.push(a.child(m))}else e.push(a)}),new ws(e)}class io{constructor(e,t,o,a,d,m,R){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=d,this.data=m,this.documentState=R}static newInvalidDocument(e){return new io(e,0,ri.min(),ri.min(),ri.min(),ns.empty(),0)}static newFoundDocument(e,t,o,a){return new io(e,1,t,ri.min(),o,a,0)}static newNoDocument(e,t){return new io(e,2,t,ri.min(),ri.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new io(e,3,t,ri.min(),ri.min(),ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ri.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ri.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof io&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new io(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ja{constructor(e,t){this.position=e,this.inclusive=t}}function Wu(i,e,t){let o=0;for(let a=0;a<i.position.length;a++){const d=e[a],m=i.position[a];if(o=d.field.isKeyField()?en.comparator(en.fromName(m.referenceValue),t.key):Zs(m,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function M(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ks(i.position[t],e.position[t]))return!1;return!0}class B{constructor(e,t="asc"){this.field=e,this.dir=t}}function q(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pe{}class We extends Pe{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Bl(e,t,o):"array-contains"===t?new wa(e,o):"in"===t?new nc(e,o):"not-in"===t?new Ld(e,o):"array-contains-any"===t?new cu(e,o):new We(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Sc(e,o):new _l(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zs(t,this.value)):null!==t&&Ws(this.value)===Ws(t)&&this.matchesComparison(Zs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pt extends Pe{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new pt(e,t)}matches(e){return Xt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xt(i){return"and"===i.op}function Hn(i){return"or"===i.op}function Un(i){return pi(i)&&Xt(i)}function pi(i){for(const e of i.filters)if(e instanceof pt)return!1;return!0}function Pi(i){if(i instanceof We)return i.field.canonicalString()+i.op.toString()+Qa(i.value);if(Un(i))return i.filters.map(e=>Pi(e)).join(",");{const e=i.filters.map(t=>Pi(t)).join(",");return`${i.op}(${e})`}}function Ni(i,e){return i instanceof We?(t=i,(o=e)instanceof We&&t.op===o.op&&t.field.isEqual(o.field)&&Ks(t.value,o.value)):i instanceof pt?function(t,o){return o instanceof pt&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,d,m)=>a&&Ni(d,o.filters[m]),!0)}(i,e):void se();var t,o}function qs(i,e){const t=i.filters.concat(e);return pt.create(t,i.op)}function Io(i){return i instanceof We?`${(e=i).field.canonicalString()} ${e.op} ${Qa(e.value)}`:i instanceof pt?function(e){return e.op.toString()+" {"+e.getFilters().map(Io).join(" ,")+"}"}(i):"Filter";var e}class Bl extends We{constructor(e,t,o){super(e,t,o),this.key=en.fromName(o.referenceValue)}matches(e){const t=en.comparator(e.key,this.key);return this.matchesComparison(t)}}class Sc extends We{constructor(e,t){super(e,"in",t),this.keys=ua(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _l extends We{constructor(e,t){super(e,"not-in",t),this.keys=ua(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ua(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>en.fromName(o.referenceValue))}class wa extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nl(t)&&kl(t.arrayValue,this.value)}}class nc extends We{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&kl(this.value.arrayValue,t)}}class Ld extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!kl(this.value.arrayValue,t)}}class cu extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>kl(this.value.arrayValue,o))}}class Um{constructor(e,t=null,o=[],a=[],d=null,m=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=d,this.startAt=m,this.endAt=R,this.dt=null}}function uu(i,e=null,t=[],o=[],a=null,d=null,m=null){return new Um(i,e,t,o,a,d,m)}function el(i){const e=$e(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Pi(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),to(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Qa(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Qa(o)).join(",")),e.dt=t}return e.dt}function tl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!q(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Ni(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!M(i.startAt,e.startAt)&&M(i.endAt,e.endAt)}function Mc(i){return en.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function nl(i,e){return i.filters.filter(t=>t instanceof We&&t.field.isEqual(e))}function Ku(i,e,t){let o=Ol,a=!0;for(const d of nl(i,e)){let m=Ol,R=!0;switch(d.op){case"<":case"<=":m=gl(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,R=!1;break;case"!=":case"not-in":m=Ol}Xa({value:o,inclusive:a},{value:m,inclusive:R})<0&&(o=m,a=R)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];Xa({value:o,inclusive:a},{value:m,inclusive:t.inclusive})<0&&(o=m,a=t.inclusive);break}return{value:o,inclusive:a}}function Bd(i,e,t){let o=Ea,a=!0;for(const d of nl(i,e)){let m=Ea,R=!0;switch(d.op){case">=":case">":m=Dc(d.value),R=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,R=!1;break;case"!=":case"not-in":m=Ea}au({value:o,inclusive:a},{value:m,inclusive:R})>0&&(o=m,a=R)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];au({value:o,inclusive:a},{value:m,inclusive:t.inclusive})>0&&(o=m,a=t.inclusive);break}return{value:o,inclusive:a}}class yl{constructor(e,t=null,o=[],a=[],d=null,m="F",R=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=d,this.limitType=m,this.startAt=R,this.endAt=G,this.wt=null,this._t=null}}function Zu(i,e,t,o,a,d,m,R){return new yl(i,e,t,o,a,d,m,R)}function Ac(i){return new yl(i)}function Ud(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Vd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Hd(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vl(i){return null!==i.collectionGroup}function ic(i){const e=$e(i);if(null===e.wt){e.wt=[];const t=Hd(e),o=Vd(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new B(t)),e.wt.push(new B(Ri.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e.wt.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new B(Ri.keyField(),d))}}}return e.wt}function Ls(i){const e=$e(i);if(!e._t)if("F"===e.limitType)e._t=uu(e.path,e.collectionGroup,ic(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of ic(e))t.push(new B(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Ja(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ja(e.startAt.position,e.startAt.inclusive):null;e._t=uu(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function rc(i,e){e.getFirstInequalityField(),Hd(i);const t=i.filters.concat([e]);return new yl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function du(i,e,t){return new yl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function bl(i,e){return tl(Ls(i),Ls(e))&&i.limitType===e.limitType}function $h(i){return`${el(Ls(i))}|lt:${i.limitType}`}function jd(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Io(o)).join(", ")}]`),to(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Qa(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Qa(o)).join(",")),`Target(${t})`}(Ls(i))}; limitType=${i.limitType})`}function Ul(i,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):en.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(i,e)&&function(t,o){for(const a of ic(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(i,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(a,d,m){const R=Wu(a,d,m);return a.inclusive?R<=0:R<0}(t.startAt,ic(t),o)||t.endAt&&!function(a,d,m){const R=Wu(a,d,m);return a.inclusive?R>=0:R>0}(t.endAt,ic(t),o)));var t,o}function zd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vl(i){return(e,t)=>{let o=!1;for(const a of ic(i)){const d=qu(a,e,t);if(0!==d)return d;o=o||a.field.isKeyField()}return 0}}function qu(i,e,t){const o=i.field.isKeyField()?en.comparator(e.key,t.key):function(a,d,m){const R=d.data.field(a),G=m.data.field(a);return null!==R&&null!==G?Zs(R,G):se()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return se()}}class il{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,d]of o)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(t,o)=>{for(const[a,d]of o)e(a,d)})}isEmpty(){return zu(this.inner)}size(){return this.innerSize}}const hp=new Lr(en.comparator);function Ca(){return hp}const hu=new Lr(en.comparator);function fu(...i){let e=hu;for(const t of i)e=e.insert(t.key,t);return e}function Yu(i){let e=hu;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function xa(){return oc()}function $d(){return oc()}function oc(){return new il(i=>i.toString(),(i,e)=>i.isEqual(e))}const Qu=new Lr(en.comparator),Rc=new Sr(en.comparator);function Gi(...i){let e=Rc;for(const t of i)e=e.add(t);return e}const Gh=new Sr(Fn);function Hl(){return Gh}function Xu(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oa(e)?"-0":e}}function Ju(i){return{integerValue:""+i}}function Pc(i,e){return Za(e)?Ju(e):Xu(i,e)}class pu{constructor(){this._=void 0}}function Wh(i,e,t){return i instanceof Oc?function(o,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&wc(a)&&(a=Cc(a)),a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):i instanceof Oa?Gd(i,e):i instanceof Va?ed(i,e):function(o,a){const d=Kh(o,a),m=Zh(d)+Zh(o.gt);return Gu(d)&&Gu(o.gt)?Ju(m):Xu(o.serializer,m)}(i,e)}function fp(i,e,t){return i instanceof Oa?Gd(i,e):i instanceof Va?ed(i,e):t}function Kh(i,e){return i instanceof Ha?Gu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Oc extends pu{}class Oa extends pu{constructor(e){super(),this.elements=e}}function Gd(i,e){const t=qh(e);for(const o of i.elements)t.some(a=>Ks(a,o))||t.push(o);return{arrayValue:{values:t}}}class Va extends pu{constructor(e){super(),this.elements=e}}function ed(i,e){let t=qh(e);for(const o of i.elements)t=t.filter(a=>!Ks(a,o));return{arrayValue:{values:t}}}class Ha extends pu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Zh(i){return no(i.integerValue||i.doubleValue)}function qh(i){return Nl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class mu{constructor(e,t){this.field=e,this.transform=t}}class gu{constructor(e,t){this.version=e,this.transformResults=t}}class ho{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ho}static exists(e){return new ho(void 0,e)}static updateTime(e){return new ho(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class El{}function td(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Go(i.key,ho.none()):new zl(i.key,i.data,ho.none());{const t=i.data,o=ns.empty();let a=new Sr(Ri.comparator);for(let d of e.fields)if(!a.has(d)){let m=t.field(d);null===m&&d.length>1&&(d=d.popLast(),m=t.field(d)),null===m?o.delete(d):o.set(d,m),a=a.add(d)}return new ja(i.key,o,new ws(a.toArray()),ho.none())}}function da(i,e,t){i instanceof zl?function(o,a,d){const m=o.value.clone(),R=Zd(o.fieldTransforms,a,d.transformResults);m.setAll(R),a.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ja?function(o,a,d){if(!_u(o.precondition,a))return void a.convertToUnknownDocument(d.version);const m=Zd(o.fieldTransforms,a,d.transformResults),R=a.data;R.setAll(Yh(o)),R.setAll(m),a.convertToFoundDocument(d.version,R).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rl(i,e,t,o){return i instanceof zl?function(a,d,m,R){if(!_u(a.precondition,d))return m;const G=a.value.clone(),J=Qh(a.fieldTransforms,R,d);return G.setAll(J),d.convertToFoundDocument(d.version,G).setHasLocalMutations(),null}(i,e,t,o):i instanceof ja?function(a,d,m,R){if(!_u(a.precondition,d))return m;const G=Qh(a.fieldTransforms,R,d),J=d.data;return J.setAll(Yh(a)),J.setAll(G),d.convertToFoundDocument(d.version,J).setHasLocalMutations(),null===m?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ye=>ye.field))}(i,e,t,o):(m=t,_u(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m);var d,m}function Kd(i,e){let t=null;for(const o of i.fieldTransforms){const a=e.data.field(o.field),d=Kh(o.transform,a||null);null!=d&&(null===t&&(t=ns.empty()),t.set(o.field,d))}return t||null}function jl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&bo(t,o,(a,d)=>function Wd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Oa&&o instanceof Oa||t instanceof Va&&o instanceof Va?bo(t.elements,o.elements,Ks):t instanceof Ha&&o instanceof Ha?Ks(t.gt,o.gt):t instanceof Oc&&o instanceof Oc);var t,o}(a,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class zl extends El{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ja extends El{constructor(e,t,o,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Yh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Zd(i,e,t){const o=new Map;Me(i.length===t.length);for(let a=0;a<t.length;a++){const d=i[a],m=d.transform,R=e.data.field(d.field);o.set(d.field,fp(m,R,t[a]))}return o}function Qh(i,e,t){const o=new Map;for(const a of i){const d=a.transform,m=t.data.field(a.field);o.set(a.field,Wh(d,m,e))}return o}class Go extends El{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wl extends El{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qd{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&da(d,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=rl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=rl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=$d();return this.mutations.forEach(a=>{const d=e.get(a.key),m=d.overlayedDocument;let R=this.applyToLocalView(m,d.mutatedFields);R=t.has(a.key)?null:R;const G=td(m,R);null!==G&&o.set(a.key,G),m.isValidDocument()||m.convertToNoDocument(ri.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gi())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,o)=>jl(t,o))&&bo(this.baseMutations,e.baseMutations,(t,o)=>jl(t,o))}}class Yd{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){Me(e.mutations.length===o.length);let a=Qu;const d=e.mutations;for(let m=0;m<d.length;m++)a=a.insert(d[m].key,o[m].version);return new Yd(e,t,o,a)}}class Qd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ha{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fo,gr;function Jh(i){switch(i){default:return se();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function ol(i){if(void 0===i)return w("GRPC error has no .code"),ke.UNKNOWN;switch(i){case Fo.OK:return ke.OK;case Fo.CANCELLED:return ke.CANCELLED;case Fo.UNKNOWN:return ke.UNKNOWN;case Fo.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Fo.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Fo.INTERNAL:return ke.INTERNAL;case Fo.UNAVAILABLE:return ke.UNAVAILABLE;case Fo.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Fo.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Fo.NOT_FOUND:return ke.NOT_FOUND;case Fo.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Fo.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Fo.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Fo.ABORTED:return ke.ABORTED;case Fo.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Fo.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Fo.DATA_LOSS:return ke.DATA_LOSS;default:return se()}}(gr=Fo||(Fo={}))[gr.OK=0]="OK",gr[gr.CANCELLED=1]="CANCELLED",gr[gr.UNKNOWN=2]="UNKNOWN",gr[gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gr[gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gr[gr.NOT_FOUND=5]="NOT_FOUND",gr[gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",gr[gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",gr[gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",gr[gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gr[gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gr[gr.ABORTED=10]="ABORTED",gr[gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",gr[gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",gr[gr.INTERNAL=13]="INTERNAL",gr[gr.UNAVAILABLE=14]="UNAVAILABLE",gr[gr.DATA_LOSS=15]="DATA_LOSS";class sc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yu}static getOrCreateInstance(){return null===yu&&(yu=new sc),yu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let yu=null;function kc(){return new TextEncoder}const Cl=new Jt([4294967295,4294967295],0);function $l(i){const e=kc().encode(i),t=new je;return t.update(e),new Uint8Array(t.digest())}function Xd(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Jt([t,o],0),new Jt([a,d],0)]}class nd{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new Nc(`Invalid padding: ${t}`);if(o<0)throw new Nc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Nc(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new Nc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Jt.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(Jt.fromNumber(o)));return 1===a.compare(Cl)&&(a=new Jt([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=$l(e),[o,a]=Xd(t);for(let d=0;d<this.hashCount;d++){const m=this.Et(o,a,d);if(!this.At(m))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),m=new nd(d,a,t);return o.forEach(R=>m.insert(R)),m}insert(e){if(0===this.It)return;const t=$l(e),[o,a]=Xd(t);for(let d=0;d<this.hashCount;d++){const m=this.Et(o,a,d);this.Rt(m)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(e,t,o,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,b.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new id(ri.min(),a,new Lr(Fn),Ca(),Gi())}}class b{constructor(e,t,o,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new b(o,t,Gi(),Gi(),Gi())}}class h{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class f{constructor(e,t){this.targetId=e,this.Vt=t}}class T{constructor(e,t,o=$o.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class K{constructor(){this.St=0,this.Dt=Gt(),this.Ct=$o.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gi(),t=Gi(),o=Gi();return this.Dt.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:se()}}),new b(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=Gt()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class de{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ca(),this.zt=it(),this.Wt=new Lr(Fn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,d=this.se(o);if(d){const m=d.target;if(Mc(m))if(0===a){const R=new en(m.path);this.Yt(o,R,io.newNoDocument(R,ri.min()))}else Me(1===a);else{const R=this.ie(o);if(R!==a){const G=this.re(e,R);0!==G&&(this.ee(o),this.Wt=this.Wt.insert(o,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=sc.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(J,ye,Ze){var Kt,cn,Pn,ni,si,Ji;const Dr={localCacheCount:ye,existenceFilterCount:Ze.count},_r=Ze.unchangedNames;return _r&&(Dr.bloomFilter={applied:0===J,hashCount:null!==(Kt=_r?.hashCount)&&void 0!==Kt?Kt:0,bitmapLength:null!==(ni=null===(Pn=null===(cn=_r?.bits)||void 0===cn?void 0:cn.bitmap)||void 0===Pn?void 0:Pn.length)&&void 0!==ni?ni:0,padding:null!==(Ji=null===(si=_r?.bits)||void 0===si?void 0:si.padding)&&void 0!==Ji?Ji:0}),Dr}(G,R,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:d="",padding:m=0},hashCount:R=0}=o;let G,J;try{G=la(d).toUint8Array()}catch(ye){if(ye instanceof Ec)return L("Decoding the base64 bloom filter in existence filter failed ("+ye.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ye}try{J=new nd(G,m,R)}catch(ye){return L(ye instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",ye),1}return 0===J.It?1:a!==t-this.oe(e.targetId,J)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(d=>{const m=this.Gt.ue(),R=`projects/${m.projectId}/databases/${m.database}/documents/${d.path.canonicalString()}`;t.vt(R)||(this.Yt(e,d,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((d,m)=>{const R=this.se(m);if(R){if(d.current&&Mc(R.target)){const G=new en(R.target.path);null!==this.jt.get(G)||this.ae(m,G)||this.Yt(m,G,io.newNoDocument(G,e))}d.Mt&&(t.set(m,d.Ot()),d.Ft())}});let o=Gi();this.zt.forEach((d,m)=>{let R=!0;m.forEachWhile(G=>{const J=this.se(G);return!J||"TargetPurposeLimboResolution"===J.purpose||(R=!1,!1)}),R&&(o=o.add(d))}),this.jt.forEach((d,m)=>m.setReadTime(e));const a=new id(e,t,this.Wt,this.jt,o);return this.jt=Ca(),this.zt=it(),this.Wt=new Lr(Fn),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new K,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Sr(Fn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||y("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new K),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function it(){return new Lr(en.comparator)}function Gt(){return new Lr(en.comparator)}const xn={asc:"ASCENDING",desc:"DESCENDING"},jn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oi={and:"AND",or:"OR"};class ai{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zr(i,e){return i.useProto3Json||to(e)?e:{value:e}}function Cs(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ac(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ef(i,e){return Cs(i,e.toTimestamp())}function Ki(i){return Me(!!i),ri.fromTimestamp(function(e){const t=Ya(e);return new cr(t.seconds,t.nanos)}(i))}function vu(i,e){return(t=i,new Ei(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Jd(i){const e=Ei.fromString(i);return Me(Uc(e)),e}function xl(i,e){return vu(i.databaseId,e.path)}function ka(i,e){const t=Jd(e);if(t.get(1)!==i.databaseId.projectId)throw new Ct(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ct(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new en(tf(t))}function rd(i,e){return vu(i.databaseId,e)}function od(i){const e=Jd(i);return 4===e.length?Ei.emptyPath():tf(e)}function Fc(i){return new Ei(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tf(i){return Me(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function bu(i,e,t){return{name:xl(i,e),fields:t.value.mapValue.fields}}function pp(i,e,t){const o=ka(i,e.name),a=Ki(e.updateTime),d=e.createTime?Ki(e.createTime):ri.min(),m=new ns({mapValue:{fields:e.fields}}),R=io.newFoundDocument(o,a,d,m);return t&&R.setHasCommittedMutations(),t?R.setHasCommittedMutations():R}function Eu(i,e){let t;if(e instanceof zl)t={update:bu(i,e.key,e.value)};else if(e instanceof Go)t={delete:xl(i,e.key)};else if(e instanceof ja)t={update:bu(i,e.key,e.data),updateMask:$m(e.fieldMask)};else{if(!(e instanceof wl))return se();t={verify:xl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,d){const m=d.transform;if(m instanceof Oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Va)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ha)return{fieldPath:d.field.canonicalString(),increment:m.gt};throw se()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:ef(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:se()),t;var a}function nf(i,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ho.updateTime(Ki(a.updateTime)):void 0!==a.exists?ho.exists(a.exists):ho.none():ho.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(d,m){let R=null;"setToServerValue"in m?(Me("REQUEST_TIME"===m.setToServerValue),R=new Oc):"appendMissingElements"in m?R=new Oa(m.appendMissingElements.values||[]):"removeAllFromArray"in m?R=new Va(m.removeAllFromArray.values||[]):"increment"in m?R=new Ha(d,m.increment):se();const G=Ri.fromServerFormat(m.fieldPath);return new mu(G,R)}(i,a)):[];var a;if(e.update){const a=ka(i,e.update.name),d=new ns({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new ws((e.updateMask.fieldPaths||[]).map(J=>Ri.fromServerFormat(J)));return new ja(a,d,m,t,o)}return new zl(a,d,t,o)}if(e.delete){const a=ka(i,e.delete);return new Go(a,t)}if(e.verify){const a=ka(i,e.verify);return new wl(a,t)}return se()}function mp(i,e){return{documents:[rd(i,e.path)]}}function Hm(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=rd(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rd(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(G){if(0!==G.length)return vp(pt.create(G,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const d=function(G){if(0!==G.length)return G.map(J=>{return{field:Lc((ye=J).field),direction:_p(ye.dir)};var ye})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=Zr(i,e.limit);var R,G;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function jm(i){let e=od(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){Me(1===o);const ye=t.from[0];ye.allDescendants?a=ye.collectionId:e=e.child(ye.collectionId)}let d=[];t.where&&(d=function(ye){const Ze=gp(ye);return Ze instanceof pt&&Un(Ze)?Ze.getFilters():[Ze]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(ye=>{return new B(Bc((Ze=ye).field),function(Kt){switch(Kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ze.direction));var Ze}));let R=null;t.limit&&(R=function(ye){let Ze;return Ze="object"==typeof ye?ye.value:ye,to(Ze)?null:Ze}(t.limit));let G=null;var ye;t.startAt&&(G=new Ja((ye=t.startAt).values||[],!!ye.before));let J=null;return t.endAt&&(J=function(ye){return new Ja(ye.values||[],!ye.before)}(t.endAt)),Zu(e,a,m,d,R,"F",G,J)}function gp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bc(e.unaryFilter.field);return We.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Bc(e.unaryFilter.field);return We.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bc(e.unaryFilter.field);return We.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Bc(e.unaryFilter.field);return We.create(d,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(i):void 0!==i.fieldFilter?We.create(Bc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return pt.create(e.compositeFilter.filters.map(t=>gp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return se()}}(e.compositeFilter.op))}(i):se();var e}function _p(i){return xn[i]}function Hv(i){return jn[i]}function yp(i){return oi[i]}function Lc(i){return{fieldPath:i.canonicalString()}}function Bc(i){return Ri.fromServerFormat(i.fieldPath)}function vp(i){return i instanceof We?function(e){if("=="===e.op){if(Pa(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NAN"}};if(Tc(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pa(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NOT_NAN"}};if(Tc(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(e.field),op:Hv(e.op),value:e.value}}}(i):i instanceof pt?function(e){const t=e.getFilters().map(o=>vp(o));return 1===t.length?t[0]:{compositeFilter:{op:yp(e.op),filters:t}}}(i):se()}function $m(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class lc{constructor(e,t,o,a,d=ri.min(),m=ri.min(),R=$o.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=R,this.expectedCount=G}withSequenceNumber(e){return new lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rf{constructor(e){this.fe=e}}function Gm(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:xl(a=i.fe,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Cs(a,d.version.toTimestamp()),createTime:Cs(a,d.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Gl(e.version)};else{if(!e.isUnknownDocument())return se();o.unknownDocument={path:t.path.toArray(),version:Gl(e.version)}}var a,d;return o}function sd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Gl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function za(i){const e=new cr(i.seconds,i.nanoseconds);return ri.fromTimestamp(e)}function Vc(i,e){const t=(e.baseMutations||[]).map(d=>nf(i.fe,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const o=e.mutations.map(d=>nf(i.fe,d)),a=cr.fromMillis(e.localWriteTimeMs);return new qd(e.batchId,a,t,o)}function wu(i){const e=za(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?za(i.lastLimboFreeSnapshotVersion):ri.min();let o;var a;return void 0!==i.query.documents?(Me(1===(a=i.query).documents.length),o=Ls(Ac(od(a.documents[0])))):o=Ls(jm(i.query)),new lc(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,$o.fromBase64String(i.resumeToken))}function Wm(i,e){const t=Gl(e.snapshotVersion),o=Gl(e.lastLimboFreeSnapshotVersion);let a;a=Mc(e.target)?mp(i.fe,e.target):Hm(i.fe,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:el(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function bp(i){const e=jm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?du(e,e.limit,"L"):e}function af(i,e){return new Qd(e.largestBatchId,nf(i.fe,e.overlayMutation))}function Cu(i,e){const t=e.path.lastSegment();return[i,No(e.path.popLast()),t]}function Km(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Gl(o.readTime),documentKey:No(o.documentKey.path),largestBatchId:o.largestBatchId}}class k_{getBundleMetadata(e,t){return Zm(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:za(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Zm(e).put({bundleId:(o=t).id,createTime:Gl(Ki(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return lf(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:bp(a.bundledQuery),readTime:za(a.readTime)};var a})}saveNamedQuery(e,t){return lf(e).put({name:(o=t).name,readTime:Gl(Ki(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Zm(i){return xo(i,"bundles")}function lf(i){return xo(i,"namedQueries")}class cf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new cf(e,t.uid||"")}getOverlay(e,t){return ad(e).get(Cu(this.userId,t)).next(o=>o?af(this.serializer,o):null)}getOverlays(e,t){const o=xa();return qt.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&o.set(a,d)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((d,m)=>{const R=new Qd(t,m);a.push(this.we(e,R))}),qt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(m=>a.add(No(m.getCollectionPath())));const d=[];return a.forEach(m=>{const R=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);d.push(ad(e).J("collectionPathOverlayIndex",R))}),qt.waitFor(d)}getOverlaysForCollection(e,t,o){const a=xa(),d=No(t),m=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return ad(e).j("collectionPathOverlayIndex",m).next(R=>{for(const G of R){const J=af(this.serializer,G);a.set(J.getKey(),J)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const d=xa();let m;const R=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ad(e).X({index:"collectionGroupOverlayIndex",range:R},(G,J,ye)=>{const Ze=af(this.serializer,J);d.size()<a||Ze.largestBatchId===m?(d.set(Ze.getKey(),Ze),m=Ze.largestBatchId):ye.done()}).next(()=>d)}we(e,t){return ad(e).put(function(o,a,d){const[m,R,G]=Cu(a,d.mutation.key);return{userId:a,collectionPath:R,documentId:G,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Eu(o.fe,d.mutation)}}(this.serializer,this.userId,t))}}function ad(i){return xo(i,"documentOverlays")}class xu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(no(e.integerValue));else if("doubleValue"in e){const o=no(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),oa(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(la(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?ca(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):se()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),en.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function qm(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function N_(i){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const d=qm(255&t[a]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}xu.Ve=new xu;class F_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=N_(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=N_(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,a,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class th{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class L_{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Wl{constructor(){this.je=new F_,this.ze=new th(this.je),this.We=new L_(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Il{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Il(this.indexId,this.documentKey,this.arrayValue,o)}}function Hc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ep(i.arrayValue,e.arrayValue),0!==t?t:(t=Ep(i.directionalValue,e.directionalValue),0!==t?t:en.comparator(i.documentKey,e.documentKey)))}function Ep(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class B_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){Me(e.collectionGroup===this.collectionId);const t=wi(e);if(void 0!==t&&!this.en(t))return!1;const o=Ti(e);let a=0,d=0;for(;a<o.length&&this.en(o[a]);++a);if(a===o.length)return!0;if(void 0!==this.Ze){const m=o[a];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[d++],m))return!1;++a}for(;a<o.length;++a)if(d>=this.Ye.length||!this.sn(this.Ye[d++],o[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ym(i){var e,t;if(Me(i instanceof We||i instanceof pt),i instanceof We){if(i instanceof nc){const a=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>We.create(i.field,"==",d)))||[];return pt.create(a,"or")}return i}const o=i.filters.map(a=>Ym(a));return pt.create(o,i.op)}function U_(i){if(0===i.getFilters().length)return[];const e=nh(Ym(i));return Me(hf(e)),uf(e)||df(e)?[e]:e.getFilters()}function uf(i){return i instanceof We}function df(i){return i instanceof pt&&Un(i)}function hf(i){return uf(i)||df(i)||function(e){if(e instanceof pt&&Hn(e)){for(const t of e.getFilters())if(!uf(t)&&!df(t))return!1;return!0}return!1}(i)}function nh(i){if(Me(i instanceof We||i instanceof pt),i instanceof We)return i;if(1===i.filters.length)return nh(i.filters[0]);const e=i.filters.map(o=>nh(o));let t=pt.create(e,i.op);return t=jc(t),hf(t)?t:(Me(t instanceof pt),Me(Xt(t)),Me(t.filters.length>1),t.filters.reduce((o,a)=>wp(o,a)))}function wp(i,e){let t;return Me(i instanceof We||i instanceof pt),Me(e instanceof We||e instanceof pt),t=i instanceof We?e instanceof We?pt.create([i,e],"and"):ff(i,e):e instanceof We?ff(e,i):function(o,a){if(Me(o.filters.length>0&&a.filters.length>0),Xt(o)&&Xt(a))return qs(o,a.getFilters());const d=Hn(o)?o:a,m=Hn(o)?a:o,R=d.filters.map(G=>wp(G,m));return pt.create(R,"or")}(i,e),jc(t)}function ff(i,e){if(Xt(e))return qs(e,i.getFilters());{const t=e.filters.map(o=>wp(i,o));return pt.create(t,"or")}}function jc(i){if(Me(i instanceof We||i instanceof pt),i instanceof We)return i;const e=i.getFilters();if(1===e.length)return jc(e[0]);if(pi(i))return i;const t=e.map(a=>jc(a)),o=[];return t.forEach(a=>{a instanceof We?o.push(a):a instanceof pt&&(a.op===i.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:pt.create(o,i.op)}class V_{constructor(){this.rn=new Cp}addToCollectionParentIndex(e,t){return this.rn.add(t),qt.resolve()}getCollectionParents(e,t){return qt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qt.resolve()}deleteFieldIndex(e,t){return qt.resolve()}getDocumentsMatchingTarget(e,t){return qt.resolve(null)}getIndexType(e,t){return qt.resolve(0)}getFieldIndexes(e,t){return qt.resolve([])}getNextCollectionGroupToUpdate(e){return qt.resolve(null)}getMinOffset(e,t){return qt.resolve(go.min())}getMinOffsetFromCollectionGroup(e,t){return qt.resolve(go.min())}updateCollectionGroup(e,t,o){return qt.resolve()}updateIndexEntries(e,t){return qt.resolve()}}class Cp{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new Sr(Ei.comparator),d=!a.has(o);return this.index[t]=a.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Sr(Ei.comparator)).toArray()}}const pf=new Uint8Array(0);class H_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Cp,this.un=new il(o=>el(o),(o,a)=>tl(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const d={collectionId:o,parent:No(a)};return xp(e).put(d)}return qt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[ls(t),""],!1,!0);return xp(e).j(a).next(d=>{for(const m of d){if(m.collectionId!==t)break;o.push(sa(m.parent))}return o})}addFieldIndex(e,t){const o=mf(e),a={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var m;delete a.indexId;const d=o.add(a);if(t.indexState){const m=Kl(e);return d.next(R=>{m.put(Km(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const o=mf(e),a=Kl(e),d=ih(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=ih(e);let a=!0;const d=new Map;return qt.forEach(this.cn(t),m=>this.an(e,m).next(R=>{a&&(a=!!R),d.set(m,R)})).next(()=>{if(a){let m=Gi();const R=[];return qt.forEach(d,(G,J)=>{var ye;y("IndexedDbIndexManager",`Using index ${ye=G,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(_r=>`${_r.fieldPath}:${_r.kind}`).join(",")}`} to execute ${el(t)}`);const Ze=function(_r,Ts){const us=wi(Ts);if(void 0===us)return null;for(const Do of nl(_r,us.fieldPath))switch(Do.op){case"array-contains-any":return Do.value.arrayValue.values||[];case"array-contains":return[Do.value]}return null}(J,G),Kt=function(_r,Ts){const us=new Map;for(const Do of Ti(Ts))for(const La of nl(_r,Do.fieldPath))switch(La.op){case"==":case"in":us.set(Do.fieldPath.canonicalString(),La.value);break;case"not-in":case"!=":return us.set(Do.fieldPath.canonicalString(),La.value),Array.from(us.values())}return null}(J,G),cn=function(_r,Ts){const us=[];let Do=!0;for(const La of Ti(Ts)){const Vu=0===La.kind?Ku(_r,La.fieldPath,_r.startAt):Bd(_r,La.fieldPath,_r.startAt);us.push(Vu.value),Do&&(Do=Vu.inclusive)}return new Ja(us,Do)}(J,G),Pn=function(_r,Ts){const us=[];let Do=!0;for(const La of Ti(Ts)){const Vu=0===La.kind?Bd(_r,La.fieldPath,_r.endAt):Ku(_r,La.fieldPath,_r.endAt);us.push(Vu.value),Do&&(Do=Vu.inclusive)}return new Ja(us,Do)}(J,G),ni=this.hn(G,J,cn),si=this.hn(G,J,Pn),Ji=this.ln(G,J,Kt),Dr=this.fn(G.indexId,Ze,ni,cn.inclusive,si,Pn.inclusive,Ji);return qt.forEach(Dr,_r=>o.H(_r,t.limit).next(Ts=>{Ts.forEach(us=>{const Do=en.fromSegments(us.documentKey);m.has(Do)||(m=m.add(Do),R.push(Do))})}))}).next(()=>R)}return qt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:U_(pt.create(e.filters,"and")).map(o=>uu(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,d,m,R){const G=(null!=t?t.length:1)*Math.max(o.length,d.length),J=G/(null!=t?t.length:1),ye=[];for(let Ze=0;Ze<G;++Ze){const Kt=t?this.dn(t[Ze/J]):pf,cn=this.wn(e,Kt,o[Ze%J],a),Pn=this._n(e,Kt,d[Ze%J],m),ni=R.map(si=>this.wn(e,Kt,si,!0));ye.push(...this.createRange(cn,Pn,ni))}return ye}wn(e,t,o,a){const d=new Il(e,en.empty(),t,o);return a?d:d.Je()}_n(e,t,o,a){const d=new Il(e,en.empty(),t,o);return a?d.Je():d}an(e,t){const o=new B_(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(d=>{let m=null;for(const R of d)o.tn(R)&&(!m||R.fields.length>m.fields.length)&&(m=R);return m})}getIndexType(e,t){let o=2;const a=this.cn(t);return qt.forEach(a,d=>this.an(e,d).next(m=>{m?0!==o&&m.fields.length<function(R){let G=new Sr(Ri.comparator),J=!1;for(const ye of R.filters)for(const Ze of ye.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?J=!0:G=G.add(Ze.field));for(const ye of R.orderBy)ye.field.isKeyField()||(G=G.add(ye.field));return G.size+(J?1:0)}(d)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new Wl;for(const a of Ti(e)){const d=t.data.field(a.fieldPath);if(null==d)return null;const m=o.He(a.kind);xu.Ve._e(d,m)}return o.Qe()}dn(e){const t=new Wl;return xu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new Wl;return xu.Ve._e(ml(this.databaseId,t),o.He(function(a){const d=Ti(a);return 0===d.length?0:d[d.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new Wl);let d=0;for(const m of Ti(e)){const R=o[d++];for(const G of a)if(this.yn(t,m.fieldPath)&&Nl(R))a=this.pn(a,m,R);else{const J=G.He(m.kind);xu.Ve._e(R,J)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],d=[];for(const m of o.arrayValue.values||[])for(const R of a){const G=new Wl;G.seed(R.Qe()),xu.Ve._e(m,G.He(t.kind)),d.push(G)}return d}yn(e,t){return!!e.filters.find(o=>o instanceof We&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=mf(e),a=Kl(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(d=>{const m=[];return qt.forEach(d,R=>a.get([R.indexId,this.uid]).next(G=>{m.push(function(J,ye){const Ze=ye?new ko(ye.sequenceNumber,new go(za(ye.readTime),new en(sa(ye.documentKey)),ye.largestBatchId)):ko.empty(),Kt=J.fields.map(([cn,Pn])=>new wo(Ri.fromServerFormat(cn),Pn));return new Jn(J.indexId,J.collectionGroup,Kt,Ze)}(R,G))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const d=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==d?d:Fn(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=mf(e),d=Kl(e);return this.Tn(e).next(m=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>qt.forEach(R,G=>d.put(Km(G.indexId,this.user,m,o)))))}updateIndexEntries(e,t){const o=new Map;return qt.forEach(t,(a,d)=>{const m=o.get(a.collectionGroup);return(m?qt.resolve(m):this.getFieldIndexes(e,a.collectionGroup)).next(R=>(o.set(a.collectionGroup,R),qt.forEach(R,G=>this.En(e,a,G).next(J=>{const ye=this.An(d,G);return J.isEqual(ye)?qt.resolve():this.vn(e,d,G,J,ye)}))))})}Rn(e,t,o,a){return ih(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return ih(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=ih(e);let d=new Sr(Hc);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(m,R)=>{d=d.add(new Il(o.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>d)}An(e,t){let o=new Sr(Hc);const a=this.mn(t,e);if(null==a)return o;const d=wi(t);if(null!=d){const m=e.data.field(d.fieldPath);if(Nl(m))for(const R of m.arrayValue.values||[])o=o.add(new Il(t.indexId,e.key,this.dn(R),a))}else o=o.add(new Il(t.indexId,e.key,pf,a));return o}vn(e,t,o,a,d){y("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(R,G,J,ye,Ze){const Kt=R.getIterator(),cn=G.getIterator();let Pn=pl(Kt),ni=pl(cn);for(;Pn||ni;){let si=!1,Ji=!1;if(Pn&&ni){const Dr=J(Pn,ni);Dr<0?Ji=!0:Dr>0&&(si=!0)}else null!=Pn?Ji=!0:si=!0;si?(ye(ni),ni=pl(cn)):Ji?(Ze(Pn),Pn=pl(Kt)):(Pn=pl(Kt),ni=pl(cn))}}(a,d,Hc,R=>{m.push(this.Rn(e,t,o,R))},R=>{m.push(this.Pn(e,t,o,R))}),qt.waitFor(m)}Tn(e){let t=1;return Kl(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,d)=>{d.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((m,R)=>Hc(m,R)).filter((m,R,G)=>!R||0!==Hc(m,G[R-1]));const a=[];a.push(e);for(const m of o){const R=Hc(m,e),G=Hc(m,t);if(0===R)a[0]=e.Je();else if(R>0&&G<0)a.push(m),a.push(m.Je());else if(G>0)break}a.push(t);const d=[];for(let m=0;m<a.length;m+=2){if(this.bn(a[m],a[m+1]))return[];d.push(IDBKeyRange.bound([a[m].indexId,this.uid,a[m].arrayValue,a[m].directionalValue,pf,[]],[a[m+1].indexId,this.uid,a[m+1].arrayValue,a[m+1].directionalValue,pf,[]]))}return d}bn(e,t){return Hc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Zl)}getMinOffset(e,t){return qt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||se())).next(Zl)}}function xp(i){return xo(i,"collectionParents")}function ih(i){return xo(i,"indexEntries")}function mf(i){return xo(i,"indexConfiguration")}function Kl(i){return xo(i,"indexState")}function Zl(i){Me(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const a=i[o].indexState.offset;Fr(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new go(e.readTime,e.documentKey,t)}const Qm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fa{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new fa(e,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function j_(i,e,t){const o=i.store("mutations"),a=i.store("documentMutations"),d=[],m=IDBKeyRange.only(t.batchId);let R=0;const G=o.X({range:m},(ye,Ze,Kt)=>(R++,Kt.delete()));d.push(G.next(()=>{Me(1===R)}));const J=[];for(const ye of t.mutations){const Ze=E(e,ye.key.path,t.batchId);d.push(a.delete(Ze)),J.push(ye.key)}return qt.waitFor(d).next(()=>J)}function Ip(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw se();e=i.noDocument}return JSON.stringify(e).length}fa.DEFAULT_COLLECTION_PERCENTILE=10,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fa.DEFAULT=new fa(41943040,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fa.DISABLED=new fa(-1,0,0);class rh{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){Me(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new rh(d,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cc(e).X({index:"userMutationsIndex",range:o},(a,d,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const d=Iu(e),m=cc(e);return m.add({}).next(R=>{Me("number"==typeof R);const G=new qd(R,t,o,a),J=function(Kt,cn,Pn){const ni=Pn.baseMutations.map(Ji=>Eu(Kt.fe,Ji)),si=Pn.mutations.map(Ji=>Eu(Kt.fe,Ji));return{userId:cn,batchId:Pn.batchId,localWriteTimeMs:Pn.localWriteTime.toMillis(),baseMutations:ni,mutations:si}}(this.serializer,this.userId,G),ye=[];let Ze=new Sr((Kt,cn)=>Fn(Kt.canonicalString(),cn.canonicalString()));for(const Kt of a){const cn=E(this.userId,Kt.key.path,R);Ze=Ze.add(Kt.key.path.popLast()),ye.push(m.put(J)),ye.push(d.put(cn,F))}return Ze.forEach(Kt=>{ye.push(this.indexManager.addToCollectionParentIndex(e,Kt))}),e.addOnCommittedListener(()=>{this.Vn[R]=G.keys()}),qt.waitFor(ye).next(()=>G)})}lookupMutationBatch(e,t){return cc(e).get(t).next(o=>o?(Me(o.userId===this.userId),Vc(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?qt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return cc(e).X({index:"userMutationsIndex",range:a},(m,R,G)=>{R.userId===this.userId&&(Me(R.batchId>=o),d=Vc(this.serializer,R)),G.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return cc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,d,m)=>{o=d.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cc(e).j("userMutationsIndex",t).next(o=>o.map(a=>Vc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=S(this.userId,t.path),a=IDBKeyRange.lowerBound(o),d=[];return Iu(e).X({range:a},(m,R,G)=>{const[J,ye,Ze]=m,Kt=sa(ye);if(J===this.userId&&t.path.isEqual(Kt))return cc(e).get(Ze).next(cn=>{if(!cn)throw se();Me(cn.userId===this.userId),d.push(Vc(this.serializer,cn))});G.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Sr(Fn);const a=[];return t.forEach(d=>{const m=S(this.userId,d.path),R=IDBKeyRange.lowerBound(m),G=Iu(e).X({range:R},(J,ye,Ze)=>{const[Kt,cn,Pn]=J,ni=sa(cn);Kt===this.userId&&d.path.isEqual(ni)?o=o.add(Pn):Ze.done()});a.push(G)}),qt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,d=S(this.userId,o),m=IDBKeyRange.lowerBound(d);let R=new Sr(Fn);return Iu(e).X({range:m},(G,J,ye)=>{const[Ze,Kt,cn]=G,Pn=sa(Kt);Ze===this.userId&&o.isPrefixOf(Pn)?Pn.length===a&&(R=R.add(cn)):ye.done()}).next(()=>this.Dn(e,R))}Dn(e,t){const o=[],a=[];return t.forEach(d=>{a.push(cc(e).get(d).next(m=>{if(null===m)throw se();Me(m.userId===this.userId),o.push(Vc(this.serializer,m))}))}),qt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return j_(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),qt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return qt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Iu(e).X({range:o},(d,m,R)=>{if(d[0]===this.userId){const G=sa(d[1]);a.push(G)}else R.done()}).next(()=>{Me(0===a.length)})})}containsKey(e,t){return z_(e,this.userId,t)}xn(e){return Xm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function z_(i,e,t){const o=S(e,t.path),a=o[1],d=IDBKeyRange.lowerBound(o);let m=!1;return Iu(i).X({range:d,Y:!0},(R,G,J)=>{const[ye,Ze,Kt]=R;ye===e&&Ze===a&&(m=!0),J.done()}).next(()=>m)}function cc(i){return xo(i,"mutations")}function Iu(i){return xo(i,"documentMutations")}function Xm(i){return xo(i,"mutationQueues")}class zc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zc(0)}static Mn(){return new zc(-1)}}class $_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new zc(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ri.fromTimestamp(new cr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ld(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(Me(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const d=[];return ld(e).X((m,R)=>{const G=wu(R);G.sequenceNumber<=t&&null===o.get(G.targetId)&&(a++,d.push(this.removeTargetData(e,G)))}).next(()=>qt.waitFor(d)).next(()=>a)}forEachTarget(e,t){return ld(e).X((o,a)=>{const d=wu(a);t(d)})}$n(e){return sl(e).get("targetGlobalKey").next(t=>(Me(null!==t),t))}On(e,t){return sl(e).put("targetGlobalKey",t)}Fn(e,t){return ld(e).put(Wm(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=el(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return ld(e).X({range:a,index:"queryTargetsIndex"},(m,R,G)=>{const J=wu(R);tl(t,J.target)&&(d=J,G.done())}).next(()=>d)}addMatchingKeys(e,t,o){const a=[],d=$c(e);return t.forEach(m=>{const R=No(m.path);a.push(d.put({targetId:o,path:R})),a.push(this.referenceDelegate.addReference(e,o,m))}),qt.waitFor(a)}removeMatchingKeys(e,t,o){const a=$c(e);return qt.forEach(t,d=>{const m=No(d.path);return qt.waitFor([a.delete([o,m]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=$c(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=$c(e);let d=Gi();return a.X({range:o,Y:!0},(m,R,G)=>{const J=sa(m[1]),ye=new en(J);d=d.add(ye)}).next(()=>d)}containsKey(e,t){const o=No(t.path),a=IDBKeyRange.bound([o],[ls(o)],!1,!0);let d=0;return $c(e).X({index:"documentTargetsIndex",Y:!0,range:a},([m,R],G,J)=>{0!==m&&(d++,J.done())}).next(()=>d>0)}le(e,t){return ld(e).get(t).next(o=>o?wu(o):null)}}function ld(i){return xo(i,"targets")}function sl(i){return xo(i,"targetGlobal")}function $c(i){return xo(i,"targetDocuments")}function Tp([i,e],[t,o]){const a=Fn(i,t);return 0===a?Fn(e,o):a}class G_{constructor(e){this.Ln=e,this.buffer=new Sr(Tp),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Tp(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jm{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Ba(o)?y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield _o(o)}yield t.Qn(3e5)}))}}class W_{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return qt.resolve(fs.ct);const o=new G_(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(y("LruGarbageCollector","Garbage collection skipped; disabled"),qt.resolve(Qm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(y("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,d,m,R,G,J;const ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ze=>(Ze>this.params.maximumSequenceNumbersToCollect?(y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ze}`),a=this.params.maximumSequenceNumbersToCollect):a=Ze,m=Date.now(),this.nthSequenceNumber(e,a))).next(Ze=>(o=Ze,R=Date.now(),this.removeTargets(e,o,t))).next(Ze=>(d=Ze,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ze=>(J=Date.now(),Li()<=fe.in.DEBUG&&y("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ye}ms\n\tDetermined least recently used ${a} in `+(R-m)+`ms\n\tRemoved ${d} targets in `+(G-R)+`ms\n\tRemoved ${Ze} documents in `+(J-G)+`ms\nTotal Duration: ${J-ye}ms`),qt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:Ze})))}}class tg{constructor(e,t){this.db=e,this.garbageCollector=function eg(i,e){return new W_(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return gf(e,o)}removeReference(e,t,o){return gf(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return gf(e,t)}Xn(e,t){return function(o,a){let d=!1;return Xm(o).Z(m=>z_(o,m,a).next(R=>(R&&(d=!0),qt.resolve(!R)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.Yn(e,(m,R)=>{if(R<=t){const G=this.Xn(e,m).next(J=>{if(!J)return d++,o.getEntry(e,m).next(()=>(o.removeEntry(m,ri.min()),$c(e).delete([0,No(m.path)])))});a.push(G)}}).next(()=>qt.waitFor(a)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return gf(e,t)}Yn(e,t){const o=$c(e);let a,d=fs.ct;return o.X({index:"documentTargetsIndex"},([m,R],{path:G,sequenceNumber:J})=>{0===m?(d!==fs.ct&&t(new en(sa(a)),d),d=J,a=G):d=fs.ct}).next(()=>{d!==fs.ct&&t(new en(sa(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gf(i,e){return $c(i).put((o=i.currentSequenceNumber,{targetId:0,path:No(e.path),sequenceNumber:o}));var o}class ng{constructor(){this.changes=new il(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,io.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?qt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class K_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Gc(e).put(o)}removeEntry(e,t,o){return Gc(e).delete(function(a,d){const m=a.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],sd(d),m[m.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=io.newInvalidDocument(t);return Gc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(oh(t))},(a,d)=>{o=this.ts(t,d)}).next(()=>o)}es(e,t){let o={size:0,document:io.newInvalidDocument(t)};return Gc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(oh(t))},(a,d)=>{o={document:this.ts(t,d),size:Ip(d)}}).next(()=>o)}getEntries(e,t){let o=Ca();return this.ns(e,t,(a,d)=>{const m=this.ts(a,d);o=o.insert(a,m)}).next(()=>o)}ss(e,t){let o=Ca(),a=new Lr(en.comparator);return this.ns(e,t,(d,m)=>{const R=this.ts(d,m);o=o.insert(d,R),a=a.insert(d,Ip(m))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return qt.resolve();let a=new Sr(Sp);t.forEach(G=>a=a.add(G));const d=IDBKeyRange.bound(oh(a.first()),oh(a.last())),m=a.getIterator();let R=m.getNext();return Gc(e).X({index:"documentKeyIndex",range:d},(G,J,ye)=>{const Ze=en.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;R&&Sp(R,Ze)<0;)o(R,null),R=m.getNext();R&&R.isEqual(Ze)&&(o(R,J),R=m.hasNext()?m.getNext():null),R?ye.G(oh(R)):ye.done()}).next(()=>{for(;R;)o(R,null),R=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const d=t.path,m=[d.popLast().toArray(),d.lastSegment(),sd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],R=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gc(e).j(IDBKeyRange.bound(m,R,!0)).next(G=>{let J=Ca();for(const ye of G){const Ze=this.ts(en.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);Ze.isFoundDocument()&&(Ul(t,Ze)||a.has(Ze.key))&&(J=J.insert(Ze.key,Ze))}return J})}getAllFromCollectionGroup(e,t,o,a){let d=Ca();const m=rg(t,o),R=rg(t,go.max());return Gc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,R,!0)},(G,J,ye)=>{const Ze=this.ts(en.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);d=d.insert(Ze.key,Ze),d.size===a&&ye.done()}).next(()=>d)}newChangeBuffer(e){return new ig(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Dp(e).get("remoteDocumentGlobalKey").next(t=>(Me(!!t),t))}Zn(e,t){return Dp(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function sf(i,e){let t;if(e.document)t=pp(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=en.fromSegments(e.noDocument.path),a=za(e.noDocument.readTime);t=io.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{const o=en.fromSegments(e.unknownDocument.path),a=za(e.unknownDocument.version);t=io.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new cr(o[0],o[1]);return ri.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(ri.min()))return o}return io.newInvalidDocument(e)}}function Zi(i){return new K_(i)}class ig extends ng{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new il(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new Sr((d,m)=>Fn(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const R=this.us.get(d);if(t.push(this.os.removeEntry(e,d,R.readTime)),m.isValidDocument()){const G=Gm(this.os.serializer,m);a=a.add(d.path.popLast());const J=Ip(G);o+=J-R.size,t.push(this.os.addEntry(e,d,G))}else if(o-=R.size,this.trackRemovals){const G=Gm(this.os.serializer,m.convertToNoDocument(ri.min()));t.push(this.os.addEntry(e,d,G))}}),a.forEach(d=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.os.updateMetadata(e,o)),qt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((d,m)=>{this.us.set(d,{size:m,readTime:o.get(d).readTime})}),o))}}function Dp(i){return xo(i,"remoteDocumentGlobal")}function Gc(i){return xo(i,"remoteDocumentsV14")}function oh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rg(i,e){const t=e.documentKey.path.toArray();return[i,sd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Sp(i,e){const t=i.path.toArray(),o=e.path.toArray();let a=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(a=Fn(t[d],o[d]),a)return a;return a=Fn(t.length,o.length),a||(a=Fn(t[t.length-2],o[o.length-2]),a||Fn(t[t.length-1],o[o.length-1]))}class Z_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mp{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&rl(o.mutation,a,ws.empty(),cr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Gi()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Gi()){const a=xa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(d=>{let m=fu();return d.forEach((R,G)=>{m=m.insert(R,G.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const o=xa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Gi()))}populateOverlays(e,t,o){const a=[];return o.forEach(d=>{t.has(d)||a.push(d)}),this.documentOverlayCache.getOverlays(e,a).next(d=>{d.forEach((m,R)=>{t.set(m,R)})})}computeViews(e,t,o,a){let d=Ca();const m=oc(),R=oc();return t.forEach((G,J)=>{const ye=o.get(J.key);a.has(J.key)&&(void 0===ye||ye.mutation instanceof ja)?d=d.insert(J.key,J):void 0!==ye?(m.set(J.key,ye.mutation.getFieldMask()),rl(ye.mutation,J,ye.mutation.getFieldMask(),cr.now())):m.set(J.key,ws.empty())}),this.recalculateAndSaveOverlays(e,d).next(G=>(G.forEach((J,ye)=>m.set(J,ye)),t.forEach((J,ye)=>{var Ze;return R.set(J,new Z_(ye,null!==(Ze=m.get(J))&&void 0!==Ze?Ze:null))}),R))}recalculateAndSaveOverlays(e,t){const o=oc();let a=new Lr((m,R)=>m-R),d=Gi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const R of m)R.keys().forEach(G=>{const J=t.get(G);if(null===J)return;let ye=o.get(G)||ws.empty();ye=R.applyToLocalView(J,ye),o.set(G,ye);const Ze=(a.get(R.batchId)||Gi()).add(G);a=a.insert(R.batchId,Ze)})}).next(()=>{const m=[],R=a.getReverseIterator();for(;R.hasNext();){const G=R.getNext(),J=G.key,ye=G.value,Ze=$d();ye.forEach(Kt=>{if(!d.has(Kt)){const cn=td(t.get(Kt),o.get(Kt));null!==cn&&Ze.set(Kt,cn),d=d.add(Kt)}}),m.push(this.documentOverlayCache.saveOverlays(e,J,Ze))}return qt.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return en.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(d=>{const m=a-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-d.size):qt.resolve(xa());let R=-1,G=d;return m.next(J=>qt.forEach(J,(ye,Ze)=>(R<Ze.largestBatchId&&(R=Ze.largestBatchId),d.get(ye)?qt.resolve():this.remoteDocumentCache.getEntry(e,ye).next(Kt=>{G=G.insert(ye,Kt)}))).next(()=>this.populateOverlays(e,J,d)).next(()=>this.computeViews(e,G,J,Gi())).next(ye=>({batchId:R,changes:Yu(ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new en(t)).next(o=>{let a=fu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let d=fu();return this.indexManager.getCollectionParents(e,a).next(m=>qt.forEach(m,R=>{const G=(J=t,ye=R.child(a),new yl(ye,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,ye;return this.getDocumentsMatchingCollectionQuery(e,G,o).next(J=>{J.forEach((ye,Ze)=>{d=d.insert(ye,Ze)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(d=>(a=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(d=>{a.forEach((R,G)=>{const J=G.getKey();null===d.get(J)&&(d=d.insert(J,io.newInvalidDocument(J)))});let m=fu();return d.forEach((R,G)=>{const J=a.get(R);void 0!==J&&rl(J.mutation,G,ws.empty(),cr.now()),Ul(t,G)&&(m=m.insert(R,G))}),m})}}class q_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Ki(o.createTime)}),qt.resolve()}getNamedQuery(e,t){return qt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:bp(o.bundledQuery),readTime:Ki(o.readTime)}),qt.resolve();var o}}class Y_{constructor(){this.overlays=new Lr(en.comparator),this.ls=new Map}getOverlay(e,t){return qt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=xa();return qt.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&o.set(a,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,d)=>{this.we(e,t,d)}),qt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(d=>this.overlays=this.overlays.remove(d)),this.ls.delete(o)),qt.resolve()}getOverlaysForCollection(e,t,o){const a=xa(),d=t.length+1,m=new en(t.child("")),R=this.overlays.getIteratorFrom(m);for(;R.hasNext();){const G=R.getNext().value,J=G.getKey();if(!t.isPrefixOf(J.path))break;J.path.length===d&&G.largestBatchId>o&&a.set(G.getKey(),G)}return qt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let d=new Lr((J,ye)=>J-ye);const m=this.overlays.getIterator();for(;m.hasNext();){const J=m.getNext().value;if(J.getKey().getCollectionGroup()===t&&J.largestBatchId>o){let ye=d.get(J.largestBatchId);null===ye&&(ye=xa(),d=d.insert(J.largestBatchId,ye)),ye.set(J.getKey(),J)}}const R=xa(),G=d.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((J,ye)=>R.set(J,ye)),!(R.size()>=a)););return qt.resolve(R)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const m=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new Qd(t,o));let d=this.ls.get(t);void 0===d&&(d=Gi(),this.ls.set(t,d)),this.ls.set(t,d.add(o.key))}}class og{constructor(){this.fs=new Sr(xs.ds),this.ws=new Sr(xs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new xs(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new xs(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new en(new Ei([])),o=new xs(t,e),a=new xs(t,e+1),d=[];return this.ws.forEachInRange([o,a],m=>{this.ys(m),d.push(m.key)}),d}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new en(new Ei([])),o=new xs(t,e),a=new xs(t,e+1);let d=Gi();return this.ws.forEachInRange([o,a],m=>{d=d.add(m.key)}),d}containsKey(e){const t=new xs(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class xs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return en.comparator(e.key,t.key)||Fn(e.As,t.As)}static _s(e,t){return Fn(e.As,t.As)||en.comparator(e.key,t.key)}}class sg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Sr(xs.ds)}checkEmpty(e){return qt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const d=this.vs;this.vs++;const m=new qd(d,t,o,a);this.mutationQueue.push(m);for(const R of a)this.Rs=this.Rs.add(new xs(R.key,d)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return qt.resolve(m)}lookupMutationBatch(e,t){return qt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),d=a<0?0:a;return qt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return qt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new xs(t,0),a=new xs(t,Number.POSITIVE_INFINITY),d=[];return this.Rs.forEachInRange([o,a],m=>{const R=this.Ps(m.As);d.push(R)}),qt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Sr(Fn);return t.forEach(a=>{const d=new xs(a,0),m=new xs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([d,m],R=>{o=o.add(R.As)})}),qt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let d=o;en.isDocumentKey(d)||(d=d.child(""));const m=new xs(new en(d),0);let R=new Sr(Fn);return this.Rs.forEachWhile(G=>{const J=G.key.path;return!!o.isPrefixOf(J)&&(J.length===a&&(R=R.add(G.As)),!0)},m),qt.resolve(this.Vs(R))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Me(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return qt.forEach(t.mutations,a=>{const d=new xs(a.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new xs(t,0),a=this.Rs.firstAfterOrEqual(o);return qt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return qt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Tu{constructor(e){this.Ds=e,this.docs=new Lr(en.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),d=a?a.size:0,m=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return qt.resolve(o?o.document.mutableCopy():io.newInvalidDocument(t))}getEntries(e,t){let o=Ca();return t.forEach(a=>{const d=this.docs.get(a);o=o.insert(a,d?d.document.mutableCopy():io.newInvalidDocument(a))}),qt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let d=Ca();const m=t.path,R=new en(m.child("")),G=this.docs.getIteratorFrom(R);for(;G.hasNext();){const{key:J,value:{document:ye}}=G.getNext();if(!m.isPrefixOf(J.path))break;J.path.length>m.length+1||Fr(Ma(ye),o)<=0||(a.has(ye.key)||Ul(t,ye))&&(d=d.insert(ye.key,ye.mutableCopy()))}return qt.resolve(d)}getAllFromCollectionGroup(e,t,o,a){se()}Cs(e,t){return qt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Q_(this)}getSize(e){return qt.resolve(this.size)}}class Q_ extends ng{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),qt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ap{constructor(e){this.persistence=e,this.xs=new il(t=>el(t),tl),this.lastRemoteSnapshotVersion=ri.min(),this.highestTargetId=0,this.Ns=0,this.ks=new og,this.targetCount=0,this.Ms=zc.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),qt.resolve()}getLastRemoteSnapshotVersion(e){return qt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),qt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new zc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qt.resolve()}updateTargetData(e,t){return this.Fn(t),qt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qt.resolve()}removeTargets(e,t,o){let a=0;const d=[];return this.xs.forEach((m,R)=>{R.sequenceNumber<=t&&null===o.get(R.targetId)&&(this.xs.delete(m),d.push(this.removeMatchingKeysForTargetId(e,R.targetId)),a++)}),qt.waitFor(d).next(()=>a)}getTargetCount(e){return qt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return qt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),qt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(m=>{d.push(a.markPotentiallyOrphaned(e,m))}),qt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return qt.resolve(o)}containsKey(e,t){return qt.resolve(this.ks.containsKey(t))}}class sh{constructor(e,t){this.$s={},this.overlays={},this.Os=new fs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ap(this),this.indexManager=new V_,this.remoteDocumentCache=new Tu(o=>this.referenceDelegate.Ls(o)),this.serializer=new rf(t),this.qs=new q_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new sg(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){y("MemoryPersistence","Starting transaction:",e);const a=new X_(this.Os.next());return this.referenceDelegate.Us(),o(a).next(d=>this.referenceDelegate.Ks(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Gs(e,t){return qt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class X_ extends zo{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Qs=new og,this.js=null}static zs(e){return new Rp(e)}get Ws(){if(this.js)return this.js;throw se()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),qt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),qt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.Ws.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qt.forEach(this.Ws,o=>{const a=en.fromPath(o);return this.Hs(e,a).next(d=>{d||t.removeEntry(a,ri.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return qt.or([()=>qt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class jv{constructor(e){this.serializer=e}O(e,t,o,a){const d=new dl("createOrUpgrade",t);var R;o<1&&a>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",I,{unique:!0}),R.createObjectStore("documentMutations"),ag(e),function(R){R.createObjectStore("remoteDocuments")}(e));let m=qt.resolve();return o<3&&a>=3&&(0!==o&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),ag(e)),m=m.next(()=>function(R){const G=R.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ri.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",J)}(d))),o<4&&a>=4&&(0!==o&&(m=m.next(()=>function(R,G){return G.store("mutations").j().next(J=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",I,{unique:!0});const ye=G.store("mutations"),Ze=J.map(Kt=>ye.put(Kt));return qt.waitFor(Ze)})}(e,d))),m=m.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(m=m.next(()=>this.Ys(d))),o<6&&a>=6&&(m=m.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(d)))),o<7&&a>=7&&(m=m.next(()=>this.Zs(d))),o<8&&a>=8&&(m=m.next(()=>this.ti(e,d))),o<9&&a>=9&&(m=m.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(m=m.next(()=>this.ei(d))),o<11&&a>=11&&(m=m.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(m=m.next(()=>{!function(R){const G=R.createObjectStore("documentOverlays",{keyPath:aa});G.createIndex("collectionPathOverlayIndex",Es,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Gs,{unique:!1})}(e)})),o<13&&a>=13&&(m=m.next(()=>function(R){const G=R.createObjectStore("remoteDocumentsV14",{keyPath:W});G.createIndex("documentKeyIndex",le),G.createIndex("collectionGroupIndex",ve)}(e)).next(()=>this.ni(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(m=m.next(()=>this.si(e,d))),o<15&&a>=15&&(m=m.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Hi}).createIndex("sequenceNumberIndex",Co,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:va}).createIndex("documentKeyIndex",Ns,{unique:!1})}(e))),m}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=Ip(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>qt.forEach(a,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",m).next(R=>qt.forEach(R,G=>{Me(G.userId===d.userId);const J=Vc(this.serializer,G);return j_(e,d.userId,J).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const d=[];return o.X((m,R)=>{const G=new Ei(m),J=[0,No(G)];d.push(t.get(J).next(ye=>ye?qt.resolve():t.put({targetId:0,path:No(G),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>qt.waitFor(d))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:qn});const o=t.store("collectionParents"),a=new Cp,d=m=>{if(a.add(m)){const R=m.lastSegment(),G=m.popLast();return o.put({collectionId:R,parent:No(G)})}};return t.store("remoteDocuments").X({Y:!0},(m,R)=>{const G=new Ei(m);return d(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([m,R,G],J)=>{const ye=sa(R);return d(ye.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const d=wu(a),m=Wm(this.serializer,d);return t.put(m)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((d,m)=>{const R=t.store("remoteDocumentsV14"),G=(J=m,J.document?new en(Ei.fromString(J.document.name).popFirst(5)):J.noDocument?en.fromSegments(J.noDocument.path):J.unknownDocument?en.fromSegments(J.unknownDocument.path):se()).path.toArray();var J;const ye={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};a.push(R.put(ye))}).next(()=>qt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=Zi(this.serializer),d=new sh(Rp.zs,this.serializer.fe);return o.j().next(m=>{const R=new Map;return m.forEach(G=>{var J;let ye=null!==(J=R.get(G.userId))&&void 0!==J?J:Gi();Vc(this.serializer,G).keys().forEach(Ze=>ye=ye.add(Ze)),R.set(G.userId,ye)}),qt.forEach(R,(G,J)=>{const ye=new Bn(J),Ze=cf.de(this.serializer,ye),Kt=d.getIndexManager(ye),cn=rh.de(ye,this.serializer,Kt,d.referenceDelegate);return new Mp(a,cn,Ze,Kt).recalculateAndSaveOverlaysForDocumentKeys(new ec(t,fs.ct),G).next()})})}}function ag(i){i.createObjectStore("targetDocuments",{keyPath:hn}).createIndex("documentTargetsIndex",Kn,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",At,{unique:!0}),i.createObjectStore("targetGlobal")}const _f="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lg{constructor(e,t,o,a,d,m,R,G,J,ye,Ze=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=d,this.window=m,this.document=R,this.ri=J,this.oi=ye,this.ui=Ze,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Kt=>Promise.resolve(),!lg.D())throw new Ct(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tg(this,a),this.di=t+"main",this.serializer=new rf(G),this.wi=new Qi(this.di,this.ui,new jv(this.serializer)),this.Bs=new $_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zi(this.serializer),this.qs=new k_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ye&&w("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ct(ke.FAILED_PRECONDITION,_f);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new fs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,c.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,c.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ba(e))return y("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ah(e).get("owner").next(t=>qt.resolve(this.Ri(t)))}Pi(e){return uc(e).delete(this.clientId)}bi(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=xo(o,"clientMetadata");return a.j().next(d=>{const m=e.Si(d,18e5),R=d.filter(G=>-1===m.indexOf(G));return qt.forEach(R,G=>a.delete(G.clientId)).next(()=>R)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?qt.resolve(!0):ah(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ct(ke.FAILED_PRECONDITION,_f);return!1}}return!(!this.networkEnabled||!this.inForeground)||uc(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&y("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,c.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new ec(t,fs.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>uc(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return rh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new H_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return cf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){y("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",d=15===(m=this.ui)?bc:14===m?Jl:13===m?Rl:12===m?fl:11===m?ba:void se();var m;let R;return this.wi.runTransaction(e,a,d,G=>(R=new ec(G,this.Os?this.Os.next():fs.ct),"readwrite-primary"===t?this.Ti(R).next(J=>!!J||this.Ei(R)).next(J=>{if(!J)throw w(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ct(ke.FAILED_PRECONDITION,ts);return o(R)}).next(J=>this.vi(R).next(()=>J)):this.Oi(R).next(()=>o(R)))).then(G=>(R.raiseOnCommittedEvent(),G))}Oi(e){return ah(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ct(ke.FAILED_PRECONDITION,_f)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ah(e).put("owner",t)}static D(){return Qi.D()}Ai(e){const t=ah(e);return t.get("owner").next(o=>this.Ri(o)?(y("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):qt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(w(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,O.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return y("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return w("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){w("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ah(i){return xo(i,"owner")}function uc(i){return xo(i,"clientMetadata")}function Op(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class yf{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=Gi(),a=Gi();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new yf(e,t.fromCache,o,a)}}class lh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(d=>d||this.Gi(e,t,a,o)).next(d=>d||this.Qi(e,t))}Ki(e,t){if(Ud(t))return qt.resolve(null);let o=Ls(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=du(t,null,"F"),o=Ls(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const m=Gi(...d);return this.Ui.getDocuments(e,m).next(R=>this.indexManager.getMinOffset(e,o).next(G=>{const J=this.ji(t,R);return this.zi(t,J,m,G.readTime)?this.Ki(e,du(t,null,"F")):this.Wi(e,J,t,G)}))})))}Gi(e,t,o,a){return Ud(t)||a.isEqual(ri.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(d=>{const m=this.ji(t,d);return this.zi(t,m,o,a)?this.Qi(e,t):(Li()<=fe.in.DEBUG&&y("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jd(t)),this.Wi(e,m,t,Tr(a,-1)))})}ji(e,t){let o=new Sr(Vl(e));return t.forEach((a,d)=>{Ul(e,d)&&(o=o.add(d))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Qi(e,t){return Li()<=fe.in.DEBUG&&y("QueryEngine","Using full collection scan to execute query:",jd(t)),this.Ui.getDocumentsMatchingQuery(e,t,go.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(d=>(t.forEach(m=>{d=d.insert(m.key,m)}),d))}}class J_{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Lr(Fn),this.Yi=new il(d=>el(d),tl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function kp(i,e,t,o){return new J_(i,e,t,o)}function cg(i,e){return Np.apply(this,arguments)}function Np(){return Np=(0,c.Z)(function*(i,e){const t=$e(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(d=>(a=d,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const m=[],R=[];let G=Gi();for(const J of a){m.push(J.batchId);for(const ye of J.mutations)G=G.add(ye.key)}for(const J of d){R.push(J.batchId);for(const ye of J.mutations)G=G.add(ye.key)}return t.localDocuments.getDocuments(o,G).next(J=>({er:J,removedBatchIds:m,addedBatchIds:R}))})})}),Np.apply(this,arguments)}function ug(i){const e=$e(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Fp(i,e,t){let o=Gi(),a=Gi();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let m=Ca();return t.forEach((R,G)=>{const J=d.get(R);G.isFoundDocument()!==J.isFoundDocument()&&(a=a.add(R)),G.isNoDocument()&&G.version.isEqual(ri.min())?(e.removeEntry(R,G.readTime),m=m.insert(R,G)):!J.isValidDocument()||G.version.compareTo(J.version)>0||0===G.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(G),m=m.insert(R,G)):y("LocalStore","Ignoring outdated watch update for ",R,". Current version:",J.version," Watch version:",G.version)}),{nr:m,sr:a}})}function ny(i,e){const t=$e(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Du(i,e){const t=$e(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(d=>d?(a=d,qt.resolve(a)):t.Bs.allocateTargetId(o).next(m=>(a=new lc(e,m,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function Su(i,e,t){return ch.apply(this,arguments)}function ch(){return ch=(0,c.Z)(function*(i,e,t){const o=$e(i),a=o.Ji.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,m=>o.persistence.referenceDelegate.removeTarget(m,a)))}catch(m){if(!Ba(m))throw m;y("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),ch.apply(this,arguments)}function Lp(i,e,t){const o=$e(i);let a=ri.min(),d=Gi();return o.persistence.runTransaction("Execute query","readonly",m=>function(R,G,J){const ye=$e(R),Ze=ye.Yi.get(J);return void 0!==Ze?qt.resolve(ye.Ji.get(Ze)):ye.Bs.getTargetData(G,J)}(o,m,Ls(e)).next(R=>{if(R)return a=R.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(m,R.targetId).next(G=>{d=G})}).next(()=>o.Hi.getDocumentsMatchingQuery(m,e,t?a:ri.min(),t?d:Gi())).next(R=>(iy(o,zd(e),R),{documents:R,ir:d})))}function vf(i,e){const t=$e(i),o=$e(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>o.le(d,e).next(m=>m?m.target:null))}function dg(i,e){const t=$e(i),o=t.Xi.get(e)||ri.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Tr(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(iy(t,e,a),a))}function iy(i,e,t){let o=i.Xi.get(e)||ri.min();t.forEach((a,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Xi.set(e,o)}function bf(){return bf=(0,c.Z)(function*(i,e,t,o){const a=$e(i);let d=Gi(),m=Ca();for(const J of t){const ye=e.rr(J.metadata.name);J.document&&(d=d.add(ye));const Ze=e.ur(J);Ze.setReadTime(e.cr(J.metadata.readTime)),m=m.insert(ye,Ze)}const R=a.Zi.newChangeBuffer({trackRemovals:!0}),G=yield Du(a,(J=o,Ls(Ac(Ei.fromString(`__bundle__/docs/${J}`)))));var J;return a.persistence.runTransaction("Apply bundle documents","readwrite",J=>Fp(J,R,m).next(ye=>(R.apply(J),ye)).next(ye=>a.Bs.removeMatchingKeysForTargetId(J,G.targetId).next(()=>a.Bs.addMatchingKeys(J,d,G.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(J,ye.nr,ye.sr)).next(()=>ye.nr)))}),bf.apply(this,arguments)}function ry(i,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,c.Z)(function*(i,e,t=Gi()){const o=yield Du(i,Ls(bp(e.bundledQuery))),a=$e(i);return a.persistence.runTransaction("Save named query","readwrite",d=>{const m=Ki(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return a.qs.saveNamedQuery(d,e);const R=o.withResumeToken($o.EMPTY_BYTE_STRING,m);return a.Ji=a.Ji.insert(R.targetId,R),a.Bs.updateTargetData(d,R).next(()=>a.Bs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>a.Bs.addMatchingKeys(d,t,o.targetId)).next(()=>a.qs.saveNamedQuery(d,e))})}),Ef.apply(this,arguments)}function hg(i,e){return`firestore_clients_${i}_${e}`}function fg(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function ud(i,e){return`firestore_targets_${i}_${e}`}class dc{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let d,m="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(d=new Ct(a.error.code,a.error.message))),m?new dc(e,t,a.state,d):(w("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(a=new Ct(o.error.code,o.error.message))),d?new Mu(e,o.state,a):(w("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,d=Hl();for(let m=0;a&&m<o.activeTargetIds.length;++m)a=Za(o.activeTargetIds[m]),d=d.add(o.activeTargetIds[m]);return a?new Wc(e,d):(w("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class uh{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new uh(t.clientId,t.onlineState):(w("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dd{constructor(){this.activeTargetIds=Hl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wf{constructor(e,t,o,a,d){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Lr(Fn),this.started=!1,this.yr=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.pr=hg(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new dd),this.Tr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const d=e.getItem(hg(e.persistenceKey,a));if(d){const m=Wc.ar(a,d);m&&(e.gr=e.gr.insert(m.clientId,m))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(ud(this.persistenceKey,e));if(o){const a=Mu.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ud(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return y("SharedClientState","READ",e,t),t}setItem(e,t){y("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){y("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(y("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void w("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,c.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(d){let m=fs.ct;if(null!=d)try{const R=JSON.parse(d);Me("number"==typeof R),m=R}catch(R){w("SharedClientState","Failed to read sequence number from WebStorage",R)}return m}(o.newValue);a!==fs.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(d=>t.syncEngine.Qr(d)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new dc(this.currentUser,e,t,o),d=fg(this.persistenceKey,this.currentUser,e);this.setItem(d,a.hr())}Cr(e){const t=fg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=ud(this.persistenceKey,e),d=new Mu(e,t,o);this.setItem(a,d.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return Wc.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return dc.ar(new Bn(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return Mu.ar(a,t)}br(e){return uh.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,c.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);y("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),d=this.Sr(o),m=[],R=[];return d.forEach(G=>{a.has(G)||m.push(G)}),a.forEach(G=>{d.has(G)||R.push(G)}),this.syncEngine.Wr(m,R).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Hl();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Cf{constructor(){this.Hr=new dd,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new dd,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bp{Yr(e){}shutdown(){}}class xf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let dh=null;function hh(){return null===dh?dh=268435456+Math.round(2147483648*Math.random()):dh++,"0x"+dh.toString(16)}const oy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sy{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ys="WebChannelConnection";class ay extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,d){const m=hh(),R=this.To(e,t);y("RestConnection",`Sending RPC '${e}' ${m}:`,R,o);const G={};return this.Eo(G,a,d),this.Ao(e,R,G,o).then(J=>(y("RestConnection",`Received RPC '${e}' ${m}: `,J),J),J=>{throw L("RestConnection",`RPC '${e}' ${m} failed with error: `,J,"url: ",R,"request:",o),J})}vo(e,t,o,a,d,m){return this.Io(e,t,o,a,d)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+pr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,d)=>e[d]=a),o&&o.headers.forEach((a,d)=>e[d]=a)}To(e,t){return`${this.mo}/v1/${t}:${oy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const d=hh();return new Promise((m,R)=>{const G=new he;G.setWithCredentials(!0),G.listenOnce(Ta.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case ra.NO_ERROR:const ye=G.getResponseJson();y(Ys,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(ye)),m(ye);break;case ra.TIMEOUT:y(Ys,`RPC '${e}' ${d} timed out`),R(new Ct(ke.DEADLINE_EXCEEDED,"Request time out"));break;case ra.HTTP_ERROR:const Ze=G.getStatus();if(y(Ys,`RPC '${e}' ${d} failed with status:`,Ze,"response text:",G.getResponseText()),Ze>0){let Kt=G.getResponseJson();Array.isArray(Kt)&&(Kt=Kt[0]);const cn=Kt?.error;if(cn&&cn.status&&cn.message){const Pn=function(ni){const si=ni.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(si)>=0?si:ke.UNKNOWN}(cn.status);R(new Ct(Pn,cn.message))}else R(new Ct(ke.UNKNOWN,"Server responded with status "+G.getStatus()))}else R(new Ct(ke.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{y(Ys,`RPC '${e}' ${d} completed.`)}});const J=JSON.stringify(a);y(Ys,`RPC '${e}' ${d} sending request:`,a),G.send(t,"POST",J,o,15)})}Ro(e,t,o){const a=hh(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Wa(),R=ul(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},J=this.longPollingOptions.timeoutSeconds;void 0!==J&&(G.longPollingTimeout=Math.round(1e3*J)),this.useFetchStreams&&(G.xmlHttpFactory=new X({})),this.Eo(G.initMessageHeaders,t,o),G.encodeInitMessageHeaders=!0;const ye=d.join("");y(Ys,`Creating RPC '${e}' stream ${a}: ${ye}`,G);const Ze=m.createWebChannel(ye,G);let Kt=!1,cn=!1;const Pn=new sy({ro:si=>{cn?y(Ys,`Not sending because RPC '${e}' stream ${a} is closed:`,si):(Kt||(y(Ys,`Opening RPC '${e}' stream ${a} transport.`),Ze.open(),Kt=!0),y(Ys,`RPC '${e}' stream ${a} sending:`,si),Ze.send(si))},oo:()=>Ze.close()}),ni=(si,Ji,Dr)=>{si.listen(Ji,_r=>{try{Dr(_r)}catch(Ts){setTimeout(()=>{throw Ts},0)}})};return ni(Ze,H.EventType.OPEN,()=>{cn||y(Ys,`RPC '${e}' stream ${a} transport opened.`)}),ni(Ze,H.EventType.CLOSE,()=>{cn||(cn=!0,y(Ys,`RPC '${e}' stream ${a} transport closed`),Pn.wo())}),ni(Ze,H.EventType.ERROR,si=>{cn||(cn=!0,L(Ys,`RPC '${e}' stream ${a} transport errored:`,si),Pn.wo(new Ct(ke.UNAVAILABLE,"The operation could not be completed")))}),ni(Ze,H.EventType.MESSAGE,si=>{var Ji;if(!cn){const Dr=si.data[0];Me(!!Dr);const Ts=Dr.error||(null===(Ji=Dr[0])||void 0===Ji?void 0:Ji.error);if(Ts){y(Ys,`RPC '${e}' stream ${a} received error:`,Ts);const us=Ts.status;let Do=function(Vu){const lp=Fo[Vu];if(void 0!==lp)return ol(lp)}(us),La=Ts.message;void 0===Do&&(Do=ke.INTERNAL,La="Unknown error status: "+us+" with message "+Ts.message),cn=!0,Pn.wo(new Ct(Do,La)),Ze.close()}else y(Ys,`RPC '${e}' stream ${a} received:`,Dr),Pn._o(Dr)}}),ni(R,Da.STAT_EVENT,si=>{si.stat===N.PROXY?y(Ys,`RPC '${e}' stream ${a} detected buffering proxy`):si.stat===N.NOPROXY&&y(Ys,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Pn.fo()},0),Pn}}function Up(){return typeof window<"u"?window:null}function fh(){return typeof document<"u"?document:null}function ph(i){return new ai(i,!0)}class Vp{constructor(e,t,o=1e3,a=1.5,d=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=d,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&y("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Na{constructor(e,t,o,a,d,m,R,G){this.ii=e,this.$o=o,this.Oo=a,this.connection=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=R,this.listener=G,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Vp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,c.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,c.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,c.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===ke.RESOURCE_EXHAUSTED?(w(t.toString()),w("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===ke.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new Ct(ke.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,c.Z)(function*(){e.state=0,e.start()}))}tu(e){return y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ly extends Na{constructor(e,t,o,a,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,m),this.serializer=d}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function eh(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:se(),a=e.targetChange.targetIds||[],d=function(G,J){return G.useProto3Json?(Me(void 0===J||"string"==typeof J),$o.fromBase64String(J||"")):(Me(void 0===J||J instanceof Uint8Array),$o.fromUint8Array(J||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,R=m&&function(G){const J=void 0===G.code?ke.UNKNOWN:ol(G.code);return new Ct(J,G.message||"")}(m);t=new T(o,a,d,R||null)}else if("documentChange"in e){const o=e.documentChange,a=ka(i,o.document.name),d=Ki(o.document.updateTime),m=o.document.createTime?Ki(o.document.createTime):ri.min(),R=new ns({mapValue:{fields:o.document.fields}}),G=io.newFoundDocument(a,d,m,R);t=new h(o.targetIds||[],o.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const o=e.documentDelete,a=ka(i,o.document),d=o.readTime?Ki(o.readTime):ri.min(),m=io.newNoDocument(a,d);t=new h([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,a=ka(i,o.document);t=new h([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return se();{const o=e.filter,{count:a=0,unchangedNames:d}=o,m=new ha(a,d);t=new f(o.targetId,m)}}var G;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return ri.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?ri.min():d.readTime?Ki(d.readTime):ri.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Fc(this.serializer),t.addTarget=function(a,d){let m;const R=d.target;if(m=Mc(R)?{documents:mp(a,R)}:{query:Hm(a,R)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=ac(a,d.resumeToken);const G=Zr(a,d.expectedCount);null!==G&&(m.expectedCount=G)}else if(d.snapshotVersion.compareTo(ri.min())>0){m.readTime=Cs(a,d.snapshotVersion.toTimestamp());const G=Zr(a,d.expectedCount);null!==G&&(m.expectedCount=G)}return m}(this.serializer,e);const o=function zm(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Fc(this.serializer),t.removeTarget=e,this.Wo(t)}}class cy extends Na{constructor(e,t,o,a,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,m),this.serializer=d,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Vm(i,e){return i&&i.length>0?(Me(void 0!==e),i.map(t=>function(o,a){let d=Ki(o.updateTime?o.updateTime:a);return d.isEqual(ri.min())&&(d=Ki(a)),new gu(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ki(e.commitTime);return this.listener.cu(o,t)}return Me(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Eu(this.serializer,o))};this.Wo(t)}}class zv extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Ct(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.Io(e,t,o,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ct(ke.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.vo(e,t,o,d,m,a)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ct(ke.UNKNOWN,d.toString())})}terminate(){this.lu=!0}}class uy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(w(t),this.mu=!1):y("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class dy{constructor(e,t,o,a,d){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=d,this.Pu.Yr(R=>{o.enqueueAndForget((0,c.Z)(function*(){var G;Qs(m)&&(y("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,c.Z)(function*(J){const ye=$e(J);ye.vu.add(4),yield hd(ye),ye.bu.set("Unknown"),ye.vu.delete(4),yield mh(ye)}),function(J){return G.apply(this,arguments)})(m))}))}),this.bu=new uy(o,a)}}function mh(i){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,c.Z)(function*(i){if(Qs(i))for(const e of i.Ru)yield e(!0)}),Tf.apply(this,arguments)}function hd(i){return jp.apply(this,arguments)}function jp(){return jp=(0,c.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),jp.apply(this,arguments)}function fd(i,e){const t=$e(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Gp(t)?$p(t):yd(t).Ko()&&zp(t,e))}function gh(i,e){const t=$e(i),o=yd(t);t.Au.delete(e),o.Ko()&&pg(t,e),0===t.Au.size&&(o.Ko()?o.jo():Qs(t)&&t.bu.set("Unknown"))}function zp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ri.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yd(i).su(e)}function pg(i,e){i.Vu.qt(e),yd(i).iu(e)}function $p(i){i.Vu=new de({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),yd(i).start(),i.bu.gu()}function Gp(i){return Qs(i)&&!yd(i).Uo()&&i.Au.size>0}function Qs(i){return 0===$e(i).vu.size}function Df(i){i.Vu=void 0}function hy(i){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,c.Z)(function*(i){i.Au.forEach((e,t)=>{zp(i,e)})}),Wp.apply(this,arguments)}function mg(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,c.Z)(function*(i,e){Df(i),Gp(i)?(i.bu.Iu(e),$p(i)):i.bu.set("Unknown")}),Kp.apply(this,arguments)}function fy(i,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,c.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof T&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(a,d){const m=d.cause;for(const R of d.targetIds)a.Au.has(R)&&(yield a.remoteSyncer.rejectListen(R,m),a.Au.delete(R),a.Vu.removeTarget(R))}),function(a,d){return o.apply(this,arguments)})(i,e)}catch(o){y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield pd(i,o)}else if(e instanceof h?i.Vu.Ht(e):e instanceof f?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(ri.min()))try{const o=yield ug(i.localStore);t.compareTo(o)>=0&&(yield function(a,d){const m=a.Vu.ce(d);return m.targetChanges.forEach((R,G)=>{if(R.resumeToken.approximateByteSize()>0){const J=a.Au.get(G);J&&a.Au.set(G,J.withResumeToken(R.resumeToken,d))}}),m.targetMismatches.forEach((R,G)=>{const J=a.Au.get(R);if(!J)return;a.Au.set(R,J.withResumeToken($o.EMPTY_BYTE_STRING,J.snapshotVersion)),pg(a,R);const ye=new lc(J.target,R,G,J.sequenceNumber);zp(a,ye)}),a.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(o){y("RemoteStore","Failed to raise snapshot:",o),yield pd(i,o)}var o}),Zp.apply(this,arguments)}function pd(i,e,t){return qp.apply(this,arguments)}function qp(){return qp=(0,c.Z)(function*(i,e,t){if(!Ba(e))throw e;i.vu.add(1),yield hd(i),i.bu.set("Offline"),t||(t=()=>ug(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){y("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield mh(i)}))}),qp.apply(this,arguments)}function gg(i,e){return e().catch(t=>pd(i,t,e))}function hc(i){return md.apply(this,arguments)}function md(){return md=(0,c.Z)(function*(i){const e=$e(i),t=Kc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Sf(e);)try{const a=yield ny(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,$v(e,a)}catch(a){yield pd(e,a)}Mf(e)&&py(e)}),md.apply(this,arguments)}function Sf(i){return Qs(i)&&i.Eu.length<10}function $v(i,e){i.Eu.push(e);const t=Kc(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Mf(i){return Qs(i)&&!Kc(i).Uo()&&i.Eu.length>0}function py(i){Kc(i).start()}function _g(i){return Af.apply(this,arguments)}function Af(){return Af=(0,c.Z)(function*(i){Kc(i).hu()}),Af.apply(this,arguments)}function yg(i){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,c.Z)(function*(i){const e=Kc(i);for(const t of i.Eu)e.uu(t.mutations)}),Rf.apply(this,arguments)}function Yp(i,e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,c.Z)(function*(i,e,t){const o=i.Eu.shift(),a=Yd.from(o,e,t);yield gg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),yield hc(i)}),Tl.apply(this,arguments)}function Pf(i,e){return gd.apply(this,arguments)}function gd(){return gd=(0,c.Z)(function*(i,e){var t;e&&Kc(i).ou&&(yield(t=(0,c.Z)(function*(o,a){if(Jh(d=a.code)&&d!==ke.ABORTED){const m=o.Eu.shift();Kc(o).Qo(),yield gg(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,a)),yield hc(o)}var d}),function(o,a){return t.apply(this,arguments)})(i,e)),Mf(i)&&py(i)}),gd.apply(this,arguments)}function _d(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,c.Z)(function*(i,e){const t=$e(i);t.asyncQueue.verifyOperationInProgress(),y("RemoteStore","RemoteStore received new credentials");const o=Qs(t);t.vu.add(3),yield hd(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield mh(t)}),Qp.apply(this,arguments)}function Of(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,c.Z)(function*(i,e){const t=$e(i);e?(t.vu.delete(2),yield mh(t)):e||(t.vu.add(2),yield hd(t),t.bu.set("Unknown"))}),kf.apply(this,arguments)}function yd(i){return i.Su||(i.Su=function(e,t,o){const a=$e(e);return a.fu(),new ly(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(i.datastore,i.asyncQueue,{uo:hy.bind(null,i),ao:mg.bind(null,i),nu:fy.bind(null,i)}),i.Ru.push(function(){var e=(0,c.Z)(function*(t){t?(i.Su.Qo(),Gp(i)?$p(i):i.bu.set("Unknown")):(yield i.Su.stop(),Df(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Kc(i){return i.Du||(i.Du=function(e,t,o){const a=$e(e);return a.fu(),new cy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(i.datastore,i.asyncQueue,{uo:_g.bind(null,i),ao:Pf.bind(null,i),au:yg.bind(null,i),cu:Yp.bind(null,i)}),i.Ru.push(function(){var e=(0,c.Z)(function*(t){t?(i.Du.Qo(),yield hc(i)):(yield i.Du.stop(),i.Eu.length>0&&(y("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Au{constructor(e,t,o,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=d,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,o,a,d){const m=Date.now()+o,R=new Au(e,t,m,a,d);return R.start(o),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(i,e){if(w("AsyncQueue",`${e}: ${i}`),Ba(i))return new Ct(ke.UNAVAILABLE,`${e}: ${i}`);throw i}class _h{constructor(e){this.comparator=e?(t,o)=>e(t,o)||en.comparator(t.key,o.key):(t,o)=>en.comparator(t.key,o.key),this.keyedMap=fu(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new _h(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _h)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=o.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new _h;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class vg{constructor(){this.Cu=new Lr(en.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):se():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class bd{constructor(e,t,o,a,d,m,R,G,J){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=R,this.excludesMetadataChanges=G,this.hasCachedResults=J}static fromInitialDocuments(e,t,o,a,d){const m=[];return t.forEach(R=>{m.push({type:0,doc:R})}),new bd(e,t,_h.emptySet(t),m,o,a,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class my{constructor(){this.Nu=void 0,this.listeners=[]}}class gy{constructor(){this.queries=new il(e=>$h(e),bl),this.onlineState="Unknown",this.ku=new Set}}function Xp(i,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,c.Z)(function*(i,e){const t=$e(i),o=e.query;let a=!1,d=t.queries.get(o);if(d||(a=!0,d=new my),a)try{d.Nu=yield t.onListen(o)}catch(m){const R=vd(m,`Initialization of query '${jd(e.query)}' failed`);return void e.onError(R)}t.queries.set(o,d),d.listeners.push(e),e.Mu(t.onlineState),d.Nu&&e.$u(d.Nu)&&yh(t)}),Jp.apply(this,arguments)}function em(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,c.Z)(function*(i,e){const t=$e(i),o=e.query;let a=!1;const d=t.queries.get(o);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),a=0===d.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),Nf.apply(this,arguments)}function tm(i,e){const t=$e(i);let o=!1;for(const a of e){const m=t.queries.get(a.query);if(m){for(const R of m.listeners)R.$u(a)&&(o=!0);m.Nu=a}}o&&yh(t)}function _y(i,e,t){const o=$e(i),a=o.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);o.queries.delete(e)}function yh(i){i.ku.forEach(e=>{e.next()})}class nm{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new bd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class yy{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class bg{constructor(e){this.serializer=e}rr(e){return ka(this.serializer,e)}ur(e){return e.metadata.exists?pp(this.serializer,e.document,!1):io.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ki(e)}}class vy{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Eg(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Ei.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new bg(this.serializer);for(const a of e)if(a.metadata.queries){const d=o.rr(a.metadata.name);for(const m of a.metadata.queries){const R=(t.get(m)||Gi()).add(d);t.set(m,R)}}return t}complete(){var e=this;return(0,c.Z)(function*(){const t=yield function cd(i,e,t,o){return bf.apply(this,arguments)}(e.localStore,new bg(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield ry(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Eg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class wg{constructor(e){this.key=e}}class Cg{constructor(e){this.key=e}}class im{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gi(),this.mutatedKeys=Gi(),this.tc=Vl(e),this.ec=new _h(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new vg,a=t?t.ec:this.ec;let d=t?t.mutatedKeys:this.mutatedKeys,m=a,R=!1;const G="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,J="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ye,Ze)=>{const Kt=a.get(ye),cn=Ul(this.query,Ze)?Ze:null,Pn=!!Kt&&this.mutatedKeys.has(Kt.key),ni=!!cn&&(cn.hasLocalMutations||this.mutatedKeys.has(cn.key)&&cn.hasCommittedMutations);let si=!1;Kt&&cn?Kt.data.isEqual(cn.data)?Pn!==ni&&(o.track({type:3,doc:cn}),si=!0):this.rc(Kt,cn)||(o.track({type:2,doc:cn}),si=!0,(G&&this.tc(cn,G)>0||J&&this.tc(cn,J)<0)&&(R=!0)):!Kt&&cn?(o.track({type:0,doc:cn}),si=!0):Kt&&!cn&&(o.track({type:1,doc:Kt}),si=!0,(G||J)&&(R=!0)),si&&(cn?(m=m.add(cn),d=ni?d.add(ye):d.delete(ye)):(m=m.delete(ye),d=d.delete(ye)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ye="F"===this.query.limitType?m.last():m.first();m=m.delete(ye.key),d=d.delete(ye.key),o.track({type:1,doc:ye})}return{ec:m,ic:o,zi:R,mutatedKeys:d}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const d=e.ic.xu();d.sort((J,ye)=>function(Ze,Kt){const cn=Pn=>{switch(Pn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return cn(Ze)-cn(Kt)}(J.type,ye.type)||this.tc(J.doc,ye.doc)),this.oc(o);const m=t?this.uc():[],R=0===this.Zu.size&&this.current?1:0,G=R!==this.Xu;return this.Xu=R,0!==d.length||G?{snapshot:new bd(this.query,e.ec,a,d,e.mutatedKeys,0===R,G,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:m}:{cc:m}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gi(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new Cg(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new wg(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Gi();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return bd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class xg{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class by{constructor(e){this.key=e,this.fc=!1}}class Gv{constructor(e,t,o,a,d,m){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.dc={},this.wc=new il(R=>$h(R),bl),this._c=new Map,this.mc=new Set,this.gc=new Lr(en.comparator),this.yc=new Map,this.Ic=new og,this.Tc={},this.Ec=new Map,this.Ac=zc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ig(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,c.Z)(function*(i,e){const t=$f(i);let o,a;const d=t.wc.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),a=d.view.lc();else{const m=yield Du(t.localStore,Ls(e)),R=t.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,a=yield Ed(t,e,o,"current"===R,m.resumeToken),t.isPrimaryClient&&fd(t.remoteStore,m)}return a}),Tg.apply(this,arguments)}function Ed(i,e,t,o,a){return rm.apply(this,arguments)}function rm(){return rm=(0,c.Z)(function*(i,e,t,o,a){i.Rc=(Ze,Kt,cn)=>{return(Pn=(0,c.Z)(function*(ni,si,Ji,Dr){let _r=si.view.sc(Ji);_r.zi&&(_r=yield Lp(ni.localStore,si.query,!1).then(({documents:Do})=>si.view.sc(Do,_r)));const Ts=Dr&&Dr.targetChanges.get(si.targetId),us=si.view.applyChanges(_r,ni.isPrimaryClient,Ts);return Lf(ni,si.targetId,us.cc),us.snapshot}),function(ni,si,Ji,Dr){return Pn.apply(this,arguments)})(i,Ze,Kt,cn);var Pn};const d=yield Lp(i.localStore,e,!0),m=new im(e,d.ir),R=m.sc(d.documents),G=b.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,a),J=m.applyChanges(R,i.isPrimaryClient,G);Lf(i,t,J.cc);const ye=new xg(e,t,m);return i.wc.set(e,ye),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),J.snapshot}),rm.apply(this,arguments)}function Ey(i,e){return vh.apply(this,arguments)}function vh(){return vh=(0,c.Z)(function*(i,e){const t=$e(i),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(d=>!bl(d,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Su(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),gh(t.remoteStore,o.targetId),Dl(t,o.targetId)}).catch(_o))):(Dl(t,o.targetId),yield Su(t.localStore,o.targetId,!0))}),vh.apply(this,arguments)}function al(){return al=(0,c.Z)(function*(i,e,t){const o=Ch(i);try{const a=yield function(d,m){const R=$e(d),G=cr.now(),J=m.reduce((Kt,cn)=>Kt.add(cn.key),Gi());let ye,Ze;return R.persistence.runTransaction("Locally write mutations","readwrite",Kt=>{let cn=Ca(),Pn=Gi();return R.Zi.getEntries(Kt,J).next(ni=>{cn=ni,cn.forEach((si,Ji)=>{Ji.isValidDocument()||(Pn=Pn.add(si))})}).next(()=>R.localDocuments.getOverlayedDocuments(Kt,cn)).next(ni=>{ye=ni;const si=[];for(const Ji of m){const Dr=Kd(Ji,ye.get(Ji.key).overlayedDocument);null!=Dr&&si.push(new ja(Ji.key,Dr,lu(Dr.value.mapValue),ho.exists(!0)))}return R.mutationQueue.addMutationBatch(Kt,G,si,m)}).next(ni=>{Ze=ni;const si=ni.applyToLocalDocumentSet(ye,Pn);return R.documentOverlayCache.saveOverlays(Kt,ni.batchId,si)})}).then(()=>({batchId:Ze.batchId,changes:Yu(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(d,m,R){let G=d.Tc[d.currentUser.toKey()];G||(G=new Lr(Fn)),G=G.insert(m,R),d.Tc[d.currentUser.toKey()]=G}(o,a.batchId,t),yield ql(o,a.changes),yield hc(o.remoteStore)}catch(a){const d=vd(a,"Failed to persist write");t.reject(d)}}),al.apply(this,arguments)}function wd(i,e){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,c.Z)(function*(i,e){const t=$e(i);try{const o=yield function ty(i,e){const t=$e(i),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const R=[];e.targetChanges.forEach((ye,Ze)=>{const Kt=a.get(Ze);if(!Kt)return;R.push(t.Bs.removeMatchingKeys(d,ye.removedDocuments,Ze).next(()=>t.Bs.addMatchingKeys(d,ye.addedDocuments,Ze)));let cn=Kt.withSequenceNumber(d.currentSequenceNumber);var Pn,ni,si;null!==e.targetMismatches.get(Ze)?cn=cn.withResumeToken($o.EMPTY_BYTE_STRING,ri.min()).withLastLimboFreeSnapshotVersion(ri.min()):ye.resumeToken.approximateByteSize()>0&&(cn=cn.withResumeToken(ye.resumeToken,o)),a=a.insert(Ze,cn),ni=cn,si=ye,(0===(Pn=Kt).resumeToken.approximateByteSize()||ni.snapshotVersion.toMicroseconds()-Pn.snapshotVersion.toMicroseconds()>=3e8||si.addedDocuments.size+si.modifiedDocuments.size+si.removedDocuments.size>0)&&R.push(t.Bs.updateTargetData(d,cn))});let G=Ca(),J=Gi();if(e.documentUpdates.forEach(ye=>{e.resolvedLimboDocuments.has(ye)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(d,ye))}),R.push(Fp(d,m,e.documentUpdates).next(ye=>{G=ye.nr,J=ye.sr})),!o.isEqual(ri.min())){const ye=t.Bs.getLastRemoteSnapshotVersion(d).next(Ze=>t.Bs.setTargetsMetadata(d,d.currentSequenceNumber,o));R.push(ye)}return qt.waitFor(R).next(()=>m.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,G,J)).next(()=>G)}).then(d=>(t.Ji=a,d))}(t.localStore,e);e.targetChanges.forEach((a,d)=>{const m=t.yc.get(d);m&&(Me(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?m.fc=!0:a.modifiedDocuments.size>0?Me(m.fc):a.removedDocuments.size>0&&(Me(m.fc),m.fc=!1))}),yield ql(t,o,e)}catch(o){yield _o(o)}}),Bs.apply(this,arguments)}function Zc(i,e,t){const o=$e(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((d,m)=>{const R=m.view.Mu(e);R.snapshot&&a.push(R.snapshot)}),function(d,m){const R=$e(d);R.onlineState=m;let G=!1;R.queries.forEach((J,ye)=>{for(const Ze of ye.listeners)Ze.Mu(m)&&(G=!0)}),G&&yh(R)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Ff(i,e,t){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,c.Z)(function*(i,e,t){const o=$e(i);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),d=a&&a.key;if(d){let m=new Lr(en.comparator);m=m.insert(d,io.newNoDocument(d,ri.min()));const R=Gi().add(d),G=new id(ri.min(),new Map,new Lr(Fn),m,R);yield wd(o,G),o.gc=o.gc.remove(d),o.yc.delete(e),Bf(o)}else yield Su(o.localStore,e,!1).then(()=>Dl(o,e,t)).catch(_o)}),Fa.apply(this,arguments)}function om(i,e){return qc.apply(this,arguments)}function qc(){return qc=(0,c.Z)(function*(i,e){const t=$e(i),o=e.batch.batchId;try{const a=yield function ey(i,e){const t=$e(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),d=t.Zi.newChangeBuffer({trackRemovals:!0});return function(m,R,G,J){const ye=G.batch,Ze=ye.keys();let Kt=qt.resolve();return Ze.forEach(cn=>{Kt=Kt.next(()=>J.getEntry(R,cn)).next(Pn=>{const ni=G.docVersions.get(cn);Me(null!==ni),Pn.version.compareTo(ni)<0&&(ye.applyToRemoteDocument(Pn,G),Pn.isValidDocument()&&(Pn.setReadTime(G.commitVersion),J.addEntry(Pn)))})}),Kt.next(()=>m.mutationQueue.removeMutationBatch(R,ye))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let R=Gi();for(let G=0;G<m.mutationResults.length;++G)m.mutationResults[G].transformResults.length>0&&(R=R.add(m.batch.mutations[G].key));return R}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);Jc(t,o,null),Xc(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield ql(t,a)}catch(a){yield _o(a)}}),qc.apply(this,arguments)}function Cd(i,e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,c.Z)(function*(i,e,t){const o=$e(i);try{const a=yield function(d,m){const R=$e(d);return R.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let J;return R.mutationQueue.lookupMutationBatch(G,m).next(ye=>(Me(null!==ye),J=ye.keys(),R.mutationQueue.removeMutationBatch(G,ye))).next(()=>R.mutationQueue.performConsistencyCheck(G)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(G,J,m)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,J)).next(()=>R.localDocuments.getDocuments(G,J))})}(o.localStore,e);Jc(o,e,t),Xc(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield ql(o,a)}catch(a){yield _o(a)}}),Yc.apply(this,arguments)}function Qc(){return Qc=(0,c.Z)(function*(i,e){const t=$e(i);Qs(t.remoteStore)||y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const m=$e(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>m.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=vd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Qc.apply(this,arguments)}function Xc(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Jc(i,e,t){const o=$e(i);let a=o.Tc[o.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function Dl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),t&&i.dc.Pc(o,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||Ru(i,o)})}function Ru(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(gh(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Bf(i))}function Lf(i,e,t){for(const o of t)o instanceof wg?(i.Ic.addReference(o.key,e),Dg(i,o)):o instanceof Cg?(y("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||Ru(i,o.key)):se()}function Dg(i,e){const t=e.key,o=t.path.canonicalString();i.gc.get(t)||i.mc.has(o)||(y("SyncEngine","New document in limbo: "+t),i.mc.add(o),Bf(i))}function Bf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new en(Ei.fromString(e)),o=i.Ac.next();i.yc.set(o,new by(t)),i.gc=i.gc.insert(t,o),fd(i.remoteStore,new lc(Ls(Ac(t.path)),o,"TargetPurposeLimboResolution",fs.ct))}}function ql(i,e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,c.Z)(function*(i,e,t){const o=$e(i),a=[],d=[],m=[];var R;o.wc.isEmpty()||(o.wc.forEach((R,G)=>{m.push(o.Rc(G,e,t).then(J=>{if((J||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,J?.fromCache?"not-current":"current"),J){a.push(J);const ye=yf.Li(G.targetId,J);d.push(ye)}}))}),yield Promise.all(m),o.dc.nu(a),yield(R=(0,c.Z)(function*(G,J){const ye=$e(G);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>qt.forEach(J,Kt=>qt.forEach(Kt.Fi,cn=>ye.persistence.referenceDelegate.addReference(Ze,Kt.targetId,cn)).next(()=>qt.forEach(Kt.Bi,cn=>ye.persistence.referenceDelegate.removeReference(Ze,Kt.targetId,cn)))))}catch(Ze){if(!Ba(Ze))throw Ze;y("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of J){const Kt=Ze.targetId;if(!Ze.fromCache){const cn=ye.Ji.get(Kt),ni=cn.withLastLimboFreeSnapshotVersion(cn.snapshotVersion);ye.Ji=ye.Ji.insert(Kt,ni)}}}),function(G,J){return R.apply(this,arguments)})(o.localStore,d))}),Uf.apply(this,arguments)}function Sg(i,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,c.Z)(function*(i,e){const t=$e(i);if(!t.currentUser.isEqual(e)){y("SyncEngine","User change. New user:",e.toKey());const o=yield cg(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(m=>{m.forEach(R=>{R.reject(new Ct(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ql(t,o.er)}var a}),Vf.apply(this,arguments)}function Mg(i,e){const t=$e(i),o=t.yc.get(e);if(o&&o.fc)return Gi().add(o.key);{let a=Gi();const d=t._c.get(e);if(!d)return a;for(const m of d){const R=t.wc.get(m);a=a.unionWith(R.view.nc)}return a}}function Ag(i,e){return sm.apply(this,arguments)}function sm(){return sm=(0,c.Z)(function*(i,e){const t=$e(i),o=yield Lp(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&Lf(t,e.targetId,a.cc),a}),sm.apply(this,arguments)}function Cy(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,c.Z)(function*(i,e){const t=$e(i);return dg(t.localStore,e).then(o=>ql(t,o))}),Hf.apply(this,arguments)}function xy(i,e,t,o){return jf.apply(this,arguments)}function jf(){return jf=(0,c.Z)(function*(i,e,t,o){const a=$e(i),d=yield function(m,R){const G=$e(m),J=$e(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",ye=>J.Sn(ye,R).next(Ze=>Ze?G.localDocuments.getDocuments(ye,Ze):qt.resolve(null)))}(a.localStore,e);var R;null!==d?("pending"===t?yield hc(a.remoteStore):"acknowledged"===t||"rejected"===t?(Jc(a,e,o||null),Xc(a,e),R=e,$e($e(a.localStore).mutationQueue).Cn(R)):se(),yield ql(a,d)):y("SyncEngine","Cannot apply mutation batch with id: "+e)}),jf.apply(this,arguments)}function bh(){return bh=(0,c.Z)(function*(i,e){const t=$e(i);if($f(t),Ch(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Rg(t,o.toArray());t.vc=!0,yield Of(t.remoteStore,!0);for(const d of a)fd(t.remoteStore,d)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((d,m)=>{t.sharedClientState.isLocalQueryTarget(m)?o.push(m):a=a.then(()=>(Dl(t,m),Su(t.localStore,m,!0))),gh(t.remoteStore,m)}),yield a,yield Rg(t,o),function(d){const m=$e(d);m.yc.forEach((R,G)=>{gh(m.remoteStore,G)}),m.Ic.Ts(),m.yc=new Map,m.gc=new Lr(en.comparator)}(t),t.vc=!1,yield Of(t.remoteStore,!1)}}),bh.apply(this,arguments)}function Rg(i,e,t){return Id.apply(this,arguments)}function Id(){return Id=(0,c.Z)(function*(i,e,t){const o=$e(i),a=[],d=[];for(const m of e){let R;const G=o._c.get(m);if(G&&0!==G.length){R=yield Du(o.localStore,Ls(G[0]));for(const J of G){const ye=o.wc.get(J),Ze=yield Ag(o,ye);Ze.snapshot&&d.push(Ze.snapshot)}}else{const J=yield vf(o.localStore,m);R=yield Du(o.localStore,J),yield Ed(o,Eh(J),m,!1,R.resumeToken)}a.push(R)}return o.dc.nu(d),a}),Id.apply(this,arguments)}function Eh(i){return Zu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function lm(i){const e=$e(i);return $e($e(e.localStore).persistence).$i()}function Iy(i,e,t,o){return wh.apply(this,arguments)}function wh(){return wh=(0,c.Z)(function*(i,e,t,o){const a=$e(i);if(a.vc)return void y("SyncEngine","Ignoring unexpected query state notification.");const d=a._c.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const m=yield dg(a.localStore,zd(d[0])),R=id.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,$o.EMPTY_BYTE_STRING);yield ql(a,m,R);break}case"rejected":yield Su(a.localStore,e,!0),Dl(a,e,o);break;default:se()}}),wh.apply(this,arguments)}function cm(i,e,t){return zf.apply(this,arguments)}function zf(){return zf=(0,c.Z)(function*(i,e,t){const o=$f(i);if(o.vc){for(const a of e){if(o._c.has(a)){y("SyncEngine","Adding an already active target "+a);continue}const d=yield vf(o.localStore,a),m=yield Du(o.localStore,d);yield Ed(o,Eh(d),m.targetId,!1,m.resumeToken),fd(o.remoteStore,m)}for(const a of t)o._c.has(a)&&(yield Su(o.localStore,a,!1).then(()=>{gh(o.remoteStore,a),Dl(o,a)}).catch(_o))}}),zf.apply(this,arguments)}function $f(i){const e=$e(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=wd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ff.bind(null,e),e.dc.nu=tm.bind(null,e.eventManager),e.dc.Pc=_y.bind(null,e.eventManager),e}function Ch(i){const e=$e(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=om.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cd.bind(null,e),e}class Td{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,c.Z)(function*(){t.serializer=ph(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kp(this.persistence,new lh,e.initialUser,this.serializer)}createPersistence(e){return new sh(Rp.zs,this.serializer)}createSharedClientState(e){return new Cf}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gf extends Td{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Ch(o.Vc.syncEngine),yield hc(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kp(this.persistence,new lh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Jm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new ju(t,this.persistence);return new Ua(e.asyncQueue,o)}createPersistence(e){const t=Op(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?fa.withCacheSize(this.cacheSizeBytes):fa.DEFAULT;return new lg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Up(),fh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Cf}}class Og extends Gf{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof wf&&(o.sharedClientState.syncEngine={jr:xy.bind(null,a),zr:Iy.bind(null,a),Wr:cm.bind(null,a),$i:lm.bind(null,a),Qr:Cy.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var d=(0,c.Z)(function*(m){yield function am(i,e){return bh.apply(this,arguments)}(o.Vc.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Up();if(!wf.D(t))throw new Ct(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Op(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Pu{initialize(e,t){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Zc(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=Sg.bind(null,o.syncEngine),yield Of(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gy}createDatastore(e){const t=ph(e.databaseInfo.databaseId),o=new ay(e.databaseInfo);return new zv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,d=R=>Zc(this.syncEngine,R,0),m=xf.D()?new xf:new Bp,new dy(t,o,a,d,m);var t,o,a,d,m}createSyncEngine(e,t){return function(o,a,d,m,R,G,J){const ye=new Gv(o,a,d,m,R,G);return J&&(ye.vc=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,c.Z)(function*(t){const o=$e(t);y("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield hd(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dm(i,e=10240){let t=0;return{read:()=>(0,c.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):w("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kg{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new An,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,c.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const d=yield e.$c(a);return new yy(JSON.parse(d),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,c.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,c.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,c.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Ty{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,c.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ct(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,c.Z)(function*(d,m){const R=$e(d),G=Fc(R.serializer)+"/documents",J={documents:m.map(cn=>xl(R.serializer,cn))},ye=yield R.vo("BatchGetDocuments",G,J,m.length),Ze=new Map;ye.forEach(cn=>{const Pn=function Vv(i,e){return"found"in e?function(t,o){Me(!!o.found);const a=ka(t,o.found.name),d=Ki(o.found.updateTime),m=o.found.createTime?Ki(o.found.createTime):ri.min(),R=new ns({mapValue:{fields:o.found.fields}});return io.newFoundDocument(a,d,m,R)}(i,e):"missing"in e?function(t,o){Me(!!o.missing),Me(!!o.readTime);const a=ka(t,o.missing),d=Ki(o.readTime);return io.newNoDocument(a,d)}(i,e):se()}(R.serializer,cn);Ze.set(Pn.key.toString(),Pn)});const Kt=[];return m.forEach(cn=>{const Pn=Ze.get(cn.toString());Me(!!Pn),Kt.push(Pn)}),Kt}),function(d,m){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Go(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const d=en.fromPath(a);e.mutations.push(new wl(d,e.precondition(d)))}),yield(o=(0,c.Z)(function*(a,d){const m=$e(a),R=Fc(m.serializer)+"/documents",G={writes:d.map(J=>Eu(m.serializer,J))};yield m.Io("Commit",R,G)}),function(a,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw se();t=ri.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ct(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ri.min())?ho.exists(!1):ho.updateTime(t):ho.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ri.min()))throw new Ct(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ho.updateTime(t)}return ho.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ng{constructor(e,t,o,a,d){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=d,this.Bc=o.maxAttempts,this.qo=new Vp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,c.Z)(function*(){const t=new Ty(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.Uc(d)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!to(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Jh(t)}return!1}}class Fg{constructor(e,t,o,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=Bn.UNAUTHENTICATED,this.clientId=Or.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,c.Z)(function*(R){y("FirestoreClient","Received user=",R.uid),yield d.authCredentialListener(R),d.user=R});return function(R){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(y("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=vd(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Dd(i,e){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),y("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var a=(0,c.Z)(function*(d){o.isEqual(d)||(yield cg(e.localStore,d),o=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Ih.apply(this,arguments)}function Wf(i,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Zf(i);y("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(a=>_d(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,d)=>_d(e.remoteStore,d)),i._onlineComponents=e}),Kf.apply(this,arguments)}function hm(i){return"FirebaseError"===i.name?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Zf(i){return qf.apply(this,arguments)}function qf(){return qf=(0,c.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){y("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dd(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!hm(t))throw t;L("Error using user provided cache. Falling back to memory cache: "+t),yield Dd(i,new Td)}}else y("FirestoreClient","Using default OfflineComponentProvider"),yield Dd(i,new Td);return i._offlineComponents}),qf.apply(this,arguments)}function Th(i){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,c.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(y("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wf(i,i._uninitializedComponentsProvider._online)):(y("FirestoreClient","Using default OnlineComponentProvider"),yield Wf(i,new Pu))),i._onlineComponents}),Yf.apply(this,arguments)}function fm(i){return Zf(i).then(e=>e.persistence)}function Ou(i){return Zf(i).then(e=>e.localStore)}function fc(i){return Th(i).then(e=>e.remoteStore)}function pm(i){return Th(i).then(e=>e.syncEngine)}function eu(i){return pc.apply(this,arguments)}function pc(){return pc=(0,c.Z)(function*(i){const e=yield Th(i),t=e.eventManager;return t.onListen=Ig.bind(null,e.syncEngine),t.onUnlisten=Ey.bind(null,e.syncEngine),t}),pc.apply(this,arguments)}function Sy(i,e,t={}){const o=new An;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(a,d,m,R,G){const J=new xh({next:Ze=>{d.enqueueAndForget(()=>em(a,ye));const Kt=Ze.docs.has(m);!Kt&&Ze.fromCache?G.reject(new Ct(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):Kt&&Ze.fromCache&&R&&"server"===R.source?G.reject(new Ct(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(Ze)},error:Ze=>G.reject(Ze)}),ye=new nm(Ac(m.path),J,{includeMetadataChanges:!0,Ku:!0});return Xp(a,ye)}(yield eu(i),i.asyncQueue,e,t,o)})),o.promise}function Bg(i,e,t={}){const o=new An;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(a,d,m,R,G){const J=new xh({next:Ze=>{d.enqueueAndForget(()=>em(a,ye)),Ze.fromCache&&"server"===R.source?G.reject(new Ct(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(Ze)},error:Ze=>G.reject(Ze)}),ye=new nm(m,J,{includeMetadataChanges:!0,Ku:!0});return Xp(a,ye)}(yield eu(i),i.asyncQueue,e,t,o)})),o.promise}function _m(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Vg=new Map;function ym(i,e,t){if(!t)throw new Ct(ke.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function vm(i,e,t,o){if(!0===e&&!0===o)throw new Ct(ke.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Hg(i){if(!en.isDocumentKey(i))throw new Ct(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function bm(i){if(en.isDocumentKey(i))throw new Ct(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Dh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":se()}function ur(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ct(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dh(i);throw new Ct(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function jg(i,e){if(e<=0)throw new Ct(ke.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class zg{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_m(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Ct(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ct(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ct(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $i;switch(t.type){case"firstParty":return new Yi(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ct(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vg.get(e);t&&(y("ComponentProvider","Removing Datastore"),Vg.delete(e),t.terminate())}(this),Promise.resolve()}}function $g(i,e,t,o={}){var a;const d=(i=ur(i,Sd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&L("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let m,R;if("string"==typeof o.mockUserToken)m=o.mockUserToken,R=Bn.MOCK_USER;else{m=(0,O.Sg)(o.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const G=o.mockUserToken.sub||o.mockUserToken.user_id;if(!G)throw new Ct(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Bn(G)}i._authCredentials=new bi(new Vi(m,R))}}class Wo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wo(this.firestore,e,this._key)}}class pa{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class ll extends pa{constructor(e,t,o){super(e,t,Ac(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wo(this.firestore,null,new en(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function Em(i,e,...t){if(i=(0,O.m9)(i),ym("collection","path",e),i instanceof Sd){const o=Ei.fromString(e,...t);return bm(o),new ll(i,null,o)}{if(!(i instanceof Wo||i instanceof ll))throw new Ct(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ei.fromString(e,...t));return bm(o),new ll(i.firestore,null,o)}}function Yl(i,e){if(i=ur(i,Sd),ym("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ct(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pa(i,null,(t=e,new yl(Ei.emptyPath(),t)));var t}function Gg(i,e,...t){if(i=(0,O.m9)(i),1===arguments.length&&(e=Or.A()),ym("doc","path",e),i instanceof Sd){const o=Ei.fromString(e,...t);return Hg(o),new Wo(i,null,new en(o))}{if(!(i instanceof Wo||i instanceof ll))throw new Ct(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ei.fromString(e,...t));return Hg(o),new Wo(i.firestore,i instanceof ll?i.converter:null,new en(o))}}function Wg(i,e){return i=(0,O.m9)(i),e=(0,O.m9)(e),(i instanceof Wo||i instanceof ll)&&(e instanceof Wo||e instanceof ll)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function cl(i,e){return i=(0,O.m9)(i),e=(0,O.m9)(e),i instanceof pa&&e instanceof pa&&i.firestore===e.firestore&&bl(i._query,e._query)&&i.converter===e.converter}class Sl{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vp(this,"async_queue_retry"),this.Xc=()=>{const t=fh();t&&y("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=fh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new An;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,c.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ba(t))throw t;y("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,w("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Au.createAndSchedule(this,e,t,o,d=>this.na(d));return this.zc.push(a),a}Zc(){this.Wc&&se()}verifyOperationInProgress(){}sa(){var e=this;return(0,c.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function $a(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(i)}class Kg{constructor(){this._progressObserver={},this._taskCompletionResolver=new An,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Zg=-1;class To extends Sd{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new Sl,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qf(this),this._firestoreClient.terminate()}}function cs(i){return i._firestoreClient||Qf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Qf(i){var e,t,o;const a=i._freezeSettings(),d=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new $u(i._databaseId,R,i._persistenceKey,(J=a).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,_m(J.experimentalLongPollingOptions),J.useFetchStreams));var R,J;i._firestoreClient=new Fg(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Sh(i,e){xm(i=ur(i,To));const t=cs(i);if(t._uninitializedComponentsProvider)throw new Ct(ke.FAILED_PRECONDITION,"SDK cache is already specified.");L("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),a=new Pu;return wm(t,a,new Gf(a,o.cacheSizeBytes,e?.forceOwnership))}function Ry(i){xm(i=ur(i,To));const e=cs(i);if(e._uninitializedComponentsProvider)throw new Ct(ke.FAILED_PRECONDITION,"SDK cache is already specified.");L("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),o=new Pu;return wm(e,o,new Og(o,t.cacheSizeBytes))}function wm(i,e,t){const o=new An;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield Dd(i,t),yield Wf(i,e),o.resolve()}catch(a){const d=a;if(!hm(d))throw d;L("Error enabling indexeddb cache. Falling back to memory cache: "+d),o.reject(d)}})).then(()=>o.promise)}function Py(i){if(i._initialized&&!i._terminated)throw new Ct(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new An;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(t=(0,c.Z)(function*(o){if(!Qi.D())return Promise.resolve();const a=o+"main";yield Qi.delete(a)}),function(o){return t.apply(this,arguments)})(Op(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Oy(i){return function(e){const t=new An;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function xd(i,e){return Qc.apply(this,arguments)}(yield pm(e),t)})),t.promise}(cs(i=ur(i,To)))}function qg(i){return function mm(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield fm(i),t=yield fc(i);return e.setNetworkEnabled(!0),function(o){const a=$e(o);return a.vu.delete(0),mh(a)}(t)}))}(cs(i=ur(i,To)))}function Yg(i){return function Dy(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield fm(i),t=yield fc(i);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(a){const d=$e(a);d.vu.add(0),yield hd(d),d.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(cs(i=ur(i,To)))}function ky(i,e){const t=cs(i=ur(i,To)),o=new Kg;return function Ug(i,e,t,o){const a=function(d,m){let R;return R="string"==typeof d?kc().encode(d):d,G=function(G,J){if(G instanceof Uint8Array)return dm(G,J);if(G instanceof ArrayBuffer)return dm(new Uint8Array(G),J);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new kg(G,m);var G}(t,ph(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function Pg(i,e,t){const o=$e(i);var a;(a=(0,c.Z)(function*(d,m,R){try{const G=yield m.getMetadata();if(yield function(Kt,cn){const Pn=$e(Kt),ni=Ki(cn.createTime);return Pn.persistence.runTransaction("hasNewerBundle","readonly",si=>Pn.qs.getBundleMetadata(si,cn.id)).then(si=>!!si&&si.createTime.compareTo(ni)>=0)}(d.localStore,G))return yield m.close(),R._completeWith({taskState:"Success",documentsLoaded:(Kt=G).totalDocuments,bytesLoaded:Kt.totalBytes,totalDocuments:Kt.totalDocuments,totalBytes:Kt.totalBytes}),Promise.resolve(new Set);R._updateProgress(Eg(G));const J=new vy(G,d.localStore,m.serializer);let ye=yield m.bc();for(;ye;){const Kt=yield J.zu(ye);Kt&&R._updateProgress(Kt),ye=yield m.bc()}const Ze=yield J.complete();return yield ql(d,Ze.Ju,void 0),yield function(Kt,cn){const Pn=$e(Kt);return Pn.persistence.runTransaction("Save bundle","readwrite",ni=>Pn.qs.saveBundleMetadata(ni,cn))}(d.localStore,G),R._completeWith(Ze.progress),Promise.resolve(Ze.Hu)}catch(G){return L("SyncEngine",`Loading bundle failed with ${G}`),R._failWith(G),Promise.resolve(new Set)}var Kt}),function(d,m,R){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield pm(i),a,o)}))}(t,i._databaseId,e,o),o}function Qg(i,e){return function Ay(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(t,o){const a=$e(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.qs.getNamedQuery(d,o))}(yield Ou(i),e)}))}(cs(i=ur(i,To)),e).then(t=>t?new pa(i,null,t.query):null)}function xm(i){if(i._initialized||i._terminated)throw new Ct(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mc($o.fromBase64String(e))}catch(t){throw new Ct(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mc($o.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ct(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tu{constructor(e){this._methodName=e}}class Mh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}const Xg=/^__.*__$/;class Jg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class Im{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new ja(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function e_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Jf{constructor(e,t,o,a,d,m){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===d&&this.ua(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ph(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(e_(this.ca)&&Xg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fy{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||ph(e)}ya(e,t,o,a=!1){return new Jf({ca:e,methodName:t,ga:o,path:Ri.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nu(i){const e=i._freezeSettings(),t=ph(i._databaseId);return new Fy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ep(i,e,t,o,a,d={}){const m=i.ya(d.merge||d.mergeFields?2:0,e,t,a);Mm("Data must be an object, but it was:",m,o);const R=i_(o,m);let G,J;if(d.merge)G=new ws(m.fieldMask),J=m.fieldTransforms;else if(d.mergeFields){const ye=[];for(const Ze of d.mergeFields){const Kt=Md(e,Ze,t);if(!m.contains(Kt))throw new Ct(ke.INVALID_ARGUMENT,`Field '${Kt}' is specified in your field mask but missing from your input data.`);Am(ye,Kt)||ye.push(Kt)}G=new ws(ye),J=m.fieldTransforms.filter(Ze=>G.covers(Ze.field))}else G=null,J=m.fieldTransforms;return new Jg(new ns(R),G,J)}class Ah extends tu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ah}}function t_(i,e,t){return new Jf({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tm extends tu{_toFieldTransform(e){return new mu(e.path,new Oc)}isEqual(e){return e instanceof Tm}}class Ly extends tu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=t_(this,e,!0),o=this.pa.map(d=>Fu(d,t)),a=new Oa(o);return new mu(e.path,a)}isEqual(e){return this===e}}class By extends tu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=t_(this,e,!0),o=this.pa.map(d=>Fu(d,t)),a=new Va(o);return new mu(e.path,a)}isEqual(e){return this===e}}class Uy extends tu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ha(e.serializer,Pc(e.serializer,this.Ia));return new mu(e.path,t)}isEqual(e){return this===e}}function Dm(i,e,t,o){const a=i.ya(1,e,t);Mm("Data must be an object, but it was:",a,o);const d=[],m=ns.empty();Fs(o,(G,J)=>{const ye=Rh(e,G,t);J=(0,O.m9)(J);const Ze=a.da(ye);if(J instanceof Ah)d.push(ye);else{const Kt=Fu(J,Ze);null!=Kt&&(d.push(ye),m.set(ye,Kt))}});const R=new ws(d);return new Im(m,R,a.fieldTransforms)}function Sm(i,e,t,o,a,d){const m=i.ya(1,e,t),R=[Md(e,o,t)],G=[a];if(d.length%2!=0)throw new Ct(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Kt=0;Kt<d.length;Kt+=2)R.push(Md(e,d[Kt])),G.push(d[Kt+1]);const J=[],ye=ns.empty();for(let Kt=R.length-1;Kt>=0;--Kt)if(!Am(J,R[Kt])){const cn=R[Kt];let Pn=G[Kt];Pn=(0,O.m9)(Pn);const ni=m.da(cn);if(Pn instanceof Ah)J.push(cn);else{const si=Fu(Pn,ni);null!=si&&(J.push(cn),ye.set(cn,si))}}const Ze=new ws(J);return new Im(ye,Ze,m.fieldTransforms)}function n_(i,e,t,o=!1){return Fu(t,i.ya(o?4:3,e))}function Fu(i,e){if(r_(i=(0,O.m9)(i)))return Mm("Unsupported field value:",e,i),i_(i,e);if(i instanceof tu)return function(t,o){if(!e_(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let d=0;for(const m of t){let R=Fu(m,o.wa(d));null==R&&(R={nullValue:"NULL_VALUE"}),a.push(R),d++}return{arrayValue:{values:a}}}(i,e)}return function(t,o){if(null===(t=(0,O.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pc(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=cr.fromDate(t);return{timestampValue:Cs(o.serializer,a)}}if(t instanceof cr){const a=new cr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cs(o.serializer,a)}}if(t instanceof Mh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mc)return{bytesValue:ac(o.serializer,t._byteString)};if(t instanceof Wo){const a=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw o._a(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vu(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Dh(t)}`)}(i,e)}function i_(i,e){const t={};return zu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(i,(o,a)=>{const d=Fu(a,e.ha(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function r_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof cr||i instanceof Mh||i instanceof mc||i instanceof Wo||i instanceof tu)}function Mm(i,e,t){if(!r_(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Dh(t);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Md(i,e,t){if((e=(0,O.m9)(e))instanceof gc)return e._internalPath;if("string"==typeof e)return Rh(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,t)}const o_=new RegExp("[~\\*/\\[\\]]");function Rh(i,e,t){if(e.search(o_)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gc(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ph(i,e,t,o,a){const d=o&&!o.isEmpty(),m=void 0!==a;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let G="";return(d||m)&&(G+=" (found",d&&(G+=` in field ${o}`),m&&(G+=` in document ${a}`),G+=")"),new Ct(ke.INVALID_ARGUMENT,R+i+G)}function Am(i,e){return i.some(t=>t.isEqual(e))}class Ad{constructor(e,t,o,a,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Wo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new s_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Oh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class s_ extends Ad{data(){return super.data()}}function Oh(i,e){return"string"==typeof e?Rh(i,e):e instanceof gc?e._internalPath:e._delegate._internalPath}function Rm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ct(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kh{}class Rd extends kh{}function Lu(i,e,...t){let o=[];e instanceof kh&&o.push(e),o=o.concat(t),function(a){const d=a.filter(R=>R instanceof Ml).length,m=a.filter(R=>R instanceof Nh).length;if(d>1||d>0&&m>0)throw new Ct(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)i=a._apply(i);return i}class Nh extends Rd{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Nh(e,t,o)}_apply(e){const t=this._parse(e);return Pm(e._query,t),new pa(e.firestore,e.converter,rc(e._query,t))}_parse(e){const t=Nu(e.firestore);return function(a,d,m,R,G,J,ye){let Ze;if(G.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new Ct(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){$y(ye,J);const Kt=[];for(const cn of ye)Kt.push(Ko(R,a,cn));Ze={arrayValue:{values:Kt}}}else Ze=Ko(R,a,ye)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||$y(ye,J),Ze=n_(m,"where",ye,"in"===J||"not-in"===J);return We.create(G,J,Ze)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vy(i,e,t){const o=e,a=Oh("where",i);return Nh._create(a,o,t)}class Ml extends kh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ml(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:pt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let d=o;const m=a.getFlattenedFilters();for(const R of m)Pm(d,R),d=rc(d,R)}(e._query,t),new pa(e.firestore,e.converter,rc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class l_ extends Rd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new l_(e,t)}_apply(e){const t=function(o,a,d){if(null!==o.startAt)throw new Ct(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ct(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new B(a,d);return function(R,G){if(null===Vd(R)){const J=Hd(R);null!==J&&Om(0,J,G.field)}}(o,m),m}(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,function(o,a){const d=o.explicitOrderBy.concat([a]);return new yl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function c_(i,e="asc"){const t=e,o=Oh("orderBy",i);return l_._create(o,t)}class Fh extends Rd{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Fh(e,t,o)}_apply(e){return new pa(e.firestore,e.converter,du(e._query,this._limit,this._limitType))}}function qv(i){return jg("limit",i),Fh._create("limit",i,"F")}function Oi(i){return jg("limitToLast",i),Fh._create("limitToLast",i,"L")}class tp extends Rd{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new tp(e,t,o)}_apply(e){const t=Lh(e,this.type,this._docOrFields,this._inclusive);return new pa(e.firestore,e.converter,(a=t,new yl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}function Hy(...i){return tp._create("startAt",i,!0)}function jy(...i){return tp._create("startAfter",i,!1)}class _c extends Rd{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new _c(e,t,o)}_apply(e){const t=Lh(e,this.type,this._docOrFields,this._inclusive);return new pa(e.firestore,e.converter,(a=t,new yl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function zy(...i){return _c._create("endBefore",i,!1)}function np(...i){return _c._create("endAt",i,!0)}function Lh(i,e,t,o){if(t[0]=(0,O.m9)(t[0]),t[0]instanceof Ad)return function(a,d,m,R,G){if(!R)throw new Ct(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const J=[];for(const ye of ic(a))if(ye.field.isKeyField())J.push(ml(d,R.key));else{const Ze=R.data.field(ye.field);if(wc(Ze))throw new Ct(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const Kt=ye.field.canonicalString();throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Kt}' (used as the orderBy) does not exist.`)}J.push(Ze)}return new Ja(J,G)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const a=Nu(i.firestore);return function(d,m,R,G,J,ye){const Ze=d.explicitOrderBy;if(J.length>Ze.length)throw new Ct(ke.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Kt=[];for(let cn=0;cn<J.length;cn++){const Pn=J[cn];if(Ze[cn].field.isKeyField()){if("string"!=typeof Pn)throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Pn}`);if(!vl(d)&&-1!==Pn.indexOf("/"))throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Pn}' contains a slash.`);const ni=d.path.child(Ei.fromString(Pn));if(!en.isDocumentKey(ni))throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${ni}' is not because it contains an odd number of segments.`);const si=new en(ni);Kt.push(ml(m,si))}else{const ni=n_(R,G,Pn);Kt.push(ni)}}return new Ja(Kt,ye)}(i._query,i.firestore._databaseId,a,e,t,o)}}function Ko(i,e,t){if("string"==typeof(t=(0,O.m9)(t))){if(""===t)throw new Ct(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vl(e)&&-1!==t.indexOf("/"))throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Ei.fromString(t));if(!en.isDocumentKey(o))throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ml(i,new en(o))}if(t instanceof Wo)return ml(i,t._key);throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(t)}.`)}function $y(i,e){if(!Array.isArray(i)||0===i.length)throw new Ct(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pm(i,e){if(e.isInequality()){const o=Hd(i),a=e.field;if(null!==o&&!o.isEqual(a))throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const d=Vd(i);null!==d&&Om(0,a,d)}const t=function(o,a){for(const d of o)for(const m of d.getFlattenedFilters())if(a.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ct(ke.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Om(i,e,t){if(!t.isEqual(e))throw new Ct(ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ip{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return no(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Fs(e,(a,d)=>{o[a]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Mh(no(e.latitude),no(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Cc(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=Ya(e);return new cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Ei.fromString(e);Me(Uc(o));const a=new Ra(o.get(1),o.get(3)),d=new en(o.popFirst(5));return a.isEqual(t)||w(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Bh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class d_ extends ip{constructor(e){super(),this.firestore=e}convertBytes(e){return new mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wo(this.firestore,null,t)}}class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uu extends Ad{constructor(e,t,o,a,d,m){super(e,t,o,a,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Oh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Uh extends Uu{data(e={}){return super.data(e)}}class Ql{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Bu(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Uh(this._firestore,this._userDataWriter,o.key,o,new Bu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new Uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>a||3!==m.type).map(m=>{const R=new Uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,J=-1;return 0!==m.type&&(G=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),J=d.indexOf(m.doc.key)),{type:h_(m.type),doc:R,oldIndex:G,newIndex:J}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}function f_(i,e){return i instanceof Uu&&e instanceof Uu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Ql&&e instanceof Ql&&i._firestore===e._firestore&&cl(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function p_(i){i=ur(i,Wo);const e=ur(i.firestore,To);return Sy(cs(e),i._key).then(t=>v_(e,i,t))}class nu extends ip{constructor(e){super(),this.firestore=e}convertBytes(e){return new mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wo(this.firestore,null,t)}}function Vh(i){i=ur(i,Wo);const e=ur(i.firestore,To),t=cs(e),o=new nu(e);return function gm(i,e){const t=new An;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(a,d,m){try{const R=yield function(G,J){const ye=$e(G);return ye.persistence.runTransaction("read document","readonly",Ze=>ye.localDocuments.getDocument(Ze,J))}(a,d);R.isFoundDocument()?m.resolve(R):R.isNoDocument()?m.resolve(null):m.reject(new Ct(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const G=vd(R,`Failed to get document '${d} from cache`);m.reject(G)}}),function(a,d,m){return o.apply(this,arguments)})(yield Ou(i),e,t);var o})),t.promise}(t,i._key).then(a=>new Uu(e,o,i._key,a,new Bu(null!==a&&a.hasLocalMutations,!0),i.converter))}function Hh(i){i=ur(i,Wo);const e=ur(i.firestore,To);return Sy(cs(e),i._key,{source:"server"}).then(t=>v_(e,i,t))}function Ky(i){i=ur(i,pa);const e=ur(i.firestore,To),t=cs(e),o=new nu(e);return Rm(i._query),Bg(t,i._query).then(a=>new Ql(e,o,i,a))}function Zy(i){i=ur(i,pa);const e=ur(i.firestore,To),t=cs(e),o=new nu(e);return function Wv(i,e){const t=new An;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(a,d,m){try{const R=yield Lp(a,d,!0),G=new im(d,R.ir),J=G.sc(R.documents),ye=G.applyChanges(J,!1);m.resolve(ye.snapshot)}catch(R){const G=vd(R,`Failed to execute query '${d} against cache`);m.reject(G)}}),function(a,d,m){return o.apply(this,arguments)})(yield Ou(i),e,t);var o})),t.promise}(t,i._query).then(a=>new Ql(e,o,i,a))}function qy(i){i=ur(i,pa);const e=ur(i.firestore,To),t=cs(e),o=new nu(e);return Bg(t,i._query,{source:"server"}).then(a=>new Ql(e,o,i,a))}function m_(i,e,t){i=ur(i,Wo);const o=ur(i.firestore,To),a=Bh(i.converter,e,t);return Pd(o,[ep(Nu(o),"setDoc",i._key,a,null!==i.converter,t).toMutation(i._key,ho.none())])}function g_(i,e,t,...o){i=ur(i,Wo);const a=ur(i.firestore,To),d=Nu(a);let m;return m="string"==typeof(e=(0,O.m9)(e))||e instanceof gc?Sm(d,"updateDoc",i._key,e,t,o):Dm(d,"updateDoc",i._key,e),Pd(a,[m.toMutation(i._key,ho.exists(!0))])}function __(i){return Pd(ur(i.firestore,To),[new Go(i._key,ho.none())])}function Yy(i,e){const t=ur(i.firestore,To),o=Gg(i),a=Bh(i.converter,e);return Pd(t,[ep(Nu(i.firestore),"addDoc",o._key,a,null!==i.converter,{}).toMutation(o._key,ho.exists(!1))]).then(()=>o)}function y_(i,...e){var t,o,a;i=(0,O.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||$a(e[m])||(d=e[m],m++);const R={includeMetadataChanges:d.includeMetadataChanges};if($a(e[m])){const Ze=e[m];e[m]=null===(t=Ze.next)||void 0===t?void 0:t.bind(Ze),e[m+1]=null===(o=Ze.error)||void 0===o?void 0:o.bind(Ze),e[m+2]=null===(a=Ze.complete)||void 0===a?void 0:a.bind(Ze)}let G,J,ye;if(i instanceof Wo)J=ur(i.firestore,To),ye=Ac(i._key.path),G={next:Ze=>{e[m]&&e[m](v_(J,i,Ze))},error:e[m+1],complete:e[m+2]};else{const Ze=ur(i,pa);J=ur(Ze.firestore,To),ye=Ze._query;const Kt=new nu(J);G={next:cn=>{e[m]&&e[m](new Ql(J,Kt,Ze,cn))},error:e[m+1],complete:e[m+2]},Rm(i._query)}return function(Ze,Kt,cn,Pn){const ni=new xh(Pn),si=new nm(Kt,ni,cn);return Ze.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Xp(yield eu(Ze),si)})),()=>{ni.Dc(),Ze.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return em(yield eu(Ze),si)}))}}(cs(J),ye,R,G)}function Qy(i,e){return function My(i,e){const t=new xh(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield eu(i),a=t,$e(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield eu(i),a=t,void $e(o).ku.delete(a);var o,a}))}}(cs(i=ur(i,To)),$a(e)?e:{next:e})}function Pd(i,e){return function(t,o){const a=new An;return t.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function wy(i,e,t){return al.apply(this,arguments)}(yield pm(t),o,a)})),a.promise}(cs(i),e)}function v_(i,e,t){const o=t.docs.get(e._key),a=new nu(i);return new Uu(i,a,e._key,o,new Bu(t.hasPendingWrites,t.fromCache),e.converter)}const iv={maxAttempts:5};class km{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nu(e)}set(e,t,o){this._verifyNotCommitted();const a=iu(e,this._firestore),d=Bh(a.converter,t,o),m=ep(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,o);return this._mutations.push(m.toMutation(a._key,ho.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const d=iu(e,this._firestore);let m;return m="string"==typeof(t=(0,O.m9)(t))||t instanceof gc?Sm(this._dataReader,"WriteBatch.update",d._key,t,o,a):Dm(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(m.toMutation(d._key,ho.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=iu(e,this._firestore);return this._mutations=this._mutations.concat(new Go(t._key,ho.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iu(i,e){if((i=(0,O.m9)(i)).firestore!==e)throw new Ct(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class rv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nu(e)}get(e){const t=iu(e,this._firestore),o=new d_(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return se();const d=a[0];if(d.isFoundDocument())return new Ad(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new Ad(this._firestore,o,t._key,null,t.converter);throw se()})}set(e,t,o){const a=iu(e,this._firestore),d=Bh(a.converter,t,o),m=ep(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,o);return this._transaction.set(a._key,m),this}update(e,t,o,...a){const d=iu(e,this._firestore);let m;return m="string"==typeof(t=(0,O.m9)(t))||t instanceof gc?Sm(this._dataReader,"Transaction.update",d._key,t,o,a):Dm(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,m),this}delete(e){const t=iu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=iu(e,this._firestore),o=new nu(this._firestore);return super.get(e).then(a=>new Uu(this._firestore,o,t._key,a._document,new Bu(!1,!1),t.converter))}}function jh(i,e,t){i=ur(i,To);const o=Object.assign(Object.assign({},iv),t);return function(a){if(a.maxAttempts<1)throw new Ct(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,d,m){const R=new An;return a.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const G=yield function Lg(i){return Th(i).then(e=>e.datastore)}(a);new Ng(a.asyncQueue,G,m,d,R).run()})),R.promise}(cs(i),a=>e(new rv(i,a)),o)}function ov(){return new Ah("deleteField")}function E_(){return new Tm("serverTimestamp")}function sv(...i){return new Ly("arrayUnion",i)}function w_(...i){return new By("arrayRemove",i)}function av(i){return new Uy("increment",i)}!function(i,e=!0){pr=A.SDK_VERSION,(0,A._registerComponent)(new g.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const d=t.getProvider("app").getImmediate(),m=new To(new Ai(t.getProvider("auth-internal")),new vo(t.getProvider("app-check-internal")),function(R,G){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new Ct(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(R.options.projectId,G)}(d,o),d);return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),(0,A.registerVersion)(fn,"3.12.1",i),(0,A.registerVersion)(fn,"3.12.1","esm2017")}()},2090:(_n,Ye,D)=>{D.d(Ye,{$s:()=>nt,BH:()=>pe,G6:()=>Pt,L:()=>Ie,LL:()=>an,Pz:()=>ge,Sg:()=>Ke,UG:()=>qe,US:()=>Te,ZB:()=>re,ZR:()=>jt,aH:()=>Se,b$:()=>bn,eu:()=>kt,hl:()=>wt,jU:()=>un,m9:()=>gi,ne:()=>di,pd:()=>Ii,r3:()=>yt,ru:()=>St,tV:()=>ie,uI:()=>Rt,vZ:()=>bt,w1:()=>ui,xO:()=>hi,xb:()=>xe,z$:()=>_t,zI:()=>gt,zd:()=>Qn});const fe=function(Le){const Ne=[];let He=0;for(let $t=0;$t<Le.length;$t++){let Et=Le.charCodeAt($t);Et<128?Ne[He++]=Et:Et<2048?(Ne[He++]=Et>>6|192,Ne[He++]=63&Et|128):55296==(64512&Et)&&$t+1<Le.length&&56320==(64512&Le.charCodeAt($t+1))?(Et=65536+((1023&Et)<<10)+(1023&Le.charCodeAt(++$t)),Ne[He++]=Et>>18|240,Ne[He++]=Et>>12&63|128,Ne[He++]=Et>>6&63|128,Ne[He++]=63&Et|128):(Ne[He++]=Et>>12|224,Ne[He++]=Et>>6&63|128,Ne[He++]=63&Et|128)}return Ne},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Le,Ne){if(!Array.isArray(Le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const He=Ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,$t=[];for(let Et=0;Et<Le.length;Et+=3){const ln=Le[Et],Qe=Et+1<Le.length,Q=Qe?Le[Et+1]:0,V=Et+2<Le.length,k=V?Le[Et+2]:0;let st=(15&Q)<<2|k>>6,tn=63&k;V||(tn=64,Qe||(st=64)),$t.push(He[ln>>2],He[(3&ln)<<4|Q>>4],He[st],He[tn])}return $t.join("")},encodeString(Le,Ne){return this.HAS_NATIVE_SUPPORT&&!Ne?btoa(Le):this.encodeByteArray(fe(Le),Ne)},decodeString(Le,Ne){return this.HAS_NATIVE_SUPPORT&&!Ne?atob(Le):function(Le){const Ne=[];let He=0,$t=0;for(;He<Le.length;){const Et=Le[He++];if(Et<128)Ne[$t++]=String.fromCharCode(Et);else if(Et>191&&Et<224){const ln=Le[He++];Ne[$t++]=String.fromCharCode((31&Et)<<6|63&ln)}else if(Et>239&&Et<365){const V=((7&Et)<<18|(63&Le[He++])<<12|(63&Le[He++])<<6|63&Le[He++])-65536;Ne[$t++]=String.fromCharCode(55296+(V>>10)),Ne[$t++]=String.fromCharCode(56320+(1023&V))}else{const ln=Le[He++],Qe=Le[He++];Ne[$t++]=String.fromCharCode((15&Et)<<12|(63&ln)<<6|63&Qe)}}return Ne.join("")}(this.decodeStringToByteArray(Le,Ne))},decodeStringToByteArray(Le,Ne){this.init_();const He=Ne?this.charToByteMapWebSafe_:this.charToByteMap_,$t=[];for(let Et=0;Et<Le.length;){const ln=He[Le.charAt(Et++)],Q=Et<Le.length?He[Le.charAt(Et)]:0;++Et;const k=Et<Le.length?He[Le.charAt(Et)]:64;++Et;const be=Et<Le.length?He[Le.charAt(Et)]:64;if(++Et,null==ln||null==Q||null==k||null==be)throw new Oe;$t.push(ln<<2|Q>>4),64!==k&&($t.push(Q<<4&240|k>>2),64!==be&&$t.push(k<<6&192|be))}return $t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Le=0;Le<this.ENCODED_VALS.length;Le++)this.byteToCharMap_[Le]=this.ENCODED_VALS.charAt(Le),this.charToByteMap_[this.byteToCharMap_[Le]]=Le,this.byteToCharMapWebSafe_[Le]=this.ENCODED_VALS_WEBSAFE.charAt(Le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Le]]=Le,Le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Le)]=Le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Le)]=Le)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(Le){return function(Le){const Ne=fe(Le);return Te.encodeByteArray(Ne,!0)}(Le).replace(/\./g,"")},ie=function(Le){try{return Te.decodeString(Le,!0)}catch(Ne){console.error("base64Decode failed: ",Ne)}return null};function re(Le,Ne){if(!(Ne instanceof Object))return Ne;switch(Ne.constructor){case Date:return new Date(Ne.getTime());case Object:void 0===Le&&(Le={});break;case Array:Le=[];break;default:return Ne}for(const He in Ne)!Ne.hasOwnProperty(He)||!Ae(He)||(Le[He]=re(Le[He],Ne[He]));return Le}function Ae(Le){return"__proto__"!==Le}const tt=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Le=process.env.__FIREBASE_DEFAULTS__;return Le?JSON.parse(Le):void 0})()||(()=>{if(typeof document>"u")return;let Le;try{Le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ne=Le&&ie(Le[1]);return Ne&&JSON.parse(Ne)})()}catch(Le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Le}`)}},Se=()=>{var Le;return null===(Le=tt())||void 0===Le?void 0:Le.config},ge=Le=>{var Ne;return null===(Ne=tt())||void 0===Ne?void 0:Ne[`_${Le}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ne,He)=>{this.resolve=Ne,this.reject=He})}wrapCallback(Ne){return(He,$t)=>{He?this.reject(He):this.resolve($t),"function"==typeof Ne&&(this.promise.catch(()=>{}),1===Ne.length?Ne(He):Ne(He,$t))}}}function Ke(Le,Ne){if(Le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $t=Ne||"demo-project",Et=Le.iat||0,ln=Le.sub||Le.user_id;if(!ln)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${$t}`,aud:$t,iat:Et,exp:Et+3600,auth_time:Et,sub:ln,user_id:ln,firebase:{sign_in_provider:"custom",identities:{}}},Le);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(Qe)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function qe(){var Le;const Ne=null===(Le=tt())||void 0===Le?void 0:Le.forceEnvironment;if("node"===Ne)return!0;if("browser"===Ne)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function un(){return"object"==typeof self&&self.self===self}function St(){const Le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Le&&void 0!==Le.id}function bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ui(){const Le=_t();return Le.indexOf("MSIE ")>=0||Le.indexOf("Trident/")>=0}function Pt(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wt(){try{return"object"==typeof indexedDB}catch{return!1}}function kt(){return new Promise((Le,Ne)=>{try{let He=!0;const $t="validate-browser-context-for-indexeddb-analytics-module",Et=self.indexedDB.open($t);Et.onsuccess=()=>{Et.result.close(),He||self.indexedDB.deleteDatabase($t),Le(!0)},Et.onupgradeneeded=()=>{He=!1},Et.onerror=()=>{var ln;Ne((null===(ln=Et.error)||void 0===ln?void 0:ln.message)||"")}}catch(He){Ne(He)}})}function gt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class jt extends Error{constructor(Ne,He,$t){super(He),this.code=Ne,this.customData=$t,this.name="FirebaseError",Object.setPrototypeOf(this,jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}}class an{constructor(Ne,He,$t){this.service=Ne,this.serviceName=He,this.errors=$t}create(Ne,...He){const $t=He[0]||{},Et=`${this.service}/${Ne}`,ln=this.errors[Ne],Qe=ln?function Vt(Le,Ne){return Le.replace(Je,(He,$t)=>{const Et=Ne[$t];return null!=Et?String(Et):`<${$t}?>`})}(ln,$t):"Error";return new jt(Et,`${this.serviceName}: ${Qe} (${Et}).`,$t)}}const Je=/\{\$([^}]+)}/g;function yt(Le,Ne){return Object.prototype.hasOwnProperty.call(Le,Ne)}function xe(Le){for(const Ne in Le)if(Object.prototype.hasOwnProperty.call(Le,Ne))return!1;return!0}function bt(Le,Ne){if(Le===Ne)return!0;const He=Object.keys(Le),$t=Object.keys(Ne);for(const Et of He){if(!$t.includes(Et))return!1;const ln=Le[Et],Qe=Ne[Et];if(rn(ln)&&rn(Qe)){if(!bt(ln,Qe))return!1}else if(ln!==Qe)return!1}for(const Et of $t)if(!He.includes(Et))return!1;return!0}function rn(Le){return null!==Le&&"object"==typeof Le}function hi(Le){const Ne=[];for(const[He,$t]of Object.entries(Le))Array.isArray($t)?$t.forEach(Et=>{Ne.push(encodeURIComponent(He)+"="+encodeURIComponent(Et))}):Ne.push(encodeURIComponent(He)+"="+encodeURIComponent($t));return Ne.length?"&"+Ne.join("&"):""}function Qn(Le){const Ne={};return Le.replace(/^\?/,"").split("&").forEach($t=>{if($t){const[Et,ln]=$t.split("=");Ne[decodeURIComponent(Et)]=decodeURIComponent(ln)}}),Ne}function Ii(Le){const Ne=Le.indexOf("?");if(!Ne)return"";const He=Le.indexOf("#",Ne);return Le.substring(Ne,He>0?He:void 0)}function di(Le,Ne){const He=new Dn(Le,Ne);return He.subscribe.bind(He)}class Dn{constructor(Ne,He){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=He,this.task.then(()=>{Ne(this)}).catch($t=>{this.error($t)})}next(Ne){this.forEachObserver(He=>{He.next(Ne)})}error(Ne){this.forEachObserver(He=>{He.error(Ne)}),this.close(Ne)}complete(){this.forEachObserver(Ne=>{Ne.complete()}),this.close()}subscribe(Ne,He,$t){let Et;if(void 0===Ne&&void 0===He&&void 0===$t)throw new Error("Missing Observer.");Et=function Fi(Le,Ne){if("object"!=typeof Le||null===Le)return!1;for(const He of Ne)if(He in Le&&"function"==typeof Le[He])return!0;return!1}(Ne,["next","error","complete"])?Ne:{next:Ne,error:He,complete:$t},void 0===Et.next&&(Et.next=Dt),void 0===Et.error&&(Et.error=Dt),void 0===Et.complete&&(Et.complete=Dt);const ln=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Et.error(this.finalError):Et.complete()}catch{}}),this.observers.push(Et),ln}unsubscribeOne(Ne){void 0===this.observers||void 0===this.observers[Ne]||(delete this.observers[Ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ne){if(!this.finalized)for(let He=0;He<this.observers.length;He++)this.sendOne(He,Ne)}sendOne(Ne,He){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ne])try{He(this.observers[Ne])}catch($t){typeof console<"u"&&console.error&&console.error($t)}})}close(Ne){this.finalized||(this.finalized=!0,void 0!==Ne&&(this.finalError=Ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dt(){}const Lt=1e3,Ee=2,z=144e5,ce=.5;function nt(Le,Ne=Lt,He=Ee){const $t=Ne*Math.pow(He,Le),Et=Math.round(ce*$t*(Math.random()-.5)*2);return Math.min(z,$t+Et)}function gi(Le){return Le&&Le._delegate?Le._delegate:Le}},384:(_n,Ye,D)=>{D.d(Ye,{e:()=>ue});var c=D(4004),A=D(4650),g=D(1205),fe=D(7977),O=D(8445),Te=D(439),Oe=D(9616);let ue=(()=>{class Ie{constructor(ae,re,Ae,Ve,Ge){this.fireAuth=ae,this.store=re,this.storageService=Ae,this.blogService=Ve,this.commentService=Ge,this.userUrl="users",this.user=ae.user}login(ae,re){return this.fireAuth.signInWithEmailAndPassword(ae,re)}getUserById(ae){return this.store.collection(this.userUrl).doc(ae).get().pipe((0,c.U)(re=>re.data()))}register(ae,re,Ae,Ve){return this.fireAuth.createUserWithEmailAndPassword(ae,re).then(Ge=>{Ge.user?.updateProfile({displayName:Ae,photoURL:Ve}).then(rt=>{if(Ge.user){const Fe={uid:Ge.user.uid,email:Ge.user.email,fullName:Ge.user.displayName,photoUrl:Ge.user.photoURL};this.store.collection(this.userUrl).doc(Fe.uid).set(Fe).catch(tt=>alert(tt))}}).catch(rt=>alert(rt))})}logout(){return this.fireAuth.signOut()}updatePhotoUrl(ae){return new Promise((re,Ae)=>{this.user.subscribe(Ve=>{Ve?Ve.updateProfile({photoURL:ae}).then(()=>{this.store.collection(this.userUrl).doc(Ve.uid).update({photoUrl:ae}).then(()=>re()).catch(Ge=>Ae(Ge))}).catch(Ge=>Ae(Ge)):Ae("User is not available")})})}updateEmail(ae,re,Ae){return new Promise((Ve,Ge)=>{this.login(ae,Ae).then(rt=>{rt.user?rt.user.updateEmail(re).then(Fe=>{this.store.collection(this.userUrl).doc(rt.user?.uid).update({email:re}).then(tt=>Ve())}):Ge("update Email, credential user")}).catch(rt=>Ge(rt))})}updateFullName(ae){return new Promise((re,Ae)=>{this.user.subscribe(Ve=>{Ve?Ve.updateProfile({displayName:ae}).then(Ge=>{this.store.collection(this.userUrl).doc(Ve.uid).update({fullName:ae}).then(rt=>re(ae)).catch(rt=>Ae(rt))}).catch(Ge=>Ae(Ge)):Ae("User is not available")})})}deleteUser(ae,re){return new Promise((Ae,Ve)=>{this.login(ae,re).then(Ge=>{Ge.user?Ge.user.delete().then(rt=>this.store.collection(this.userUrl).doc(Ge.user.uid).delete().then(Fe=>this.blogService.deleteUserBlogs(Ge.user.uid).then(tt=>this.commentService.deleteUserComments(Ge.user.uid).then(Re=>{"https://selfmadewebdesigner.com/wp-content/uploads/2019/09/self-made-web-designer-upwork-profile.jpg"!=Ge.user?.photoURL?this.blogService.removeImg(Ge.user?.photoURL).then(lt=>Ae()).catch(lt=>Ve(lt)):Ae()}).catch(Re=>Ve(Re))).catch(tt=>Ve(tt))).catch(Fe=>Ve(Fe))).catch(rt=>Ve(rt)):Ve("no credential user on delete")}).catch(Ge=>Ve(Ge))})}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(A.LFG(g.zQ),A.LFG(fe.ST),A.LFG(O.Q1),A.LFG(Te.Z),A.LFG(Oe.r))},Ie.\u0275prov=A.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},5637:(_n,Ye,D)=>{D.d(Ye,{b:()=>g});var c=D(1135),A=D(4650);let g=(()=>{class fe{constructor(){this.isLoading=new c.X(!1)}getLoadingStatus(){return this.isLoading}setLoadingStatus(Te){this.isLoading.next(Te)}}return fe.\u0275fac=function(Te){return new(Te||fe)},fe.\u0275prov=A.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},439:(_n,Ye,D)=>{D.d(Ye,{Z:()=>ue});var c=D(5861),A=D(4004),g=D(4128),fe=D(4650),O=D(7977),Te=D(8445),Oe=D(9616);let ue=(()=>{class Ie{constructor(ae,re,Ae){this.store=ae,this.storage=re,this.commentsService=Ae,this.postsPath="blogs"}add(ae,re){var Ae=this;return(0,c.Z)(function*(){try{return ae.imgUrl=yield Ae.addImg(re,`${Ae.postsPath}/${ae.id}`),void Ae.store.collection(Ae.postsPath).doc(ae.id).set(ae).catch(Ve=>console.log(Ve))}catch(Ve){throw Ve}})()}getId(){return this.store.createId()}delete(ae){return new Promise((re,Ae)=>{this.get(ae).subscribe(Ve=>{this.store.collection(this.postsPath).doc(ae).delete().then(Ge=>{Promise.all([this.commentsService.deleteBlogComments(ae),this.removeImg(Ve.imgUrl)]).then(rt=>{re()}).catch(rt=>Ae(rt))}).catch(Ge=>Ae(Ge))},Ve=>Ae(Ve))})}getAll(){return this.store.collection(this.postsPath).valueChanges()}getByCategory(ae){return this.getAll().pipe((0,A.U)(re=>re.filter(Ae=>Ae.category.toLowerCase()===ae)))}get(ae){return this.store.collection(this.postsPath).doc(ae).get().pipe((0,A.U)(re=>{if(re.exists)return re.data();throw new Error("Document not found")}))}addImg(ae,re){return new Promise((Ae,Ve)=>{this.storage.upload(re,ae).then(Ge=>{this.storage.ref(re).getDownloadURL().subscribe(rt=>Ae(rt))}).catch(Ge=>Ve(Ge))})}removeImg(ae){return new Promise((re,Ae)=>{this.storage.refFromURL(ae).delete().subscribe(Ve=>{re()},Ve=>Ae(Ve))})}deleteUserBlogs(ae){return new Promise((re,Ae)=>{this.store.collection(this.postsPath,Ve=>Ve.where("author","==",ae)).valueChanges().subscribe(Ve=>{if(0==Ve.length)return void re();const Ge=Ve.map(rt=>this.delete(rt.id));(0,g.D)(Ge).subscribe(()=>{re()},rt=>{Ae(rt)})},Ve=>{Ae(Ve)})})}getUserBlogs(ae){return this.getAll().pipe((0,A.U)(re=>re.filter(Ae=>Ae.author==ae)))}}return Ie.\u0275fac=function(ae){return new(ae||Ie)(fe.LFG(O.ST),fe.LFG(Te.Q1),fe.LFG(Oe.r))},Ie.\u0275prov=fe.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},1171:(_n,Ye,D)=>{D.r(Ye),D.d(Ye,{BlogsModule:()=>En});var c=D(6895),A=D(1779),g=D(9751),fe=D(1378),O=D(4650),Te=D(439),Oe=D(7763);function ue(Bt,mn){if(1&Bt){const Ue=O.EpF();O.TgZ(0,"div",2),O.NdJ("click",function(){const Ht=O.CHM(Ue).$implicit,xe=O.oxw();return O.KtG(xe.toBlogPage(Ht.id))}),O._UZ(1,"app-post-short",3),O.qZA()}if(2&Bt){const Ue=mn.$implicit;O.xp6(1),O.Q6J("blog",Ue)}}let Ie=(()=>{class Bt{constructor(Ue,Zt,yt){this.blogsService=Ue,this.route=Zt,this.router=yt,this.blogs=new g.y}toBlogPage(Ue){this.router.navigate(["blog",Ue]).then()}ngOnInit(){this.router.navigate(["/blogs",fe.a[0]]).catch(Ue=>console.log(Ue)),this.route.paramMap.subscribe(Ue=>{const Zt=Ue.get("category");this.blogs=Zt?this.blogsService.getByCategory(Zt):this.blogsService.getAll()})}}return Bt.\u0275fac=function(Ue){return new(Ue||Bt)(O.Y36(Te.Z),O.Y36(A.gz),O.Y36(A.F0))},Bt.\u0275cmp=O.Xpm({type:Bt,selectors:[["app-home"]],decls:3,vars:3,consts:[[1,"blogs"],["class","blog",3,"click",4,"ngFor","ngForOf"],[1,"blog",3,"click"],[3,"blog"]],template:function(Ue,Zt){1&Ue&&(O.TgZ(0,"div",0),O.YNc(1,ue,2,1,"div",1),O.ALo(2,"async"),O.qZA()),2&Ue&&(O.xp6(1),O.Q6J("ngForOf",O.lcZ(2,1,Zt.blogs)))},dependencies:[c.sg,Oe.t,c.Ov],styles:[".blog[_ngcontent-%COMP%]:first-child{border-top:none}.blog[_ngcontent-%COMP%]{border-top:2px solid #f1f1f1;position:relative;left:-50px;width:870px;box-sizing:border-box}.blogs[_ngcontent-%COMP%]{margin-top:20px;width:960px}"]}),Bt})();var ie=D(384),ae=D(9616),re=D(4006),Ae=D(4144),Ve=D(9549),Ge=D(9101),rt=D(1552),Fe=D(3336);const tt=["editTextArea"];function Re(Bt,mn){if(1&Bt){const Ue=O.EpF();O.TgZ(0,"div",15)(1,"button",16)(2,"mat-icon"),O._uU(3,"more_vert"),O.qZA()(),O.TgZ(4,"mat-menu",null,17)(6,"button",18),O.NdJ("click",function(){O.CHM(Ue);const yt=O.oxw();return O.KtG(yt.edit())}),O.TgZ(7,"mat-icon"),O._uU(8,"edit"),O.qZA(),O.TgZ(9,"span"),O._uU(10,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),O.qZA()(),O.TgZ(11,"button",18),O.NdJ("click",function(){O.CHM(Ue);const yt=O.oxw();return O.KtG(yt.delete())}),O.TgZ(12,"mat-icon"),O._uU(13,"delete"),O.qZA(),O.TgZ(14,"span"),O._uU(15,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),O.qZA()()()()}if(2&Bt){const Ue=O.MAs(5);O.xp6(1),O.Q6J("matMenuTriggerFor",Ue)}}const lt=function(Bt){return["/profile",Bt]},Se=function(Bt){return{hide:Bt}};let ge=(()=>{class Bt{ngOnChanges(Ue){Ue.comment&&(this.editText=this.comment.text)}constructor(Ue,Zt){this.authService=Ue,this.commentService=Zt,this.isEdit=!1}formatDate(Ue){return new Intl.DateTimeFormat("en-us",{month:"numeric",day:"numeric",year:"2-digit",hour:"numeric",minute:"numeric",hour12:!1,timeZone:"Europe/Kiev"}).format(Ue).replace(",","")}ngOnInit(){this.user=this.authService.getUserById(this.comment.uid),this.authUser=this.authService.user}edit(){this.isEdit=!0,setTimeout(Ue=>this.editRef.nativeElement.click(),10)}delete(){this.commentService.deleteComment(this.comment.id).catch(Ue=>console.log(Ue))}adjustTextareaTitleHeight(Ue,Zt){if(Ue){const yt=Ue;yt.scrollHeight>Zt&&(yt.style.height="0px",yt.style.height=yt.scrollHeight+"px")}else console.log("textarea is null")}save(){this.comment.text=this.editText,this.commentService.updateComment(this.comment.id,this.comment.text).then(Ue=>this.isEdit=!1).catch(Ue=>console.log(Ue))}cancel(){this.editText=this.comment.text,this.isEdit=!1}}return Bt.\u0275fac=function(Ue){return new(Ue||Bt)(O.Y36(ie.e),O.Y36(ae.r))},Bt.\u0275cmp=O.Xpm({type:Bt,selectors:[["app-comment"]],viewQuery:function(Ue,Zt){if(1&Ue&&O.Gf(tt,5),2&Ue){let yt;O.iGM(yt=O.CRH())&&(Zt.editRef=yt.first)}},inputs:{comment:"comment"},features:[O.TTD],decls:26,vars:25,consts:[[1,"comment"],[1,"header"],[1,"header_left"],[1,"user_img"],["alt","",3,"src"],[1,"title"],[1,"user_name","roboto-regular",3,"routerLink"],[1,"date","roboto-light"],["class","menu",4,"ngIf"],[1,"main","roboto-regular"],[1,"edit"],["id","editTextArea",1,"main_edit","roboto-regular",3,"ngModel","ngModelChange","input","click"],["editTextArea",""],[1,"cancel_button","button",3,"click"],[1,"submit_button","button",3,"click"],[1,"menu"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu",""],["mat-menu-item","",3,"click"]],template:function(Ue,Zt){if(1&Ue&&(O.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),O._UZ(4,"img",4),O.ALo(5,"async"),O.qZA(),O.TgZ(6,"div",5)(7,"a",6),O.ALo(8,"async"),O._uU(9),O.ALo(10,"async"),O.qZA(),O.TgZ(11,"div",7),O._uU(12),O.qZA()()(),O.YNc(13,Re,16,1,"div",8),O.ALo(14,"async"),O.qZA(),O.TgZ(15,"div",9)(16,"span"),O._uU(17),O.qZA(),O.TgZ(18,"div",10)(19,"textarea",11,12),O.NdJ("ngModelChange",function(Ht){return Zt.editText=Ht})("input",function(Ht){return Zt.adjustTextareaTitleHeight(Ht.target,20)})("click",function(Ht){return Zt.adjustTextareaTitleHeight(Ht.target,20)}),O._uU(21,"          "),O.qZA(),O.TgZ(22,"button",13),O.NdJ("click",function(){return Zt.cancel()}),O._uU(23," \u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438 "),O.qZA(),O.TgZ(24,"button",14),O.NdJ("click",function(){return Zt.save()}),O._uU(25," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 "),O.qZA()()()()),2&Ue){let yt,Ht,xe,ct;O.xp6(4),O.Q6J("src",null==(yt=O.lcZ(5,11,Zt.user))?null:yt.photoUrl,O.LSH),O.xp6(3),O.Q6J("routerLink",O.VKq(19,lt,null==(Ht=O.lcZ(8,13,Zt.user))?null:Ht.uid)),O.xp6(2),O.hij(" ",null==(xe=O.lcZ(10,15,Zt.user))?null:xe.fullName," "),O.xp6(3),O.hij(" ",Zt.formatDate(Zt.comment.date.toDate())," "),O.xp6(1),O.Q6J("ngIf",Zt.comment.uid==(null==(ct=O.lcZ(14,17,Zt.authUser))?null:ct.uid)),O.xp6(3),O.Tol(O.VKq(21,Se,Zt.isEdit)),O.xp6(1),O.Oqu(Zt.comment.text),O.xp6(1),O.Tol(O.VKq(23,Se,!Zt.isEdit)),O.xp6(1),O.Q6J("ngModel",Zt.editText)}},dependencies:[c.O5,re.Fj,re.JJ,re.On,Ge.RK,rt.VK,rt.OP,rt.p6,Fe.Hw,A.rH,c.Ov],styles:[".comment[_ngcontent-%COMP%]{padding:5px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.header_left[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center}.user_img[_ngcontent-%COMP%]{margin-right:20px;height:60px;width:60px;border-radius:50px;overflow:hidden}.user_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.main[_ngcontent-%COMP%]{margin-top:10px;font-weight:400}.user_name[_ngcontent-%COMP%]{font-size:16px;color:#000;font-weight:500;text-decoration:none}.user_name[_ngcontent-%COMP%]:hover{border-bottom:2px solid #00A562}.main_edit[_ngcontent-%COMP%]{outline:none;resize:none;overflow:hidden;width:100%;font-weight:400;border:1px solid #777777!important;padding:5px;border-radius:5px;box-sizing:border-box}.hide[_ngcontent-%COMP%]{display:none}.cancel_button[_ngcontent-%COMP%]{margin-right:8px;border:1px solid #f44336!important;color:#f44336}.cancel_button[_ngcontent-%COMP%]:hover{background-color:#f44336;color:#fff}.submit_button[_ngcontent-%COMP%]{border:1px solid #00A562!important;color:#fff;background-color:#00a562!important}.submit_button[_ngcontent-%COMP%]:hover{background-color:#007d4b!important}.button[_ngcontent-%COMP%]{margin-top:5px;font-size:14px;position:relative;padding:7.5px 25px;border-radius:10px;border:none;cursor:pointer;background-color:#fff}"]}),Bt})();function pe(Bt,mn){if(1&Bt){const Ue=O.EpF();O.TgZ(0,"div",8)(1,"button",9),O.NdJ("click",function(){O.CHM(Ue);const yt=O.oxw();return O.KtG(yt.cancel())}),O._uU(2," \u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438 "),O.qZA(),O.TgZ(3,"button",10),O.NdJ("click",function(){O.CHM(Ue);const yt=O.oxw();return O.KtG(yt.submit())}),O._uU(4," \u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438 "),O.qZA()()}}function Ke(Bt,mn){if(1&Bt&&(O.TgZ(0,"div",11),O._UZ(1,"app-comment",12),O.qZA()),2&Bt){const Ue=mn.$implicit;O.xp6(1),O.Q6J("comment",Ue)}}const _t=function(Bt){return{expanded:Bt}};let Rt=(()=>{class Bt{constructor(Ue,Zt,yt){this.commentsService=Ue,this.authService=Zt,this.router=yt,this.isExpanded=!1,this.commentText=""}cancel(){this.commentText="",this.isExpanded=!1}submit(){this.user?this.commentsService.add({uid:this.user.uid,bid:this.bid,text:this.commentText}):this.router.navigate(["/login"]).catch(Ue=>console.log(Ue)),this.commentText="",this.isExpanded=!1}ngOnChanges(Ue){const Zt=Ue.bid;Zt&&this.commentsService.getByBlog(Zt.currentValue).subscribe(yt=>{this.count=yt.length,this.comments=yt})}ngOnInit(){this.authService.user.subscribe(Ue=>this.user=Ue)}}return Bt.\u0275fac=function(Ue){return new(Ue||Bt)(O.Y36(ae.r),O.Y36(ie.e),O.Y36(A.F0))},Bt.\u0275cmp=O.Xpm({type:Bt,selectors:[["app-comments-segment"]],inputs:{bid:"bid"},features:[O.TTD],decls:10,vars:7,consts:[[1,"shell"],[1,"title"],[1,"post_comment"],[1,"post_comment_area"],["matInput","","placeholder","\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u044c...",3,"ngModel","ngClass","ngModelChange","focus"],["class","expanded_container",4,"ngIf"],[1,"comments_container"],["class","comment",4,"ngFor","ngForOf"],[1,"expanded_container"],[1,"cancel_button","button",3,"click"],[1,"submit_button","button",3,"click"],[1,"comment"],[3,"comment"]],template:function(Ue,Zt){1&Ue&&(O.TgZ(0,"div",0)(1,"div",1),O._uU(2),O.qZA(),O.TgZ(3,"div",2)(4,"mat-form-field",3)(5,"textarea",4),O.NdJ("ngModelChange",function(Ht){return Zt.commentText=Ht})("focus",function(){return Zt.isExpanded=!0}),O._uU(6,"          "),O.qZA()(),O.YNc(7,pe,5,0,"div",5),O.qZA(),O.TgZ(8,"div",6),O.YNc(9,Ke,2,1,"div",7),O.qZA()()),2&Ue&&(O.xp6(2),O.hij(" ",Zt.count," \u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456\u0432 "),O.xp6(3),O.Q6J("ngModel",Zt.commentText)("ngClass",O.VKq(5,_t,Zt.isExpanded)),O.xp6(2),O.Q6J("ngIf",Zt.isExpanded),O.xp6(2),O.Q6J("ngForOf",Zt.comments))},dependencies:[c.mk,c.sg,c.O5,re.Fj,re.JJ,re.On,Ae.Nt,Ve.KE,ge],styles:[".comment[_ngcontent-%COMP%]:first-child{padding-top:0}.comment[_ngcontent-%COMP%]{padding:20px 0;border-top:1px solid #d4d2d2}.comment[_ngcontent-%COMP%]:first-child{border-top:none}.title[_ngcontent-%COMP%]{padding-bottom:10px;margin-bottom:20px;border-bottom:2px solid #c4c4c4;font-size:20px;font-weight:700}.post_comment[_ngcontent-%COMP%]{margin-bottom:20px}.post_comment_area[_ngcontent-%COMP%]{width:100%;font-size:16px}.expanded_container[_ngcontent-%COMP%]{display:flex;justify-content:right;position:relative}.cancel_button[_ngcontent-%COMP%]{margin-right:8px;border:1px solid #f44336!important;color:#f44336}.cancel_button[_ngcontent-%COMP%]:hover{background-color:#f44336;color:#fff}.submit_button[_ngcontent-%COMP%]{border:1px solid #00A562!important;color:#00a562}.submit_button[_ngcontent-%COMP%]:hover{background-color:#00a562;color:#fff}.button[_ngcontent-%COMP%]{font-size:14px;position:relative;bottom:10px;padding:7.5px 25px;border-radius:10px;border:none;cursor:pointer;background-color:#fff}"]}),Bt})();const qe=function(Bt){return["/profile",Bt]};function un(Bt,mn){if(1&Bt&&(O.TgZ(0,"div",1)(1,"p",2),O._uU(2),O.ALo(3,"titlecase"),O.qZA(),O.TgZ(4,"p",3),O._uU(5),O.qZA(),O.TgZ(6,"div",4)(7,"a",5),O._uU(8),O.qZA(),O.TgZ(9,"p",6),O._uU(10,"/"),O.qZA(),O.TgZ(11,"p",7),O._uU(12),O.qZA()(),O.TgZ(13,"div",8),O._UZ(14,"img",9),O.qZA(),O.TgZ(15,"div",10),O._UZ(16,"p",11),O.qZA(),O.TgZ(17,"div",12),O._UZ(18,"app-comments-segment",13),O.qZA()()),2&Bt){const Ue=O.oxw();O.xp6(2),O.Oqu(O.lcZ(3,8,Ue.blog.category)),O.xp6(3),O.Oqu(Ue.blog.title),O.xp6(2),O.Q6J("routerLink",O.VKq(10,qe,Ue.user.uid)),O.xp6(1),O.Oqu(Ue.user.fullName),O.xp6(4),O.Oqu(Ue.getFormatDate(Ue.blog.date.toDate())),O.xp6(2),O.s9C("src",Ue.blog.imgUrl,O.LSH),O.xp6(2),O.Q6J("innerHTML",Ue.blog.text,O.oJD),O.xp6(2),O.Q6J("bid",Ue.blog.id)}}let St=(()=>{class Bt{constructor(Ue,Zt,yt,Ht){this.router=Ue,this.route=Zt,this.blogService=yt,this.authService=Ht,this.isLoad=!1}getFormatDate(Ue){if(Ue)return Ue.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+" "+Ue.toLocaleString("en",{month:"short",day:"numeric",year:"numeric"})}ngOnInit(){this.route.paramMap.subscribe(Ue=>{const Zt=Ue.get("id");Zt?this.blogService.get(Zt).subscribe(yt=>{this.blog=yt,this.authService.getUserById(this.blog.author).subscribe(Ht=>{this.user=Ht,this.isLoad=!0})}):this.router.navigate(["/error"]).catch(yt=>console.log(yt))})}}return Bt.\u0275fac=function(Ue){return new(Ue||Bt)(O.Y36(A.F0),O.Y36(A.gz),O.Y36(Te.Z),O.Y36(ie.e))},Bt.\u0275cmp=O.Xpm({type:Bt,selectors:[["app-post-detail"]],decls:1,vars:1,consts:[["class","blog_full_container",4,"ngIf"],[1,"blog_full_container"],[1,"blog_full_category"],[1,"blog_full_title","roboto-black"],[1,"blog_full_add"],[1,"blog_full_author","roboto-regular",3,"routerLink"],[1,"blog_full_separate"],[1,"blog_full_date","roboto-light"],[1,"blog_full_image"],["alt","",3,"src"],[1,"blog_full_body"],[1,"blog_full_text",3,"innerHTML"],[1,"comments"],[3,"bid"]],template:function(Ue,Zt){1&Ue&&O.YNc(0,un,19,12,"div",0),2&Ue&&O.Q6J("ngIf",Zt.isLoad)},dependencies:[Rt,c.O5,A.rH,c.rS],styles:[".blog_full_container[_ngcontent-%COMP%]{width:900px;padding:15px 0;position:relative;left:-50px}.blog_full_title[_ngcontent-%COMP%]{font-size:42px}.blog_full_category[_ngcontent-%COMP%]{color:#16d721;margin-bottom:0;position:relative;left:-2px}.blog_full_image[_ngcontent-%COMP%]{margin-bottom:50px;height:600px}.blog_full_add[_ngcontent-%COMP%]{margin:25px 0 15px;display:flex}.blog_full_author[_ngcontent-%COMP%]{font-size:17px;cursor:pointer;text-decoration:none}.blog_full_author[_ngcontent-%COMP%]:hover{border-bottom:2px solid #00A562}.blog_full_separate[_ngcontent-%COMP%]{margin:0 12px;color:#20a464;position:relative;top:1.5px}img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.blog_full_text[_ngcontent-%COMP%]{margin:20px 0;font-size:18px;line-height:1.5;letter-spacing:normal;transform:scaleY(1.03);word-break:break-word}.blog_full_body[_ngcontent-%COMP%]{margin-bottom:50px}.blog_full_date[_ngcontent-%COMP%]{position:relative;top:1.5px}"]}),Bt})();var bn=D(8179),yn=D(5637);const ui=["change"],Ft=function(Bt){return{hide:Bt}};function Tt(Bt,mn){if(1&Bt&&(O.TgZ(0,"option",26),O._uU(1),O.ALo(2,"titlecase"),O.qZA()),2&Bt){const Ue=mn.$implicit;O.Tol(O.VKq(6,Ft,0==mn.index)),O.Q6J("value",Ue),O.xp6(1),O.hij(" ",O.lcZ(2,4,Ue)," ")}}const Pt=function(Bt){return{field_error:Bt}},wt=function(Bt,mn){return{imgHigh:Bt,field_error:mn}},kt=function(Bt){return{opacity:Bt}},gt=function(Bt,mn){return{hide:Bt,field_error:mn}};function vt(Bt,mn){if(1&Bt){const Ue=O.EpF();O.TgZ(0,"div",1)(1,"form",2),O.NdJ("submit",function(yt){return yt.preventDefault()}),O.TgZ(2,"p",3)(3,"select",4,5),O.NdJ("change",function(yt){O.CHM(Ue);const Ht=O.oxw();return O.KtG(Ht.onCategoryChange(yt.target))}),O.TgZ(5,"option",6),O._uU(6),O.ALo(7,"titlecase"),O.qZA(),O.YNc(8,Tt,3,8,"option",7),O.qZA()(),O.TgZ(9,"textarea",8),O.NdJ("input",function(yt){O.CHM(Ue);const Ht=O.oxw();return O.KtG(Ht.adjustTextareaTitleHeight(yt.target,48))}),O._uU(10,"    "),O.qZA(),O.TgZ(11,"div",9)(12,"p",10),O._uU(13),O.qZA(),O.TgZ(14,"p",11),O._uU(15,"/"),O.qZA(),O.TgZ(16,"p",12),O._uU(17),O.qZA()(),O.TgZ(18,"div",13)(19,"div",14)(20,"img",15),O.NdJ("click",function(yt){O.CHM(Ue);const Ht=O.oxw();return O.KtG(Ht.onImgClick(yt.target))}),O.qZA()(),O.TgZ(21,"input",16,17),O.NdJ("change",function(yt){O.CHM(Ue);const Ht=O.oxw();return O.KtG(Ht.updateImg(yt))}),O.qZA()(),O.TgZ(23,"div",18)(24,"textarea",19,20),O.NdJ("blur",function(){O.CHM(Ue);const yt=O.oxw();return O.KtG(yt.isEditText=!1)})("click",function(yt){O.CHM(Ue);const Ht=O.oxw();return O.KtG(Ht.adjustTextareaHeight(yt.target,100,!0))})("input",function(yt){O.CHM(Ue);const Ht=O.oxw();return O.KtG(Ht.adjustTextareaHeight(yt.target,100))}),O._uU(26,"    "),O.qZA(),O.TgZ(27,"div",21),O.NdJ("click",function(){O.CHM(Ue);const yt=O.MAs(25);return O.oxw().isEditText=!0,O.KtG(yt.click())}),O.qZA()(),O.TgZ(28,"div",22)(29,"div",23)(30,"textarea",24),O._uU(31,"      "),O.qZA()(),O.TgZ(32,"button",25),O.NdJ("click",function(){O.CHM(Ue);const yt=O.oxw();return O.KtG(yt.createBlog())}),O._uU(33,"\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"),O.qZA()()()()}if(2&Bt){const Ue=O.oxw();O.xp6(1),O.Q6J("formGroup",Ue.blogForm),O.xp6(2),O.Tol(O.VKq(23,Pt,Ue.categoryControl.invalid)),O.xp6(2),O.Q6J("value",Ue.categories[0]),O.xp6(1),O.hij(" ",O.lcZ(7,21,Ue.categories[0])," "),O.xp6(2),O.Q6J("ngForOf",Ue.categories),O.xp6(1),O.Tol(O.VKq(25,Pt,Ue.titleControl.invalid&&Ue.isTrySubmit)),O.xp6(4),O.Oqu(Ue.user.displayName),O.xp6(4),O.Oqu(Ue.formattedDate()),O.xp6(2),O.Tol(O.WLB(27,wt,Ue.isFirstClickImg,Ue.imgControl.invalid)),O.Q6J("ngStyle",O.VKq(30,kt,Ue.isUploadImg?1:.5)),O.xp6(1),O.Q6J("src",Ue.blog.imgUrl,O.LSH),O.xp6(4),O.Tol(O.WLB(32,gt,!Ue.isEditText,Ue.textControl.invalid&&Ue.isTrySubmit)),O.xp6(3),O.Tol(O.WLB(35,gt,Ue.isEditText,Ue.textControl.invalid&&Ue.isTrySubmit)),O.Q6J("innerHTML",Ue.textControl.value,O.oJD),O.xp6(3),O.Tol(O.VKq(38,Pt,Ue.descriptionControl.invalid&&Ue.isTrySubmit))}}const an=[{path:"blog-add",component:(()=>{class Bt{constructor(Ue,Zt,yt,Ht,xe){this.authService=Ue,this.blogService=Zt,this.formBuilder=yt,this.router=Ht,this.loadingService=xe,this.defaultImgUrl="https://echamicrobiology.com/app/uploads/2018/10/1280px-Insert_image_here-.svg_.png",this.isInitial=!1,this.isEditText=!0,this.isFirstClickImg=!1,this.isUploadImg=!1,this.isTrySubmit=!1,this.isCategoryTouched=!1,this.isSend=!1,this.imgControl=new re.NI(""),this.categoryControl=new re.NI(""),this.titleControl=new re.NI("",[re.kI.required,re.kI.minLength(12)]),this.textControl=new re.NI("",[re.kI.required,re.kI.minLength(50)]),this.descriptionControl=new re.NI("",[re.kI.required,re.kI.minLength(12)]),this.blogForm=this.formBuilder.group({category:this.categoryControl,title:this.titleControl,text:this.textControl,description:this.descriptionControl,img:this.imgControl}),this.categories=fe.a,Ue.user.subscribe(ct=>{if(ct){const bt=Zt.getId();this.blog={id:bt,author:ct.uid,title:"",category:fe.a[0],date:bn.EK.fromDate(new Date),description:"",text:"",imgUrl:this.defaultImgUrl},this.isInitial=!0,this.user=ct,this.tempStoragePath=`temp/add-post/${bt}`,this.categoryControl.setValue(fe.a[0])}}),document.addEventListener("click",this.onDocumentClick.bind(this))}updateImg(Ue){const yt=Ue.target.files?.item(0);yt&&(this.loadingService.setLoadingStatus(!0),this.blogService.addImg(yt,this.tempStoragePath).then(Ht=>{this.blog.imgUrl=Ht,this.isUploadImg=!0,this.imgFile=yt,this.imgControl.hasError("img")&&this.imgControl.setErrors(null),this.loadingService.setLoadingStatus(!1)}).catch(Ht=>console.log(Ht)))}formattedDate(){const Ue=this.blog.date.toDate(),Zt=Ue.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),yt=Ue.toLocaleString("en",{month:"long",day:"numeric",year:"numeric"});return`${Zt} ${{January:"\u0421\u0456\u0447\u043d\u044f",February:"\u041b\u044e\u0442\u043e\u0433\u043e",March:"\u0411\u0435\u0440\u0435\u0437\u043d\u044f",April:"\u041a\u0432\u0456\u0442\u043d\u044f",May:"\u0422\u0440\u0430\u0432\u043d\u044f",June:"\u0427\u0435\u0440\u0432\u043d\u044f",July:"\u041b\u0438\u043f\u043d\u044f",August:"\u0421\u0435\u0440\u043f\u043d\u044f",September:"\u0412\u0435\u0440\u0435\u0441\u043d\u044f",October:"\u0416\u043e\u0432\u0442\u043d\u044f",November:"\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430",December:"\u0413\u0440\u0443\u0434\u043d\u044f"}[Ue.toLocaleString("en",{month:"long"})]} ${yt}`}adjustTextareaHeight(Ue,Zt,yt=!1){if(Ue){const Ht=Ue;Ht.scrollHeight>Zt&&(Ht.style.height="0px",Ht.style.height=Ht.scrollHeight<Zt?Zt+"px":Ht.scrollHeight+"px"),yt&&setTimeout(xe=>Ht.focus(),5)}else console.log("textarea in null")}adjustTextareaTitleHeight(Ue,Zt){if(Ue){const yt=Ue;yt.scrollHeight>Zt&&(yt.style.height="0px",yt.style.height=yt.scrollHeight+"px")}else console.log("textarea is null")}onImgClick(Ue){Ue?this.isFirstClickImg?(this.isFirstClickImg=!1,this.changeRef.nativeElement.click()):(this.isEditText=!1,this.isFirstClickImg=!0):console.log("img is null")}onDocumentClick(Ue){const Zt=Ue.target;Zt&&(Zt.matches("#blogImg")||this.isFirstClickImg&&(this.isFirstClickImg=!1))}createBlog(){this.isTrySubmit=!0,this.isCategoryTouched||this.categoryControl.setErrors({category:!0}),this.isUploadImg||this.imgControl.setErrors({img:!0}),!this.blogForm.invalid&&(this.blog.category=this.categoryControl.value,this.blog.title=this.titleControl.value,this.blog.text=this.textControl.value,this.blog.description=this.descriptionControl.value,this.blogService.removeImg(this.blog.imgUrl).then(Ue=>{this.blogService.add(this.blog,this.imgFile).then(Zt=>this.authService.user.subscribe(yt=>{yt&&(this.isSend=!0,this.router.navigate(["/profile",yt.uid]).catch(Ht=>console.log(Ht)))},yt=>console.log(yt))).catch(Zt=>console.log(Zt))}))}onCategoryChange(Ue){Ue.blur(),this.isCategoryTouched=!0,this.categoryControl.hasError("category")&&this.categoryControl.setErrors(null)}handleUnload(Ue){this.isSend||this.blogService.removeImg(this.blog.imgUrl).catch(Zt=>console.log(Zt))}ngOnDestroy(){this.isSend||this.blogService.removeImg(this.blog.imgUrl).catch(Ue=>console.log(Ue)),document.removeEventListener("click",this.onDocumentClick)}}return Bt.\u0275fac=function(Ue){return new(Ue||Bt)(O.Y36(ie.e),O.Y36(Te.Z),O.Y36(re.qu),O.Y36(A.F0),O.Y36(yn.b))},Bt.\u0275cmp=O.Xpm({type:Bt,selectors:[["app-post-add"]],viewQuery:function(Ue,Zt){if(1&Ue&&O.Gf(ui,5),2&Ue){let yt;O.iGM(yt=O.CRH())&&(Zt.changeRef=yt.first)}},hostBindings:function(Ue,Zt){1&Ue&&O.NdJ("beforeunload",function(Ht){return Zt.handleUnload(Ht)},!1,O.Jf7)},decls:1,vars:1,consts:[["class","blog_full_container",4,"ngIf"],[1,"blog_full_container"],[3,"formGroup","submit"],[1,"blog_full_category"],["formControlName","category",1,"category_select",3,"change"],["selectElement",""],["selected","",1,"category_option",3,"value"],["class","category_option",3,"value","class",4,"ngFor","ngForOf"],["placeholder","\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","formControlName","title",1,"roboto-black","title_input",3,"input"],[1,"blog_full_add"],[1,"blog_full_author","roboto-regular"],[1,"blog_full_separate"],[1,"blog_full_date","roboto-light"],[1,"blog_full_image"],["id","img",1,"img",3,"ngStyle"],["id","blogImg",3,"src","click"],["type","file","id","fileInput",2,"display","none",3,"change"],["change",""],[1,"blog_full_body"],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0432\u0430\u0448\u043e\u0433\u043e \u0431\u043b\u043e\u0433\u0443 \u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 html, \u043d\u0430\u0436\u043c\u0456\u0442\u044c enter \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442...","formControlName","text",1,"edit_textarea",3,"blur","click","input"],["textArea",""],[1,"formatted_text","text",3,"innerHTML","click"],[1,"submit_menu"],[1,"description_container"],["placeholder","\u041e\u043f\u0438\u0441 \u0432\u0430\u0448\u043e\u0433\u043e \u0431\u043b\u043e\u0433\u0443, \u0446\u044f \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0438\u0441\u044c \u043d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456...","formControlName","description",1,"description_text"],["type","submit",1,"submit_button",3,"click"],[1,"category_option",3,"value"]],template:function(Ue,Zt){1&Ue&&O.YNc(0,vt,34,40,"div",0),2&Ue&&O.Q6J("ngIf",Zt.isInitial)},dependencies:[c.sg,c.O5,c.PC,re._Y,re.YN,re.Kr,re.Fj,re.EJ,re.JJ,re.JL,re.sg,re.u,c.rS],styles:[".blog_full_container[_ngcontent-%COMP%]{width:900px;padding:15px 0;position:relative;left:-50px}.blog_full_title[_ngcontent-%COMP%]{height:41.2px}.blog_full_category[_ngcontent-%COMP%]{margin-bottom:0;position:relative;left:-2px}.blog_full_add[_ngcontent-%COMP%]{margin:15px 0;display:flex}.blog_full_author[_ngcontent-%COMP%]{font-size:17px}.blog_full_separate[_ngcontent-%COMP%]{margin:0 12px;color:#20a464;position:relative;top:1.5px}.post_short_image_container[_ngcontent-%COMP%], .post_short_container_description[_ngcontent-%COMP%]{position:relative;top:15px;max-height:300px}.img[_ngcontent-%COMP%]{height:600px;border-radius:5px}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;cursor:pointer}.blog_full_image[_ngcontent-%COMP%]{margin-bottom:50px}.blog_full_body[_ngcontent-%COMP%]{margin-bottom:20px}.blog_full_date[_ngcontent-%COMP%]{position:relative;top:1.5px}.hide[_ngcontent-%COMP%]{display:none}.category_select[_ngcontent-%COMP%]{display:inline;color:#16d721;font-size:16px;border:none;-webkit-appearance:none;appearance:none;outline:none;cursor:pointer;border-radius:3px}.title_input[_ngcontent-%COMP%]{width:100%;height:41.2px;font-size:42px;outline:none;border:none;overflow:hidden;resize:none;border-radius:5px}.text[_ngcontent-%COMP%]{font-size:32px;line-height:1.5;letter-spacing:normal;transform:scaleY(1.03)}.edit_textarea[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:14px;border:none;width:100%;min-height:100px;resize:none;overflow:hidden;outline:none;padding:10px;box-sizing:border-box;border-radius:5px}.formatted_text[_ngcontent-%COMP%]{font-size:18px;line-height:1.5;letter-spacing:normal;transform:scaleY(1.03);min-height:100px;word-wrap:break-word;border-radius:5px}.imgHigh[_ngcontent-%COMP%]{box-sizing:border-box;border:2px solid #777777}.submit_menu[_ngcontent-%COMP%]{position:fixed;right:50px;top:100px;width:250px;padding:10px;box-sizing:border-box;background-color:#f1f1f1;border:1px solid #c4c4c4;border-radius:5px;display:flex;flex-direction:column;justify-content:center;opacity:.5}.submit_menu[_ngcontent-%COMP%]:hover{opacity:1}.description_text[_ngcontent-%COMP%]{box-sizing:border-box;padding:7.5px;height:200px;width:100%;resize:none;overflow:hidden;outline:none;border:none;border-radius:5px}.submit_button[_ngcontent-%COMP%]{margin-top:10px;border:1px solid #00A562;color:#00a562;padding:4px 8px;border-radius:5px;cursor:pointer}.submit_button[_ngcontent-%COMP%]:hover{background-color:#00a562;color:#fff}.field_error[_ngcontent-%COMP%]{border:1px solid #f44336!important}"]}),Bt})()},{path:"",redirectTo:"blogs",pathMatch:"full"},{path:"blogs",component:Ie},{path:"blogs/:category",component:Ie},{path:"blog/:id",component:St}];let Vt=(()=>{class Bt{}return Bt.\u0275fac=function(Ue){return new(Ue||Bt)},Bt.\u0275mod=O.oAB({type:Bt}),Bt.\u0275inj=O.cJS({imports:[A.Bz.forChild(an),A.Bz]}),Bt})();var Je=D(3848),wn=D(8445);let ht=(()=>{class Bt{}return Bt.\u0275fac=function(Ue){return new(Ue||Bt)},Bt.\u0275mod=O.oAB({type:Bt}),Bt.\u0275inj=O.cJS({imports:[c.ez,re.u5,Ae.c,Ge.ot,rt.Tx,Fe.Ps,wn.Iu]}),Bt})(),En=(()=>{class Bt{}return Bt.\u0275fac=function(Ue){return new(Ue||Bt)},Bt.\u0275mod=O.oAB({type:Bt}),Bt.\u0275inj=O.cJS({imports:[ht,c.ez,Vt,Ge.ot,Je.Nh,rt.Tx,Fe.Ps,re.UX,re.u5]}),Bt})()},7763:(_n,Ye,D)=>{D.d(Ye,{t:()=>re});var c=D(4650),A=D(384),g=D(6895);const fe=["desc"],O=["imgContainer"],Te=["category"],Oe=["title"],ue=["authorElem"],Ie=["date"],ie=["main"],ae=["container"];let re=(()=>{class Ae{constructor(Ge){this.authService=Ge}getFormatDate(){return this.blog.date.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+" "+this.blog.date.toDate().toLocaleString("en",{month:"short",day:"numeric",year:"numeric"})}ngOnChanges(Ge){Ge.blog&&Ge.blog.currentValue&&(this.author=this.authService.getUserById(this.blog.author))}ngAfterViewInit(){const Ge=this.descRef.nativeElement,rt=this.imgContainerRef.nativeElement,Fe=this.mainRef.nativeElement,tt=parseInt(getComputedStyle(Fe).width.slice(0,-2));this.categoryRef.nativeElement.style.fontSize=.0665*tt+"px",this.authorRef.nativeElement.style.fontSize=.0665*tt+"px",this.titleRef.nativeElement.style.fontSize=.1245*tt+"px",this.dateRef.nativeElement.style.fontSize=.0581*tt+"px";const Re=parseInt(getComputedStyle(this.descRef.nativeElement).width.slice(0,-2));this.descRef.nativeElement.style.fontSize=.052*Re+"px",rt.style.display="none",Ge.style.display="none";const lt=parseInt(getComputedStyle(Fe).height.slice(0,-2));Ge.style.maxHeight=2*lt+"px",rt.style.maxHeight=2*lt+"px",rt.style.display="",Ge.style.display="";const Se=this.containerRef.nativeElement,ge=parseInt(getComputedStyle(Se).width.slice(0,-2));Se.style.padding=.024*ge+"px",Fe.style.marginRight=.036*ge+"px",Ge.style.marginRight=.036*ge+"px"}}return Ae.\u0275fac=function(Ge){return new(Ge||Ae)(c.Y36(A.e))},Ae.\u0275cmp=c.Xpm({type:Ae,selectors:[["app-post-short"]],viewQuery:function(Ge,rt){if(1&Ge&&(c.Gf(fe,5),c.Gf(O,5),c.Gf(Te,5),c.Gf(Oe,5),c.Gf(ue,5),c.Gf(Ie,5),c.Gf(ie,5),c.Gf(ae,5)),2&Ge){let Fe;c.iGM(Fe=c.CRH())&&(rt.descRef=Fe.first),c.iGM(Fe=c.CRH())&&(rt.imgContainerRef=Fe.first),c.iGM(Fe=c.CRH())&&(rt.categoryRef=Fe.first),c.iGM(Fe=c.CRH())&&(rt.titleRef=Fe.first),c.iGM(Fe=c.CRH())&&(rt.authorRef=Fe.first),c.iGM(Fe=c.CRH())&&(rt.dateRef=Fe.first),c.iGM(Fe=c.CRH())&&(rt.mainRef=Fe.first),c.iGM(Fe=c.CRH())&&(rt.containerRef=Fe.first)}},inputs:{blog:"blog"},features:[c.TTD],decls:25,vars:10,consts:[[1,"post_short_container"],["container",""],[1,"post_short_container_main"],["main",""],[1,"post_short_category"],["category",""],[1,"post_short_title","roboto-black"],["title",""],[1,"post_short_author","roboto-regular"],["authorElem",""],[1,"post_short_date","roboto-light"],["date",""],[1,"post_short_container_description"],["desc",""],[1,"post_short_description"],[1,"post_short_image_container"],["imgContainer",""],["alt","",3,"src"]],template:function(Ge,rt){if(1&Ge&&(c.TgZ(0,"div",0,1)(2,"div",2,3)(4,"p",4,5),c._uU(6),c.ALo(7,"titlecase"),c.qZA(),c.TgZ(8,"p",6,7),c._uU(10),c.qZA(),c.TgZ(11,"p",8,9),c._uU(13),c.ALo(14,"async"),c.qZA(),c.TgZ(15,"p",10,11),c._uU(17),c.qZA()(),c.TgZ(18,"div",12,13)(20,"p",14),c._uU(21),c.qZA()(),c.TgZ(22,"div",15,16),c._UZ(24,"img",17),c.qZA()()),2&Ge){let Fe;c.xp6(6),c.Oqu(c.lcZ(7,6,rt.blog.category)),c.xp6(4),c.Oqu(rt.blog.title),c.xp6(3),c.Oqu(null==(Fe=c.lcZ(14,8,rt.author))?null:Fe.fullName),c.xp6(4),c.Oqu(rt.getFormatDate()),c.xp6(4),c.Oqu(rt.blog.description),c.xp6(3),c.s9C("src",rt.blog.imgUrl,c.LSH)}},dependencies:[g.Ov,g.rS],styles:[".post_short_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;overflow:hidden;padding:20px}.post_short_container[_ngcontent-%COMP%]:hover{border-radius:15px;cursor:pointer;box-shadow:0 0 10px #0003}.post_short_container_main[_ngcontent-%COMP%]{position:relative;top:-10px;width:28.7%;display:flex;flex-direction:column;justify-content:left;margin-right:30px;word-break:break-word}.post_short_description[_ngcontent-%COMP%]{color:#777;word-break:break-word}.post_short_image_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.post_short_category[_ngcontent-%COMP%]{color:#16d721;margin-bottom:0;position:relative;top:4px}.post_short_title[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:10px}.post_short_author[_ngcontent-%COMP%]{margin-bottom:5px}.post_short_container_description[_ngcontent-%COMP%]{margin-right:30px;font-size:16px;width:36.7%;position:relative}.post_short_image_container[_ngcontent-%COMP%]{width:34.48%}"]}),Ae})()},1378:(_n,Ye,D)=>{D.d(Ye,{a:()=>c});const c=["\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0443\u0432\u0430\u043d\u043d\u044f","\u0436\u0438\u0442\u0442\u044f","\u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0457","\u043d\u0430\u0443\u043a\u0430"]},9616:(_n,Ye,D)=>{D.d(Ye,{r:()=>Te});var c=D(4004),A=D(4128),g=D(8179),fe=D(4650),O=D(7977);let Te=(()=>{class Oe{constructor(Ie){this.store=Ie,this.commentsPath="comments"}get(Ie){return this.store.collection(this.commentsPath).doc(Ie).get().pipe((0,c.U)(ie=>{if(ie.exists)return ie.data();throw new Error("Document not found")}))}add(Ie){const ie={id:this.store.createId(),date:g.EK.fromDate(new Date),...Ie};console.log(ie),this.store.collection(this.commentsPath).doc(ie.id).set(ie).catch(ae=>console.log(ae))}getAll(){return this.store.collection(this.commentsPath).valueChanges()}getByBlog(Ie){return this.getAll().pipe((0,c.U)(ie=>ie.filter(ae=>ae.bid===Ie)))}deleteBlogComments(Ie){return this.deleteByCriterion("bid",Ie)}deleteComment(Ie){return new Promise((ie,ae)=>{this.store.collection(this.commentsPath).doc(Ie).delete().then(re=>ie()).catch(re=>ae(re))})}updateComment(Ie,ie){return new Promise((ae,re)=>{this.store.collection(this.commentsPath).doc(Ie).update({text:ie}).then(Ae=>ae()).catch(Ae=>re(Ae))})}deleteUserComments(Ie){return this.deleteByCriterion("uid",Ie)}deleteByCriterion(Ie,ie){return new Promise((ae,re)=>{this.store.collection(this.commentsPath,Ae=>Ae.where(Ie,"==",ie)).valueChanges().subscribe(Ae=>{if(0==Ae.length)return void ae();const Ve=Ae.map(Ge=>this.deleteComment(Ge.id));(0,A.D)(Ve).subscribe(()=>{ae()},Ge=>{re(Ge)})},Ae=>{re(Ae)})})}}return Oe.\u0275fac=function(Ie){return new(Ie||Oe)(fe.LFG(O.ST))},Oe.\u0275prov=fe.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})()},9905:(_n,Ye,D)=>{D.r(Ye),D.d(Ye,{ProfileModule:()=>Vt});var c=D(6895),A=D(1779),g=D(4650),fe=D(4006),O=D(384),Te=D(5637),Oe=D(3336);const ue=function(Je){return{invalid:Je}};function Ie(Je,wn){if(1&Je&&g._UZ(0,"input",13),2&Je){const ht=g.oxw(3);g.Tol(g.VKq(3,ue,ht.passwordControl.invalid)),g.Q6J("formControl",ht.passwordControl)}}function ie(Je,wn){if(1&Je){const ht=g.EpF();g.TgZ(0,"div",9)(1,"button",10),g._uU(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"),g.qZA(),g.TgZ(3,"button",11),g.NdJ("click",function(){g.CHM(ht);const Bt=g.oxw(2);return g.KtG(Bt.deleteUser())}),g._uU(4,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),g.qZA(),g.YNc(5,Ie,1,5,"input",12),g.qZA()}if(2&Je){const ht=g.oxw(2);g.xp6(5),g.Q6J("ngIf",ht.isPressDelete)}}function ae(Je,wn){if(1&Je&&(g.TgZ(0,"div",1,2)(2,"div",3),g._UZ(3,"img",4),g.qZA(),g.TgZ(4,"p",5),g._uU(5),g.qZA(),g.TgZ(6,"div",6)(7,"mat-icon"),g._uU(8,"mail"),g.qZA(),g.TgZ(9,"p",7),g._uU(10),g.qZA()(),g.YNc(11,ie,6,1,"div",8),g.qZA()),2&Je){const ht=g.oxw();g.xp6(3),g.Q6J("src",ht.photoUrl,g.LSH),g.xp6(2),g.Oqu(ht.user.fullName),g.xp6(5),g.Oqu(ht.user.email),g.xp6(1),g.Q6J("ngIf",ht.isCurrentUser)}}let re=(()=>{class Je{constructor(ht,En,Bt,mn){this.authService=ht,this.route=En,this.router=Bt,this.loadingService=mn,this.isPressDelete=!1,this.passwordControl=new fe.NI(""),this.isCurrentUser=!1,this.isInitial=!1}ngOnInit(){this.route.paramMap.subscribe(ht=>this.authService.getUserById(ht.get("uid")).subscribe(En=>this.authService.user.subscribe(Bt=>{Bt&&En.uid==Bt?.uid&&(this.isCurrentUser=!0),this.user=En,this.photoUrl=En.photoUrl,this.isInitial=!0})))}deleteUser(){this.isPressDelete?(this.loadingService.setLoadingStatus(!0),this.authService.deleteUser(this.user.email,this.passwordControl.value).then(ht=>(this.loadingService.setLoadingStatus(!1),this.router.navigate(["/"]))).catch(ht=>{this.passwordControl.setErrors({invalid:!0}),console.log(ht)})):this.isPressDelete=!0}}return Je.\u0275fac=function(ht){return new(ht||Je)(g.Y36(O.e),g.Y36(A.gz),g.Y36(A.F0),g.Y36(Te.b))},Je.\u0275cmp=g.Xpm({type:Je,selectors:[["app-profile-info"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["container",""],[1,"img"],[3,"src"],[1,"displayName","roboto-regular"],[1,"email_container"],[1,"email","roboto-light"],["class","buttons",4,"ngIf"],[1,"buttons"],["routerLink","edit",1,"edit_button"],[1,"delete_button",3,"click"],["type","password","class","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c...",3,"formControl","class",4,"ngIf"],["type","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c...",1,"password",3,"formControl"]],template:function(ht,En){1&ht&&g.YNc(0,ae,12,4,"div",0),2&ht&&g.Q6J("ngIf",En.isInitial)},dependencies:[A.rH,c.O5,Oe.Hw,fe.Fj,fe.JJ,fe.oH],styles:[".container[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f1f1f1;border:1px solid #c4c4c4;border-radius:5px;display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;padding:15px}.img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:150px;overflow:hidden}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}.email_container[_ngcontent-%COMP%]{display:flex;align-items:center}.email_container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#777}.displayName[_ngcontent-%COMP%]{margin-top:15px}.email_container[_ngcontent-%COMP%], .edit_button[_ngcontent-%COMP%]{margin-top:12px}.displayName[_ngcontent-%COMP%]{font-size:20px}.email[_ngcontent-%COMP%]{letter-spacing:.5px;margin-left:2.5px;font-weight:400}.edit_button[_ngcontent-%COMP%]{margin-top:10px;padding:9px 30px;background-color:#fff;border:1px solid #00A562;border-radius:25px;color:#00a562;font-size:14px;cursor:pointer}.edit_button[_ngcontent-%COMP%]:hover{background-color:#00a562;color:#fff}.delete_button[_ngcontent-%COMP%]{margin-top:10px;padding:9px 30px;background-color:#fff;border:1px solid #f44336;border-radius:25px;color:#f44336;font-size:14px;cursor:pointer}.delete_button[_ngcontent-%COMP%]:hover{background-color:#f44336;color:#fff}.password[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;padding:5px;outline:none;border-radius:5px;border:1px solid #777777}.invalid[_ngcontent-%COMP%]{border:1px solid #f44336}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),Je})();const Ae=function(Je){return{active:Je}};function Ve(Je,wn){if(1&Je){const ht=g.EpF();g.TgZ(0,"a",4),g.NdJ("click",function(){const mn=g.CHM(ht).$implicit,Ue=g.oxw();return g.KtG(Ue.currentTab=mn)}),g._uU(1),g.ALo(2,"titlecase"),g.qZA()}if(2&Je){const ht=wn.$implicit,En=g.oxw();g.Tol(g.VKq(6,Ae,En.currentTab===ht)),g.Q6J("routerLink",ht),g.xp6(1),g.hij(" ",g.lcZ(2,4,ht)," ")}}let Ge=(()=>{class Je{constructor(ht,En){this.route=ht,this.router=En,this.tabs=["\u0411\u043b\u043e\u0433\u0438"],this.currentTab="\u0411\u043b\u043e\u0433\u0438"}ngOnInit(){this.router.navigate(["blogs"],{relativeTo:this.route}).catch(ht=>console.log(ht))}}return Je.\u0275fac=function(ht){return new(ht||Je)(g.Y36(A.gz),g.Y36(A.F0))},Je.\u0275cmp=g.Xpm({type:Je,selectors:[["app-profile-tabs"]],decls:5,vars:1,consts:[[1,"tabs_container"],[1,"tabs_name"],["class","tab_name",3,"routerLink","class","click",4,"ngFor","ngForOf"],[1,"tabs_body"],[1,"tab_name",3,"routerLink","click"]],template:function(ht,En){1&ht&&(g.TgZ(0,"div",0)(1,"div",1),g.YNc(2,Ve,3,8,"a",2),g.qZA(),g.TgZ(3,"div",3),g._UZ(4,"router-outlet"),g.qZA()()),2&ht&&(g.xp6(2),g.Q6J("ngForOf",En.tabs))},dependencies:[A.lC,A.rH,c.sg,c.rS],styles:[".tab_name[_ngcontent-%COMP%]{text-decoration:none;letter-spacing:1.2px;font-size:18px;color:#777;padding:.75rem 1.5rem;display:inline-block;position:relative;top:1px}.tabs_name[_ngcontent-%COMP%]{border-bottom:1px solid #c4c4c4}.active[_ngcontent-%COMP%]{color:#00a562;border-bottom:2px solid #00A562}.tabs_body[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.hide[_ngcontent-%COMP%]{opacity:0}"]}),Je})(),rt=(()=>{class Je{}return Je.\u0275fac=function(ht){return new(ht||Je)},Je.\u0275cmp=g.Xpm({type:Je,selectors:[["app-profile"]],decls:9,vars:0,consts:[[1,"main_container"],[1,"title","roboto-regular"],[1,"container"],[1,"tabs"],[1,"info"],[1,"info_active"],[1,"invisible"]],template:function(ht,En){1&ht&&(g.TgZ(0,"div",0)(1,"p",1),g._uU(2,"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u043f\u0440\u043e\u0444\u0456\u043b\u044e"),g.qZA(),g.TgZ(3,"div",2)(4,"div",3),g._UZ(5,"app-profile-tabs"),g.qZA(),g.TgZ(6,"div",4),g._UZ(7,"app-profile-info",5)(8,"div",6),g.qZA()()())},dependencies:[re,Ge],styles:[".main_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{margin-top:20px;position:relative}.tabs[_ngcontent-%COMP%]{margin-right:50px;width:900px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.title[_ngcontent-%COMP%]{margin-top:10px;font-size:28px;display:inline-block;position:relative;top:10px}.info_active[_ngcontent-%COMP%]{position:fixed;top:50%;transform:translateY(-50%)}.invisible[_ngcontent-%COMP%]{width:400px;height:400px;padding:15px}"]}),Je})();var Fe=D(439),tt=D(7763),Re=D(9101),lt=D(1552);function Se(Je,wn){if(1&Je){const ht=g.EpF();g.TgZ(0,"div",4)(1,"div",5)(2,"app-post-short",6),g.NdJ("click",function(){const mn=g.CHM(ht).$implicit,Ue=g.oxw(2);return g.KtG(Ue.toBlogPage(mn.id))}),g.qZA()(),g.TgZ(3,"div",7)(4,"button",8)(5,"mat-icon"),g._uU(6,"more_vert"),g.qZA()(),g.TgZ(7,"mat-menu",null,9)(9,"button",10),g.NdJ("click",function(){const mn=g.CHM(ht).$implicit,Ue=g.oxw(2);return g.KtG(Ue.delete(mn.id))}),g.TgZ(10,"mat-icon"),g._uU(11,"delete"),g.qZA(),g.TgZ(12,"span"),g._uU(13,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),g.qZA()()()()()}if(2&Je){const ht=wn.$implicit,En=g.MAs(8);g.xp6(2),g.Q6J("blog",ht),g.xp6(2),g.Q6J("matMenuTriggerFor",En)}}function ge(Je,wn){if(1&Je&&(g.TgZ(0,"div",2),g.YNc(1,Se,14,2,"div",3),g.ALo(2,"async"),g.qZA()),2&Je){const ht=g.oxw();g.xp6(1),g.Q6J("ngForOf",g.lcZ(2,1,ht.blogs))}}function pe(Je,wn){1&Je&&(g.TgZ(0,"p",11),g._uU(1,"\u0426\u0435\u0439 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u043d\u0435 \u043e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0432 \u0436\u043e\u0434\u043d\u043e\u0433\u043e \u0431\u043b\u043e\u0433\u0443."),g.qZA())}let Ke=(()=>{class Je{constructor(ht,En,Bt,mn){this.blogService=ht,this.authService=En,this.router=Bt,this.route=mn}toBlogPage(ht){this.router.navigate(["blog",ht]).then()}delete(ht){this.blogService.delete(ht).catch(En=>console.log(En))}ngOnInit(){this.route.parent.params.subscribe(ht=>{const En=ht.uid;console.log(En),En?this.blogs=this.blogService.getUserBlogs(En):console.log("uid is null")})}}return Je.\u0275fac=function(ht){return new(ht||Je)(g.Y36(Fe.Z),g.Y36(O.e),g.Y36(A.F0),g.Y36(A.gz))},Je.\u0275cmp=g.Xpm({type:Je,selectors:[["app-profile-main"]],decls:4,vars:6,consts:[["class","blogs",4,"ngIf"],["class","no_blog",4,"ngIf"],[1,"blogs"],["class","blog_container",4,"ngFor","ngForOf"],[1,"blog_container"],[1,"blog"],[2,"cursor","pointer",3,"blog","click"],[1,"buttons"],["mat-icon-button","",1,"menu",3,"matMenuTriggerFor"],["menu",""],["mat-menu-item","",3,"click"],[1,"no_blog"]],template:function(ht,En){if(1&ht&&(g.YNc(0,ge,3,3,"div",0),g.ALo(1,"async"),g.YNc(2,pe,2,0,"p",1),g.ALo(3,"async")),2&ht){let Bt,mn;g.Q6J("ngIf",(null==(Bt=g.lcZ(1,2,En.blogs))?null:Bt.length)>0),g.xp6(2),g.Q6J("ngIf",0==(null==(mn=g.lcZ(3,4,En.blogs))?null:mn.length))}},dependencies:[c.sg,c.O5,Oe.Hw,tt.t,Re.RK,lt.VK,lt.OP,lt.p6,c.Ov],styles:[".blog_container[_ngcontent-%COMP%]{display:flex;padding:20px 0;border-top:1px solid #c4c4c4;box-sizing:border-box}.blog_container[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.blog[_ngcontent-%COMP%]{width:900px}.menu[_ngcontent-%COMP%]{margin-left:5px;position:relative;top:15px;right:15px}.no_blog[_ngcontent-%COMP%]{margin-top:20px}"]}),Je})();var _t=D(8445);function Rt(Je,wn){1&Je&&(g.TgZ(0,"p",24),g._uU(1,"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0443\u0432\u0430\u043d\u0435 \u0406\u043c'\u044f"),g.qZA())}function qe(Je,wn){if(1&Je&&(g.TgZ(0,"p",25),g._uU(1),g.qZA()),2&Je){const ht=g.oxw(2);g.xp6(1),g.hij(" ",ht.getFullNameErrorMessage()," ")}}function un(Je,wn){1&Je&&(g.TgZ(0,"p",24),g._uU(1,"\u0410\u0434\u0440\u0435\u0441 \u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0457 \u041f\u043e\u0448\u0442\u0438"),g.qZA())}function St(Je,wn){if(1&Je&&(g.TgZ(0,"p",25),g._uU(1),g.qZA()),2&Je){const ht=g.oxw(2);g.xp6(1),g.hij(" ",ht.getEmailErrorMessage()," ")}}function bn(Je,wn){1&Je&&(g.TgZ(0,"p",24),g._uU(1,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f"),g.qZA())}function yn(Je,wn){if(1&Je&&(g.TgZ(0,"p",25),g._uU(1),g.qZA()),2&Je){const ht=g.oxw(2);g.xp6(1),g.hij(" ",ht.getPasswordErrorMessage()," ")}}function ui(Je,wn){1&Je&&(g.TgZ(0,"div",26),g._uU(1,"\u0417\u043c\u0456\u043d\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!"),g.qZA())}const Ft=function(Je){return{error:Je}};function Tt(Je,wn){if(1&Je){const ht=g.EpF();g.TgZ(0,"div",1)(1,"div",2)(2,"p",3),g._uU(3,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0440\u043e\u0444\u0456\u043b\u044e"),g.qZA(),g.TgZ(4,"div",4)(5,"div",5)(6,"form",6),g.NdJ("ngSubmit",function(){g.CHM(ht);const Bt=g.oxw();return g.KtG(Bt.onSubmit())}),g.TgZ(7,"div",7)(8,"div",8),g._UZ(9,"input",9),g.YNc(10,Rt,2,0,"p",10),g.YNc(11,qe,2,1,"p",11),g.qZA(),g.TgZ(12,"div",8),g._UZ(13,"input",12),g.YNc(14,un,2,0,"p",10),g.YNc(15,St,2,1,"p",11),g.qZA(),g.TgZ(16,"div",8),g._UZ(17,"input",13),g.YNc(18,bn,2,0,"p",10),g.YNc(19,yn,2,1,"p",11),g.qZA()(),g.TgZ(20,"button",14),g._uU(21,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),g.qZA()()(),g.TgZ(22,"div",15)(23,"div",16),g._uU(24,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0444\u0456\u043b\u044e"),g.qZA(),g.TgZ(25,"div",17),g.NdJ("click",function(){g.CHM(ht);const Bt=g.MAs(31);return g.KtG(Bt.click())}),g._UZ(26,"img",18),g.qZA(),g.TgZ(27,"div",19)(28,"button",20),g.NdJ("click",function(){g.CHM(ht);const Bt=g.MAs(31);return g.KtG(Bt.click())}),g._uU(29,"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"),g.qZA(),g.TgZ(30,"input",21,22),g.NdJ("change",function(Bt){g.CHM(ht);const mn=g.oxw();return g.KtG(mn.updateImg(Bt))}),g.qZA()()()()(),g.YNc(32,ui,2,0,"div",23),g.qZA()}if(2&Je){const ht=g.oxw();g.xp6(6),g.Q6J("formGroup",ht.edit),g.xp6(3),g.Tol(g.VKq(15,Ft,ht.fullNameControl.invalid&&ht.fullNameControl.value!=ht.initialFullName)),g.xp6(1),g.Q6J("ngIf",ht.fullNameControl.valid||ht.fullNameControl.value==ht.initialFullName),g.xp6(1),g.Q6J("ngIf",ht.fullNameControl.invalid&&ht.fullNameControl.value!=ht.initialFullName),g.xp6(2),g.Tol(g.VKq(17,Ft,ht.emailControl.invalid&&ht.emailControl.value!=ht.initialEmail)),g.xp6(1),g.Q6J("ngIf",ht.emailControl.valid||ht.emailControl.value==ht.initialEmail),g.xp6(1),g.Q6J("ngIf",ht.emailControl.invalid&&ht.emailControl.value!=ht.initialEmail),g.xp6(2),g.Tol(g.VKq(19,Ft,ht.passwordControl.invalid)),g.xp6(1),g.Q6J("ngIf",ht.passwordControl.valid),g.xp6(1),g.Q6J("ngIf",ht.passwordControl.invalid),g.xp6(7),g.Q6J("src",ht.photoUrl,g.LSH),g.xp6(6),g.Q6J("ngIf",ht.isSucessTable)}}let Pt=(()=>{class Je{constructor(ht,En,Bt,mn){this.authService=ht,this.storageService=En,this.formBuilder=Bt,this.loadingService=mn,this.password="",this.isSucessTable=!1,this.isLoad=!1,this.isFirstControlInitial=!1,this.fullNameControl=new fe.NI("",[fe.kI.required,fe.kI.minLength(4),fe.kI.pattern("[^0-9]*")]),this.emailControl=new fe.NI("",[fe.kI.required,fe.kI.email]),this.passwordControl=new fe.NI(""),this.edit=this.formBuilder.group({fullName:this.fullNameControl,email:this.emailControl,password:this.passwordControl}),this.authService.user.subscribe(Ue=>{Ue?(this.uid=Ue.uid,this.photoUrl=Ue.photoURL,this.initialEmail=Ue.email,this.initialFullName=Ue.displayName,this.isFirstControlInitial||(this.fullNameControl.setValue(this.initialFullName),this.emailControl.setValue(this.initialEmail),this.isLoad=!0,this.isFirstControlInitial=!0)):console.log("user not found")})}getEmailErrorMessage(){return this.emailControl.hasError("required")?"\u0412\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f":this.emailControl.hasError("email")?"\u041d\u0435\u0434\u0456\u0439\u0441\u043d\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u0430\u0434\u0440\u0435\u0441\u0430":""}getFullNameErrorMessage(){return this.fullNameControl.hasError("required")?"\u0412\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f":this.fullNameControl.hasError("minlength")?"\u041c\u0456\u043d\u0456\u043c\u0443\u043c 4 \u0431\u0443\u043a\u0432\u0438":this.fullNameControl.hasError("pattern")?"\u0426\u0438\u0444\u0440\u0438 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0456":""}getPasswordErrorMessage(){return this.passwordControl.hasError("invalid")?"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u0432\u0456\u0440\u043d\u0438\u0439":""}updateImg(ht){const Bt=ht.target.files?.item(0);if(Bt){const mn=`users/${this.uid}`;this.loadingService.setLoadingStatus(!0),this.storageService.upload(mn,Bt).then(Ue=>this.storageService.ref(mn).getDownloadURL().subscribe(Zt=>this.authService.updatePhotoUrl(Zt).then(yt=>{this.photoUrl=Zt,this.isSucessTable=!0,this.timer=setTimeout(Ht=>{this.isSucessTable=!1,this.timer=null},3e3),this.loadingService.setLoadingStatus(!1)})))}}onSubmit(){const ht=this.emailControl.value,En=this.fullNameControl.value,Bt=this.passwordControl.value;this.edit.invalid||ht==this.initialEmail&&En==this.initialFullName||(this.loadingService.setLoadingStatus(!0),ht!=this.initialEmail?this.authService.updateEmail(this.initialEmail,ht,Bt).then(mn=>{En!=this.initialFullName?this.authService.updateFullName(En).then(Ue=>{this.loadingService.setLoadingStatus(!1),this.showSucessTable()}):(this.loadingService.setLoadingStatus(!1),this.showSucessTable())}).catch(mn=>this.passwordControl.setErrors({invalid:!0})):this.authService.updateFullName(En).then(mn=>{this.loadingService.setLoadingStatus(!1),this.showSucessTable()}))}showSucessTable(){this.isSucessTable=!0,this.timer=setTimeout(ht=>{this.isSucessTable=!1,this.timer=null},3e3)}ngOnDestroy(){this.timer&&(clearTimeout(this.timer),this.isSucessTable=!1)}}return Je.\u0275fac=function(ht){return new(ht||Je)(g.Y36(O.e),g.Y36(_t.Q1),g.Y36(fe.qu),g.Y36(Te.b))},Je.\u0275cmp=g.Xpm({type:Je,selectors:[["app-profile-edit"]],decls:1,vars:1,consts:[["class","main",4,"ngIf"],[1,"main"],[1,"main_container"],[1,"title","roboto-regular"],[1,"container"],[1,"fields_section"],[3,"formGroup","ngSubmit"],[1,"fields"],[1,"field"],["type","text","formControlName","fullName",1,"field_input"],["class","field_lable roboto-light",4,"ngIf"],["class","field_lable roboto-light error_message",4,"ngIf"],["type","text","formControlName","email",1,"field_input"],["type","password","formControlName","password",1,"field_input"],["type","submit",1,"fields_button"],[1,"img_edit"],[1,"img_title","roboto-light"],[1,"img",3,"click"],[3,"src"],[1,"container_button_change"],[1,"edit_button",3,"click"],["type","file","id","fileInput",2,"display","none",3,"change"],["change",""],["class","sucess_table",4,"ngIf"],[1,"field_lable","roboto-light"],[1,"field_lable","roboto-light","error_message"],[1,"sucess_table"]],template:function(ht,En){1&ht&&g.YNc(0,Tt,33,21,"div",0),2&ht&&g.Q6J("ngIf",En.isLoad)},dependencies:[c.O5,fe._Y,fe.Fj,fe.JJ,fe.JL,fe.sg,fe.u],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.main_container[_ngcontent-%COMP%]{position:relative;left:-50px}.container[_ngcontent-%COMP%]{display:flex;margin-top:25px;align-items:center}.fields_section[_ngcontent-%COMP%]{position:relative;top:15px}.title[_ngcontent-%COMP%]{margin-top:20px;font-size:28px}.img_edit[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.img_title[_ngcontent-%COMP%]{color:#c4c4c4}.img[_ngcontent-%COMP%]{width:175px;height:175px;border-radius:150px;overflow:hidden;cursor:pointer}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}.edit_button[_ngcontent-%COMP%]{margin-top:10px;padding:7.5px 25px;background-color:#fff;border:1px solid #00A562;border-radius:25px;color:#00a562;font-size:14px;cursor:pointer}.edit_button[_ngcontent-%COMP%]:hover{background-color:#00a562;color:#fff}.img[_ngcontent-%COMP%], .container_button_change[_ngcontent-%COMP%]{margin-top:5px}.fields[_ngcontent-%COMP%]{margin-right:50px}.field[_ngcontent-%COMP%]{margin-bottom:25px}.field_input[_ngcontent-%COMP%]{width:350px;border:none;padding-bottom:3px;font-size:20px;font-weight:500;border-bottom:1px solid #777777;outline:none}.field_lable[_ngcontent-%COMP%]{margin-top:5px}.fields_button[_ngcontent-%COMP%]{padding:10px 25px;background-color:#00a562;border:1px solid #00A562;border-radius:25px;color:#fff;font-size:14px;cursor:pointer}.fields_button[_ngcontent-%COMP%]:hover{background-color:#007d4b}.error[_ngcontent-%COMP%]{border-bottom-color:#f44336!important}.error_message[_ngcontent-%COMP%]{color:#f44336!important}.sucess_table[_ngcontent-%COMP%]{position:relative;left:125px;width:225px;padding:12.5px 0;margin-top:25px;text-align:center;border:1px solid #81c784;color:#81c784;border-radius:10px}"]}),Je})();var wt=D(9751),kt=D(3900);const vt=[{path:":uid/edit",component:Pt,canActivate:[(()=>{class Je{constructor(ht,En){this.authService=ht,this.router=En}canActivate(ht,En){const Bt=ht.paramMap.get("uid");return this.authService.user.pipe((0,kt.w)(mn=>new wt.y(Bt===mn?.uid?Ue=>{Ue.next(!0),Ue.complete()}:Ue=>{Ue.next(this.router.parseUrl("./error")),Ue.complete()})))}}return Je.\u0275fac=function(ht){return new(ht||Je)(g.LFG(O.e),g.LFG(A.F0))},Je.\u0275prov=g.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})()]},{path:":uid",component:rt,children:[{path:"",redirectTo:"blogs",pathMatch:"full"},{path:"blogs",component:Ke}]}];let jt=(()=>{class Je{}return Je.\u0275fac=function(ht){return new(ht||Je)},Je.\u0275mod=g.oAB({type:Je}),Je.\u0275inj=g.cJS({imports:[A.Bz.forChild(vt),A.Bz]}),Je})();var an=D(1171);let Vt=(()=>{class Je{}return Je.\u0275fac=function(ht){return new(ht||Je)},Je.\u0275mod=g.oAB({type:Je}),Je.\u0275inj=g.cJS({imports:[jt,c.ez,Oe.Ps,fe.u5,fe.UX,an.BlogsModule,Re.ot,lt.Tx]}),Je})()},4689:(_n,Ye,D)=>{var c=D(1481),A=D(1779),g=D(4650);let fe=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(w,L){1&w&&(g.TgZ(0,"p"),g._uU(1,"page-not-found works!"),g.qZA())}}),$})();const O=[{path:"error",component:fe},{path:"**",component:fe}];let Te=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=g.oAB({type:$}),$.\u0275inj=g.cJS({imports:[A.Bz.forRoot(O),A.Bz]}),$})();var Oe=D(5637),ue=D(6895);const Ie=function($){return{hidden:$}};function ie($,y){if(1&$&&(g.TgZ(0,"div",1)(1,"div",2),g._UZ(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div"),g.qZA()()),2&$){const w=g.oxw();g.Tol(g.VKq(2,Ie,w.isLoading))}}let ae=(()=>{class ${constructor(w){this.isLoading=!1,w.getLoadingStatus().subscribe(L=>this.isLoading=L)}}return $.\u0275fac=function(w){return new(w||$)(g.Y36(Oe.b))},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-loading"]],decls:1,vars:1,consts:[["class","loading",3,"class",4,"ngIf"],[1,"loading"],[1,"lds-roller"]],template:function(w,L){1&w&&g.YNc(0,ie,10,4,"div",0),2&w&&g.Q6J("ngIf",L.isLoading)},dependencies:[ue.O5],styles:['@charset "UTF-8";.loading[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000e6;display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.lds-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#fff;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@keyframes _ngcontent-%COMP%_lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}hidden[_ngcontent-%COMP%]{overflow:hidden}']}),$})(),re=(()=>{class ${constructor(){this.title="blog-app"}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-root"]],decls:2,vars:0,template:function(w,L){1&w&&g._UZ(0,"router-outlet")(1,"app-loading")},dependencies:[A.lC,ae],encapsulation:2}),$})();var Ae=D(4006),Ve=D(384),Ge=D(9549),rt=D(4144),Fe=D(9101),tt=D(3336);function lt($,y){if(1&$&&(g.TgZ(0,"mat-error"),g._uU(1),g.qZA()),2&$){const w=g.oxw();g.xp6(1),g.Oqu(w.getEmailErrorMessage())}}function Se($,y){if(1&$&&(g.TgZ(0,"mat-error"),g._uU(1),g.qZA()),2&$){g.oxw();const w=g.MAs(19);g.xp6(1),g.hij(" \u041c\u0456\u043d\u0456\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432 ",w.value.length,"/6")}}const pe=[{path:"login",component:(()=>{class ${constructor(w,L,ne,se){this.builder=w,this.auth=L,this.route=ne,this.router=se,this.returnUrl="/",this.isIncorrect=!1,this.hidePassword=!0,this.emailControl=new Ae.NI("",Ae.kI.email),this.passwordControl=new Ae.NI(""),this.login=this.builder.group({email:this.emailControl,password:this.passwordControl})}getEmailErrorMessage(){return this.emailControl.hasError("email")?"\u041d\u0435\u0434\u0456\u0439\u0441\u043d\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u0430\u0434\u0440\u0435\u0441\u0430":""}getPasswordErrorMessage(){return this.passwordControl.hasError("invalid")?"\u041d\u0435\u0432\u0456\u0440\u043d\u0456 \u0434\u0430\u043d\u0456":""}onSubmit(){this.login.invalid||this.auth.login(this.login.value.email,this.login.value.password).then(w=>this.router.navigate([this.returnUrl])).catch(w=>{this.emailControl.setErrors({invalid:!0}),this.passwordControl.setErrors({invalid:!0})})}createAccount(){this.router.navigate(["/register"],{queryParams:{returnUrl:this.returnUrl}}).catch(w=>alert(w))}ngOnInit(){this.route.queryParams.subscribe(w=>{const L=w.returnUrl;L&&(this.returnUrl=L)})}}return $.\u0275fac=function(w){return new(w||$)(g.Y36(Ae.qu),g.Y36(Ve.e),g.Y36(A.gz),g.Y36(A.F0))},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-login"]],decls:26,vars:5,consts:[[1,"login_container"],[1,"main_title","roboto-black"],[3,"formGroup","ngSubmit"],[1,"email"],["matInput","","placeholder","vlad@example.com","required","","formControlName","email"],["matInput","","required","","formControlName","password",3,"type"],["inputPassword",""],["mat-icon-button","","matSuffix","",3,"click"],["mat-flat-button","","type","submit","color","primary",1,"login_button"],[1,"login_text"],["mat-stroked-button","","color","primary",1,"register_button",3,"click"],[1,"register_text"]],template:function(w,L){1&w&&(g.TgZ(0,"div",0)(1,"div",1),g._uU(2,"\u0412\u0445\u0456\u0434"),g.qZA(),g.TgZ(3,"form",2),g.NdJ("ngSubmit",function(){return L.onSubmit()}),g.TgZ(4,"mat-form-field",3)(5,"mat-label"),g._uU(6,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0457 \u043f\u043e\u0448\u0442\u0438"),g.qZA(),g._UZ(7,"input",4),g.TgZ(8,"mat-error"),g._uU(9),g.qZA()(),g.TgZ(10,"mat-form-field")(11,"mat-label"),g._uU(12,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c"),g.qZA(),g._UZ(13,"input",5,6),g.TgZ(15,"button",7),g.NdJ("click",function(){return L.hidePassword=!L.hidePassword}),g.TgZ(16,"mat-icon"),g._uU(17),g.qZA()(),g.TgZ(18,"mat-error"),g._uU(19),g.qZA()(),g.TgZ(20,"button",8)(21,"span",9),g._uU(22,"\u0423\u0432\u0456\u0439\u0442\u0438"),g.qZA()(),g.TgZ(23,"button",10),g.NdJ("click",function(){return L.createAccount()}),g.TgZ(24,"span",11),g._uU(25,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"),g.qZA()()()()),2&w&&(g.xp6(3),g.Q6J("formGroup",L.login),g.xp6(6),g.Oqu(L.getEmailErrorMessage()),g.xp6(4),g.Q6J("type",L.hidePassword?"password":"text"),g.xp6(4),g.Oqu(L.hidePassword?"visibility_off":"visibility"),g.xp6(2),g.Oqu(L.getPasswordErrorMessage()))},dependencies:[Ae._Y,Ae.Fj,Ae.JJ,Ae.JL,Ae.Q7,Ge.KE,Ge.hX,Ge.TO,Ge.R9,rt.Nt,Ae.sg,Ae.u,Fe.lW,Fe.RK,tt.Hw],styles:[".main_title[_ngcontent-%COMP%]{margin-bottom:30px;position:relative;left:37.5%;letter-spacing:1px;font-weight:700}.login_container[_ngcontent-%COMP%]{position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:320px;margin-bottom:10px}.register_button[_ngcontent-%COMP%]{padding:20px;border:1px solid #00A562!important}.register_text[_ngcontent-%COMP%]{color:#00a562;font-size:16px}.login_button[_ngcontent-%COMP%]{background-color:#00a562!important;padding:20px;margin-bottom:20px}.login_text[_ngcontent-%COMP%]{color:#fff;font-size:16px}"]}),$})()},{path:"register",component:(()=>{class ${getEmailErrorMessage(){return this.emailControl.hasError("required")?"\u0412\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f":this.emailControl.hasError("email")?"\u041d\u0435\u0434\u0456\u0439\u0441\u043d\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u0430\u0434\u0440\u0435\u0441\u0430":""}getFullNameErrorMessage(){return this.fullNameControl.hasError("required")?"\u0412\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f":this.fullNameControl.hasError("minlength")?"\u041c\u0456\u043d\u0456\u043c\u0443\u043c 4 \u0431\u0443\u043a\u0432\u0438":this.fullNameControl.hasError("pattern")?"\u0426\u0438\u0444\u0440\u0438 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0456":""}getPasswordErrorMessage(){return this.passwordControl.hasError("required")?"\u0412\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f":this.passwordControl.hasError("minlength")?`\u041c\u0456\u043d\u0456\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432 ${this.passwordControl.value}/6`:""}constructor(w,L,ne,se){this.auth=w,this.route=L,this.router=ne,this.formBuilder=se,this.returnUrl="/",this.hidePassword=!0,this.fullNameControl=new Ae.NI("",[Ae.kI.required,Ae.kI.minLength(4),Ae.kI.pattern("[^0-9]*")]),this.emailControl=new Ae.NI("",[Ae.kI.required,Ae.kI.email]),this.passwordControl=new Ae.NI("",[Ae.kI.required,Ae.kI.minLength(6)]),this.register=this.formBuilder.group({fullName:this.fullNameControl,email:this.emailControl,password:this.passwordControl})}onSubmit(){this.register.invalid||this.auth.register(this.emailControl.value,this.passwordControl.value,this.fullNameControl.value,"https://selfmadewebdesigner.com/wp-content/uploads/2019/09/self-made-web-designer-upwork-profile.jpg").then(w=>this.router.navigate([this.returnUrl])).catch(w=>alert(w))}ngOnInit(){this.route.queryParams.subscribe(w=>{const L=w.returnUrl;L&&(this.returnUrl=L)})}}return $.\u0275fac=function(w){return new(w||$)(g.Y36(Ve.e),g.Y36(A.gz),g.Y36(A.F0),g.Y36(Ae.qu))},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-register"]],decls:27,vars:6,consts:[[1,"register_container"],[1,"main_title","roboto-black"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","\u041f\u0435\u0442\u0440\u043e \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447","formControlName","fullName","required",""],[1,"email"],["matInput","","placeholder","vlad@example.com","formControlName","email","required",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["inputPassword",""],["mat-icon-button","","matSuffix","",3,"click"],["mat-flat-button","","type","submit","color","primary",1,"register_button"],[1,"register_text"]],template:function(w,L){1&w&&(g.TgZ(0,"div",0)(1,"div",1),g._uU(2,"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"),g.qZA(),g.TgZ(3,"form",2),g.NdJ("ngSubmit",function(){return L.onSubmit()}),g.TgZ(4,"mat-form-field")(5,"mat-label"),g._uU(6,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f"),g.qZA(),g._UZ(7,"input",3),g.TgZ(8,"mat-error"),g._uU(9),g.qZA()(),g.TgZ(10,"mat-form-field",4)(11,"mat-label"),g._uU(12,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0457 \u043f\u043e\u0448\u0442\u0438"),g.qZA(),g._UZ(13,"input",5),g.YNc(14,lt,2,1,"mat-error",6),g.qZA(),g.TgZ(15,"mat-form-field")(16,"mat-label"),g._uU(17,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c"),g.qZA(),g._UZ(18,"input",7,8),g.TgZ(20,"button",9),g.NdJ("click",function(){return L.hidePassword=!L.hidePassword}),g.TgZ(21,"mat-icon"),g._uU(22),g.qZA()(),g.YNc(23,Se,2,1,"mat-error",6),g.qZA(),g.TgZ(24,"button",10)(25,"span",11),g._uU(26,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"),g.qZA()()()()),2&w&&(g.xp6(3),g.Q6J("formGroup",L.register),g.xp6(6),g.Oqu(L.getFullNameErrorMessage()),g.xp6(5),g.Q6J("ngIf",L.register.controls.email.invalid),g.xp6(4),g.Q6J("type",L.hidePassword?"password":"text"),g.xp6(4),g.Oqu(L.hidePassword?"visibility_off":"visibility"),g.xp6(1),g.Q6J("ngIf",L.register.controls.password.invalid))},dependencies:[ue.O5,Ae._Y,Ae.Fj,Ae.JJ,Ae.JL,Ae.Q7,Ge.KE,Ge.hX,Ge.TO,Ge.R9,rt.Nt,Ae.sg,Ae.u,Fe.lW,Fe.RK,tt.Hw],styles:[".main_title[_ngcontent-%COMP%]{margin-bottom:30px;position:relative;left:22.5%;letter-spacing:1px;font-weight:700}.register_container[_ngcontent-%COMP%]{position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:320px;margin-bottom:10px}.register_button[_ngcontent-%COMP%]{background-color:#00a562!important;padding:20px;margin-bottom:20px}.register_text[_ngcontent-%COMP%]{color:#fff;font-size:16px}"]}),$})()}];let Ke=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=g.oAB({type:$}),$.\u0275inj=g.cJS({imports:[A.Bz.forChild(pe),A.Bz]}),$})(),_t=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=g.oAB({type:$}),$.\u0275inj=g.cJS({imports:[ue.ez,Ae.u5,Ke,Ge.lN,rt.c,Ae.UX,Fe.ot,tt.Ps]}),$})();var Rt=D(7977),qe=D(2011);const un_firebase={apiKey:"AIzaSyDN9vDZIt0UdyeaZEa01rqANU8BhlfjGic",authDomain:"blog-app-44169.firebaseapp.com",projectId:"blog-app-44169",storageBucket:"blog-app-44169.appspot.com",messagingSenderId:"848199296783",appId:"1:848199296783:web:8fed6821d43b3743b0407a"};var St=D(7340);function yn($){return new g.vHH(3e3,!1)}function Mt(){return typeof window<"u"&&typeof window.document<"u"}function zt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $n($){switch($.length){case 0:return new St.ZN;case 1:return $[0];default:return new St.ZE($)}}function Rn($,y,w,L,ne=new Map,se=new Map){const Me=[],Xe=[];let $e=-1,ke=null;if(L.forEach(Ct=>{const An=Ct.get("offset"),Vi=An==$e,$i=Vi&&ke||new Map;Ct.forEach((bi,Ai)=>{let or=Ai,Yi=bi;if("offset"!==Ai)switch(or=y.normalizePropertyName(or,Me),Yi){case St.k1:Yi=ne.get(Ai);break;case St.l3:Yi=se.get(Ai);break;default:Yi=y.normalizeStyleValue(Ai,or,Yi,Me)}$i.set(or,Yi)}),Vi||Xe.push($i),ke=$i,$e=An}),Me.length)throw function bt($){return new g.vHH(3502,!1)}();return Xe}function Mi($,y,w,L){switch(y){case"start":$.onStart(()=>L(w&&kn(w,"start",$)));break;case"done":$.onDone(()=>L(w&&kn(w,"done",$)));break;case"destroy":$.onDestroy(()=>L(w&&kn(w,"destroy",$)))}}function kn($,y,w){const se=ti($.element,$.triggerName,$.fromState,$.toState,y||$.phaseName,w.totalTime??$.totalTime,!!w.disabled),Me=$._data;return null!=Me&&(se._data=Me),se}function ti($,y,w,L,ne="",se=0,Me){return{element:$,triggerName:y,fromState:w,toState:L,phaseName:ne,totalTime:se,disabled:!!Me}}function Lt($,y,w){let L=$.get(y);return L||$.set(y,L=w),L}function Ee($){const y=$.indexOf(":");return[$.substring(1,y),$.slice(y+1)]}let z=($,y)=>!1,ce=($,y,w)=>[],nt=null;function Qt($){const y=$.parentNode||$.host;return y===nt?null:y}(zt()||typeof Element<"u")&&(Mt()?(nt=(()=>document.documentElement)(),z=($,y)=>{for(;y;){if(y===$)return!0;y=Qt(y)}return!1}):z=($,y)=>$.contains(y),ce=($,y,w)=>{if(w)return Array.from($.querySelectorAll(y));const L=$.querySelector(y);return L?[L]:[]});let Le=null,Ne=!1;const ln=z,Qe=ce;let V=(()=>{class ${validateStyleProperty(w){return function He($){Le||(Le=function Et(){return typeof document<"u"?document.body:null}()||{},Ne=!!Le.style&&"WebkitAppearance"in Le.style);let y=!0;return Le.style&&!function gi($){return"ebkit"==$.substring(1,6)}($)&&(y=$ in Le.style,!y&&Ne&&(y="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in Le.style)),y}(w)}matchesElement(w,L){return!1}containsElement(w,L){return ln(w,L)}getParentElement(w){return Qt(w)}query(w,L,ne){return Qe(w,L,ne)}computeStyle(w,L,ne){return ne||""}animate(w,L,ne,se,Me,Xe=[],$e){return new St.ZN(ne,se)}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac}),$})(),k=(()=>{class ${}return $.NOOP=new V,$})();const Z=1e3,tn="ng-enter",In="ng-leave",ei="ng-trigger",It=".ng-trigger",Ot="ng-animating",dn=".ng-animating";function Mn($){if("number"==typeof $)return $;const y=$.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Wn(parseFloat(y[1]),y[2])}function Wn($,y){return"s"===y?$*Z:$}function li($,y,w){return $.hasOwnProperty("duration")?$:function zn($,y,w){let ne,se=0,Me="";if("string"==typeof $){const Xe=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Xe)return y.push(yn()),{duration:0,delay:0,easing:""};ne=Wn(parseFloat(Xe[1]),Xe[2]);const $e=Xe[3];null!=$e&&(se=Wn(parseFloat($e),Xe[4]));const ke=Xe[5];ke&&(Me=ke)}else ne=$;if(!w){let Xe=!1,$e=y.length;ne<0&&(y.push(function ui(){return new g.vHH(3100,!1)}()),Xe=!0),se<0&&(y.push(function Ft(){return new g.vHH(3101,!1)}()),Xe=!0),Xe&&y.splice($e,0,yn())}return{duration:ne,delay:se,easing:Me}}($,y,w)}function ft($,y={}){return Object.keys($).forEach(w=>{y[w]=$[w]}),y}function oe($){const y=new Map;return Object.keys($).forEach(w=>{y.set(w,$[w])}),y}function ot($,y=new Map,w){if(w)for(let[L,ne]of w)y.set(L,ne);for(let[L,ne]of $)y.set(L,ne);return y}function Nt($,y,w){return w?y+":"+w+";":""}function ze($){let y="";for(let w=0;w<$.style.length;w++){const L=$.style.item(w);y+=Nt(0,L,$.style.getPropertyValue(L))}for(const w in $.style)$.style.hasOwnProperty(w)&&!w.startsWith("_")&&(y+=Nt(0,Er(w),$.style[w]));$.setAttribute("style",y)}function we($,y,w){$.style&&(y.forEach((L,ne)=>{const se=Si(ne);w&&!w.has(ne)&&w.set(ne,$.style[se]),$.style[se]=L}),zt()&&ze($))}function te($,y){$.style&&(y.forEach((w,L)=>{const ne=Si(L);$.style[ne]=""}),zt()&&ze($))}function De($){return Array.isArray($)?1==$.length?$[0]:(0,St.vP)($):$}const Wt=new RegExp("{{\\s*(.+?)\\s*}}","g");function on($){let y=[];if("string"==typeof $){let w;for(;w=Wt.exec($);)y.push(w[1]);Wt.lastIndex=0}return y}function Cn($,y,w){const L=$.toString(),ne=L.replace(Wt,(se,Me)=>{let Xe=y[Me];return null==Xe&&(w.push(function Pt($){return new g.vHH(3003,!1)}()),Xe=""),Xe.toString()});return ne==L?$:ne}function On($){const y=[];let w=$.next();for(;!w.done;)y.push(w.value),w=$.next();return y}const Nn=/-+([a-z0-9])/g;function Si($){return $.replace(Nn,(...y)=>y[1].toUpperCase())}function Er($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dr($,y,w){switch(y.type){case 7:return $.visitTrigger(y,w);case 0:return $.visitState(y,w);case 1:return $.visitTransition(y,w);case 2:return $.visitSequence(y,w);case 3:return $.visitGroup(y,w);case 4:return $.visitAnimate(y,w);case 5:return $.visitKeyframes(y,w);case 6:return $.visitStyle(y,w);case 8:return $.visitReference(y,w);case 9:return $.visitAnimateChild(y,w);case 10:return $.visitAnimateRef(y,w);case 11:return $.visitQuery(y,w);case 12:return $.visitStagger(y,w);default:throw function wt($){return new g.vHH(3004,!1)}()}}function zr($,y){return window.getComputedStyle($)[y]}const Wi="*";function Br($,y){const w=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(L=>function so($,y,w){if(":"==$[0]){const $e=function mt($,y){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,L)=>parseFloat(L)>parseFloat(w);case":decrement":return(w,L)=>parseFloat(L)<parseFloat(w);default:return y.push(function yt($){return new g.vHH(3016,!1)}()),"* => *"}}($,w);if("function"==typeof $e)return void y.push($e);$=$e}const L=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==L||L.length<4)return w.push(function Zt($){return new g.vHH(3015,!1)}()),y;const ne=L[1],se=L[2],Me=L[3];y.push(nn(ne,Me));"<"==se[0]&&!(ne==Wi&&Me==Wi)&&y.push(nn(Me,ne))}(L,w,y)):w.push($),w}const at=new Set(["true","1"]),Ut=new Set(["false","0"]);function nn($,y){const w=at.has($)||Ut.has($),L=at.has(y)||Ut.has(y);return(ne,se)=>{let Me=$==Wi||$==ne,Xe=y==Wi||y==se;return!Me&&w&&"boolean"==typeof ne&&(Me=ne?at.has($):Ut.has($)),!Xe&&L&&"boolean"==typeof se&&(Xe=se?at.has(y):Ut.has(y)),Me&&Xe}}const ci=new RegExp("s*:selfs*,?","g");function yi($,y,w,L){return new Ci($).build(y,w,L)}class Ci{constructor(y){this._driver=y}build(y,w,L){const ne=new tr(w);return this._resetContextStyleTimingState(ne),dr(this,De(y),ne)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,w){let L=w.queryCount=0,ne=w.depCount=0;const se=[],Me=[];return"@"==y.name.charAt(0)&&w.errors.push(function gt(){return new g.vHH(3006,!1)}()),y.definitions.forEach(Xe=>{if(this._resetContextStyleTimingState(w),0==Xe.type){const $e=Xe,ke=$e.name;ke.toString().split(/\s*,\s*/).forEach(Ct=>{$e.name=Ct,se.push(this.visitState($e,w))}),$e.name=ke}else if(1==Xe.type){const $e=this.visitTransition(Xe,w);L+=$e.queryCount,ne+=$e.depCount,Me.push($e)}else w.errors.push(function vt(){return new g.vHH(3007,!1)}())}),{type:7,name:y.name,states:se,transitions:Me,queryCount:L,depCount:ne,options:null}}visitState(y,w){const L=this.visitStyle(y.styles,w),ne=y.options&&y.options.params||null;if(L.containsDynamicStyles){const se=new Set,Me=ne||{};L.styles.forEach(Xe=>{Xe instanceof Map&&Xe.forEach($e=>{on($e).forEach(ke=>{Me.hasOwnProperty(ke)||se.add(ke)})})}),se.size&&(On(se.values()),w.errors.push(function jt($,y){return new g.vHH(3008,!1)}()))}return{type:0,name:y.name,style:L,options:ne?{params:ne}:null}}visitTransition(y,w){w.queryCount=0,w.depCount=0;const L=dr(this,De(y.animation),w);return{type:1,matchers:Br(y.expr,w.errors),animation:L,queryCount:w.queryCount,depCount:w.depCount,options:ao(y.options)}}visitSequence(y,w){return{type:2,steps:y.steps.map(L=>dr(this,L,w)),options:ao(y.options)}}visitGroup(y,w){const L=w.currentTime;let ne=0;const se=y.steps.map(Me=>{w.currentTime=L;const Xe=dr(this,Me,w);return ne=Math.max(ne,w.currentTime),Xe});return w.currentTime=ne,{type:3,steps:se,options:ao(y.options)}}visitAnimate(y,w){const L=function yr($,y){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return Mo(li($,y).duration,0,"");const w=$;if(w.split(/\s+/).some(se=>"{"==se.charAt(0)&&"{"==se.charAt(1))){const se=Mo(0,0,"");return se.dynamic=!0,se.strValue=w,se}const ne=li(w,y);return Mo(ne.duration,ne.delay,ne.easing)}(y.timings,w.errors);w.currentAnimateTimings=L;let ne,se=y.styles?y.styles:(0,St.oB)({});if(5==se.type)ne=this.visitKeyframes(se,w);else{let Me=y.styles,Xe=!1;if(!Me){Xe=!0;const ke={};L.easing&&(ke.easing=L.easing),Me=(0,St.oB)(ke)}w.currentTime+=L.duration+L.delay;const $e=this.visitStyle(Me,w);$e.isEmptyStep=Xe,ne=$e}return w.currentAnimateTimings=null,{type:4,timings:L,style:ne,options:null}}visitStyle(y,w){const L=this._makeStyleAst(y,w);return this._validateStyleAst(L,w),L}_makeStyleAst(y,w){const L=[],ne=Array.isArray(y.styles)?y.styles:[y.styles];for(let Xe of ne)"string"==typeof Xe?Xe===St.l3?L.push(Xe):w.errors.push(new g.vHH(3002,!1)):L.push(oe(Xe));let se=!1,Me=null;return L.forEach(Xe=>{if(Xe instanceof Map&&(Xe.has("easing")&&(Me=Xe.get("easing"),Xe.delete("easing")),!se))for(let $e of Xe.values())if($e.toString().indexOf("{{")>=0){se=!0;break}}),{type:6,styles:L,easing:Me,offset:y.offset,containsDynamicStyles:se,options:null}}_validateStyleAst(y,w){const L=w.currentAnimateTimings;let ne=w.currentTime,se=w.currentTime;L&&se>0&&(se-=L.duration+L.delay),y.styles.forEach(Me=>{"string"!=typeof Me&&Me.forEach((Xe,$e)=>{const ke=w.collectedStyles.get(w.currentQuerySelector),Ct=ke.get($e);let An=!0;Ct&&(se!=ne&&se>=Ct.startTime&&ne<=Ct.endTime&&(w.errors.push(function Je($,y,w,L,ne){return new g.vHH(3010,!1)}()),An=!1),se=Ct.startTime),An&&ke.set($e,{startTime:se,endTime:ne}),w.options&&function et($,y,w){const L=y.params||{},ne=on($);ne.length&&ne.forEach(se=>{L.hasOwnProperty(se)||w.push(function Tt($){return new g.vHH(3001,!1)}())})}(Xe,w.options,w.errors)})})}visitKeyframes(y,w){const L={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function wn(){return new g.vHH(3011,!1)}()),L;let se=0;const Me=[];let Xe=!1,$e=!1,ke=0;const Ct=y.steps.map(Yi=>{const Pr=this._makeStyleAst(Yi,w);let vo=null!=Pr.offset?Pr.offset:function nr($){if("string"==typeof $)return null;let y=null;if(Array.isArray($))$.forEach(w=>{if(w instanceof Map&&w.has("offset")){const L=w;y=parseFloat(L.get("offset")),L.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const w=$;y=parseFloat(w.get("offset")),w.delete("offset")}return y}(Pr.styles),ro=0;return null!=vo&&(se++,ro=Pr.offset=vo),$e=$e||ro<0||ro>1,Xe=Xe||ro<ke,ke=ro,Me.push(ro),Pr});$e&&w.errors.push(function ht(){return new g.vHH(3012,!1)}()),Xe&&w.errors.push(function En(){return new g.vHH(3200,!1)}());const An=y.steps.length;let Vi=0;se>0&&se<An?w.errors.push(function Bt(){return new g.vHH(3202,!1)}()):0==se&&(Vi=1/(An-1));const $i=An-1,bi=w.currentTime,Ai=w.currentAnimateTimings,or=Ai.duration;return Ct.forEach((Yi,Pr)=>{const vo=Vi>0?Pr==$i?1:Vi*Pr:Me[Pr],ro=vo*or;w.currentTime=bi+Ai.delay+ro,Ai.duration=ro,this._validateStyleAst(Yi,w),Yi.offset=vo,L.styles.push(Yi)}),L}visitReference(y,w){return{type:8,animation:dr(this,De(y.animation),w),options:ao(y.options)}}visitAnimateChild(y,w){return w.depCount++,{type:9,options:ao(y.options)}}visitAnimateRef(y,w){return{type:10,animation:this.visitReference(y.animation,w),options:ao(y.options)}}visitQuery(y,w){const L=w.currentQuerySelector,ne=y.options||{};w.queryCount++,w.currentQuery=y;const[se,Me]=function wr($){const y=!!$.split(/\s*,\s*/).find(w=>":self"==w);return y&&($=$.replace(ci,"")),$=$.replace(/@\*/g,It).replace(/@\w+/g,w=>It+"-"+w.slice(1)).replace(/:animating/g,dn),[$,y]}(y.selector);w.currentQuerySelector=L.length?L+" "+se:se,Lt(w.collectedStyles,w.currentQuerySelector,new Map);const Xe=dr(this,De(y.animation),w);return w.currentQuery=null,w.currentQuerySelector=L,{type:11,selector:se,limit:ne.limit||0,optional:!!ne.optional,includeSelf:Me,animation:Xe,originalSelector:y.selector,options:ao(y.options)}}visitStagger(y,w){w.currentQuery||w.errors.push(function mn(){return new g.vHH(3013,!1)}());const L="full"===y.timings?{duration:0,delay:0,easing:"full"}:li(y.timings,w.errors,!0);return{type:12,animation:dr(this,De(y.animation),w),timings:L,options:null}}}class tr{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ao($){return $?($=ft($)).params&&($.params=function yo($){return $?ft($):null}($.params)):$={},$}function Mo($,y,w){return{duration:$,delay:y,easing:w}}function Yr($,y,w,L,ne,se,Me=null,Xe=!1){return{type:1,element:$,keyframes:y,preStyleProps:w,postStyleProps:L,duration:ne,delay:se,totalTime:ne+se,easing:Me,subTimeline:Xe}}class rs{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,w){let L=this._map.get(y);L||this._map.set(y,L=[]),L.push(...w)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const ds=new RegExp(":enter","g"),Ao=new RegExp(":leave","g");function Qr($,y,w,L,ne,se=new Map,Me=new Map,Xe,$e,ke=[]){return(new Ia).buildKeyframes($,y,w,L,ne,se,Me,Xe,$e,ke)}class Ia{buildKeyframes(y,w,L,ne,se,Me,Xe,$e,ke,Ct=[]){ke=ke||new rs;const An=new Ur(y,w,ke,ne,se,Ct,[]);An.options=$e;const Vi=$e.delay?Mn($e.delay):0;An.currentTimeline.delayNextStep(Vi),An.currentTimeline.setStyles([Me],null,An.errors,$e),dr(this,L,An);const $i=An.timelines.filter(bi=>bi.containsAnimation());if($i.length&&Xe.size){let bi;for(let Ai=$i.length-1;Ai>=0;Ai--){const or=$i[Ai];if(or.element===w){bi=or;break}}bi&&!bi.allowOnlyTimelineStyles()&&bi.setStyles([Xe],null,An.errors,$e)}return $i.length?$i.map(bi=>bi.buildKeyframes()):[Yr(w,[],[],[],0,Vi,"",!1)]}visitTrigger(y,w){}visitState(y,w){}visitTransition(y,w){}visitAnimateChild(y,w){const L=w.subInstructions.get(w.element);if(L){const ne=w.createSubContext(y.options),se=w.currentTimeline.currentTime,Me=this._visitSubInstructions(L,ne,ne.options);se!=Me&&w.transformIntoNewTimeline(Me)}w.previousNode=y}visitAnimateRef(y,w){const L=w.createSubContext(y.options);L.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],w,L),this.visitReference(y.animation,L),w.transformIntoNewTimeline(L.currentTimeline.currentTime),w.previousNode=y}_applyAnimationRefDelays(y,w,L){for(const ne of y){const se=ne?.delay;if(se){const Me="number"==typeof se?se:Mn(Cn(se,ne?.params??{},w.errors));L.delayNextStep(Me)}}}_visitSubInstructions(y,w,L){let se=w.currentTimeline.currentTime;const Me=null!=L.duration?Mn(L.duration):null,Xe=null!=L.delay?Mn(L.delay):null;return 0!==Me&&y.forEach($e=>{const ke=w.appendInstructionToTimeline($e,Me,Xe);se=Math.max(se,ke.duration+ke.delay)}),se}visitReference(y,w){w.updateOptions(y.options,!0),dr(this,y.animation,w),w.previousNode=y}visitSequence(y,w){const L=w.subContextCount;let ne=w;const se=y.options;if(se&&(se.params||se.delay)&&(ne=w.createSubContext(se),ne.transformIntoNewTimeline(),null!=se.delay)){6==ne.previousNode.type&&(ne.currentTimeline.snapshotCurrentStyles(),ne.previousNode=Bo);const Me=Mn(se.delay);ne.delayNextStep(Me)}y.steps.length&&(y.steps.forEach(Me=>dr(this,Me,ne)),ne.currentTimeline.applyStylesToKeyframe(),ne.subContextCount>L&&ne.transformIntoNewTimeline()),w.previousNode=y}visitGroup(y,w){const L=[];let ne=w.currentTimeline.currentTime;const se=y.options&&y.options.delay?Mn(y.options.delay):0;y.steps.forEach(Me=>{const Xe=w.createSubContext(y.options);se&&Xe.delayNextStep(se),dr(this,Me,Xe),ne=Math.max(ne,Xe.currentTimeline.currentTime),L.push(Xe.currentTimeline)}),L.forEach(Me=>w.currentTimeline.mergeTimelineCollectedStyles(Me)),w.transformIntoNewTimeline(ne),w.previousNode=y}_visitTiming(y,w){if(y.dynamic){const L=y.strValue;return li(w.params?Cn(L,w.params,w.errors):L,w.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,w){const L=w.currentAnimateTimings=this._visitTiming(y.timings,w),ne=w.currentTimeline;L.delay&&(w.incrementTime(L.delay),ne.snapshotCurrentStyles());const se=y.style;5==se.type?this.visitKeyframes(se,w):(w.incrementTime(L.duration),this.visitStyle(se,w),ne.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=y}visitStyle(y,w){const L=w.currentTimeline,ne=w.currentAnimateTimings;!ne&&L.hasCurrentStyleProperties()&&L.forwardFrame();const se=ne&&ne.easing||y.easing;y.isEmptyStep?L.applyEmptyStep(se):L.setStyles(y.styles,se,w.errors,w.options),w.previousNode=y}visitKeyframes(y,w){const L=w.currentAnimateTimings,ne=w.currentTimeline.duration,se=L.duration,Xe=w.createSubContext().currentTimeline;Xe.easing=L.easing,y.styles.forEach($e=>{Xe.forwardTime(($e.offset||0)*se),Xe.setStyles($e.styles,$e.easing,w.errors,w.options),Xe.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Xe),w.transformIntoNewTimeline(ne+se),w.previousNode=y}visitQuery(y,w){const L=w.currentTimeline.currentTime,ne=y.options||{},se=ne.delay?Mn(ne.delay):0;se&&(6===w.previousNode.type||0==L&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Bo);let Me=L;const Xe=w.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!ne.optional,w.errors);w.currentQueryTotal=Xe.length;let $e=null;Xe.forEach((ke,Ct)=>{w.currentQueryIndex=Ct;const An=w.createSubContext(y.options,ke);se&&An.delayNextStep(se),ke===w.element&&($e=An.currentTimeline),dr(this,y.animation,An),An.currentTimeline.applyStylesToKeyframe(),Me=Math.max(Me,An.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Me),$e&&(w.currentTimeline.mergeTimelineCollectedStyles($e),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=y}visitStagger(y,w){const L=w.parentContext,ne=w.currentTimeline,se=y.timings,Me=Math.abs(se.duration),Xe=Me*(w.currentQueryTotal-1);let $e=Me*w.currentQueryIndex;switch(se.duration<0?"reverse":se.easing){case"reverse":$e=Xe-$e;break;case"full":$e=L.currentStaggerTime}const Ct=w.currentTimeline;$e&&Ct.delayNextStep($e);const An=Ct.currentTime;dr(this,y.animation,w),w.previousNode=y,L.currentStaggerTime=ne.currentTime-An+(ne.startTime-L.currentTimeline.startTime)}}const Bo={};class Ur{constructor(y,w,L,ne,se,Me,Xe,$e){this._driver=y,this.element=w,this.subInstructions=L,this._enterClassName=ne,this._leaveClassName=se,this.errors=Me,this.timelines=Xe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=$e||new Uo(this._driver,w,0),Xe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,w){if(!y)return;const L=y;let ne=this.options;null!=L.duration&&(ne.duration=Mn(L.duration)),null!=L.delay&&(ne.delay=Mn(L.delay));const se=L.params;if(se){let Me=ne.params;Me||(Me=this.options.params={}),Object.keys(se).forEach(Xe=>{(!w||!Me.hasOwnProperty(Xe))&&(Me[Xe]=Cn(se[Xe],Me,this.errors))})}}_copyOptions(){const y={};if(this.options){const w=this.options.params;if(w){const L=y.params={};Object.keys(w).forEach(ne=>{L[ne]=w[ne]})}}return y}createSubContext(y=null,w,L){const ne=w||this.element,se=new Ur(this._driver,ne,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ne,L||0));return se.previousNode=this.previousNode,se.currentAnimateTimings=this.currentAnimateTimings,se.options=this._copyOptions(),se.updateOptions(y),se.currentQueryIndex=this.currentQueryIndex,se.currentQueryTotal=this.currentQueryTotal,se.parentContext=this,this.subContextCount++,se}transformIntoNewTimeline(y){return this.previousNode=Bo,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,w,L){const ne={duration:w??y.duration,delay:this.currentTimeline.currentTime+(L??0)+y.delay,easing:""},se=new ps(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,ne,y.stretchStartingKeyframe);return this.timelines.push(se),ne}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,w,L,ne,se,Me){let Xe=[];if(ne&&Xe.push(this.element),y.length>0){y=(y=y.replace(ds,"."+this._enterClassName)).replace(Ao,"."+this._leaveClassName);let ke=this._driver.query(this.element,y,1!=L);0!==L&&(ke=L<0?ke.slice(ke.length+L,ke.length):ke.slice(0,L)),Xe.push(...ke)}return!se&&0==Xe.length&&Me.push(function Ue($){return new g.vHH(3014,!1)}()),Xe}}class Uo{constructor(y,w,L,ne){this._driver=y,this.element=w,this.startTime=L,this._elementTimelineStylesLookup=ne,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+y),w&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,w){return this.applyStylesToKeyframe(),new Uo(this._driver,y,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,w){this._localTimelineStyles.set(y,w),this._globalTimelineStyles.set(y,w),this._styleSummary.set(y,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[w,L]of this._globalTimelineStyles)this._backFill.set(w,L||St.l3),this._currentKeyframe.set(w,St.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,w,L,ne){w&&this._previousKeyframe.set("easing",w);const se=ne&&ne.params||{},Me=function Js($,y){const w=new Map;let L;return $.forEach(ne=>{if("*"===ne){L=L||y.keys();for(let se of L)w.set(se,St.l3)}else ot(ne,w)}),w}(y,this._globalTimelineStyles);for(let[Xe,$e]of Me){const ke=Cn($e,se,L);this._pendingStyles.set(Xe,ke),this._localTimelineStyles.has(Xe)||this._backFill.set(Xe,this._globalTimelineStyles.get(Xe)??St.l3),this._updateStyle(Xe,ke)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,w)=>{this._currentKeyframe.set(w,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,y)}))}snapshotCurrentStyles(){for(let[y,w]of this._localTimelineStyles)this._pendingStyles.set(y,w),this._updateStyle(y,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let w in this._currentKeyframe)y.push(w);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((w,L)=>{const ne=this._styleSummary.get(L);(!ne||w.time>ne.time)&&this._updateStyle(L,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,w=new Set,L=1===this._keyframes.size&&0===this.duration;let ne=[];this._keyframes.forEach((Xe,$e)=>{const ke=ot(Xe,new Map,this._backFill);ke.forEach((Ct,An)=>{Ct===St.k1?y.add(An):Ct===St.l3&&w.add(An)}),L||ke.set("offset",$e/this.duration),ne.push(ke)});const se=y.size?On(y.values()):[],Me=w.size?On(w.values()):[];if(L){const Xe=ne[0],$e=new Map(Xe);Xe.set("offset",0),$e.set("offset",1),ne=[Xe,$e]}return Yr(this.element,ne,se,Me,this.duration,this.startTime,this.easing,!1)}}class ps extends Uo{constructor(y,w,L,ne,se,Me,Xe=!1){super(y,w,Me.delay),this.keyframes=L,this.preStyleProps=ne,this.postStyleProps=se,this._stretchStartingKeyframe=Xe,this.timings={duration:Me.duration,delay:Me.delay,easing:Me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:w,duration:L,easing:ne}=this.timings;if(this._stretchStartingKeyframe&&w){const se=[],Me=L+w,Xe=w/Me,$e=ot(y[0]);$e.set("offset",0),se.push($e);const ke=ot(y[0]);ke.set("offset",Vo(Xe)),se.push(ke);const Ct=y.length-1;for(let An=1;An<=Ct;An++){let Vi=ot(y[An]);const $i=Vi.get("offset");Vi.set("offset",Vo((w+$i*L)/Me)),se.push(Vi)}L=Me,w=0,ne="",y=se}return Yr(this.element,y,this.preStyleProps,this.postStyleProps,L,w,ne,!0)}}function Vo($,y=3){const w=Math.pow(10,y-1);return Math.round($*w)/w}class Ir{}const lo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ss extends Ir{normalizePropertyName(y,w){return Si(y)}normalizeStyleValue(y,w,L,ne){let se="";const Me=L.toString().trim();if(lo.has(w)&&0!==L&&"0"!==L)if("number"==typeof L)se="px";else{const Xe=L.match(/^[+-]?[\d\.]+([a-z]*)$/);Xe&&0==Xe[1].length&&ne.push(function kt($,y){return new g.vHH(3005,!1)}())}return Me+se}}function os($,y,w,L,ne,se,Me,Xe,$e,ke,Ct,An,Vi){return{type:0,element:$,triggerName:y,isRemovalTransition:ne,fromState:w,fromStyles:se,toState:L,toStyles:Me,timelines:Xe,queriedElements:$e,preStyleProps:ke,postStyleProps:Ct,totalTime:An,errors:Vi}}const ss={};class ms{constructor(y,w,L){this._triggerName=y,this.ast=w,this._stateStyles=L}match(y,w,L,ne){return function ea($,y,w,L,ne){return $.some(se=>se(y,w,L,ne))}(this.ast.matchers,y,w,L,ne)}buildStyles(y,w,L){let ne=this._stateStyles.get("*");return void 0!==y&&(ne=this._stateStyles.get(y?.toString())||ne),ne?ne.buildStyles(w,L):new Map}build(y,w,L,ne,se,Me,Xe,$e,ke,Ct){const An=[],Vi=this.ast.options&&this.ast.options.params||ss,bi=this.buildStyles(L,Xe&&Xe.params||ss,An),Ai=$e&&$e.params||ss,or=this.buildStyles(ne,Ai,An),Yi=new Set,Pr=new Map,vo=new Map,ro="void"===ne,Os={params:Ms(Ai,Vi),delay:this.ast.options?.delay},Or=Ct?[]:Qr(y,w,this.ast.animation,se,Me,bi,or,Os,ke,An);let Fn=0;if(Or.forEach(ls=>{Fn=Math.max(ls.duration+ls.delay,Fn)}),An.length)return os(w,this._triggerName,L,ne,ro,bi,or,[],[],Pr,vo,Fn,An);Or.forEach(ls=>{const cr=ls.element,ri=Lt(Pr,cr,new Set);ls.preStyleProps.forEach(Ei=>ri.add(Ei));const ys=Lt(vo,cr,new Set);ls.postStyleProps.forEach(Ei=>ys.add(Ei)),cr!==w&&Yi.add(cr)});const bo=On(Yi.values());return os(w,this._triggerName,L,ne,ro,bi,or,Or,bo,Pr,vo,Fn)}}function Ms($,y){const w=ft(y);for(const L in $)$.hasOwnProperty(L)&&null!=$[L]&&(w[L]=$[L]);return w}class Xr{constructor(y,w,L){this.styles=y,this.defaultParams=w,this.normalizer=L}buildStyles(y,w){const L=new Map,ne=ft(this.defaultParams);return Object.keys(y).forEach(se=>{const Me=y[se];null!==Me&&(ne[se]=Me)}),this.styles.styles.forEach(se=>{"string"!=typeof se&&se.forEach((Me,Xe)=>{Me&&(Me=Cn(Me,ne,w));const $e=this.normalizer.normalizePropertyName(Xe,w);Me=this.normalizer.normalizeStyleValue(Xe,$e,Me,w),L.set(Xe,Me)})}),L}}class Ar{constructor(y,w,L){this.name=y,this.ast=w,this._normalizer=L,this.transitionFactories=[],this.states=new Map,w.states.forEach(ne=>{this.states.set(ne.name,new Xr(ne.style,ne.options&&ne.options.params||{},L))}),qo(this.states,"true","1"),qo(this.states,"false","0"),w.transitions.forEach(ne=>{this.transitionFactories.push(new ms(y,ne,this.states))}),this.fallbackTransition=function Vr($,y,w){return new ms($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Me,Xe)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,w,L,ne){return this.transitionFactories.find(Me=>Me.match(y,w,L,ne))||null}matchStyles(y,w,L){return this.fallbackTransition.buildStyles(y,w,L)}}function qo($,y,w){$.has(y)?$.has(w)||$.set(w,$.get(y)):$.has(w)&&$.set(y,$.get(w))}const vr=new rs;class Cr{constructor(y,w,L){this.bodyNode=y,this._driver=w,this._normalizer=L,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,w){const L=[],ne=[],se=yi(this._driver,w,L,ne);if(L.length)throw function rn($){return new g.vHH(3503,!1)}();this._animations.set(y,se)}_buildPlayer(y,w,L){const ne=y.element,se=Rn(0,this._normalizer,0,y.keyframes,w,L);return this._driver.animate(ne,se,y.duration,y.delay,y.easing,[],!0)}create(y,w,L={}){const ne=[],se=this._animations.get(y);let Me;const Xe=new Map;if(se?(Me=Qr(this._driver,w,se,tn,In,new Map,new Map,L,vr,ne),Me.forEach(Ct=>{const An=Lt(Xe,Ct.element,new Map);Ct.postStyleProps.forEach(Vi=>An.set(Vi,null))})):(ne.push(function Zn(){return new g.vHH(3300,!1)}()),Me=[]),ne.length)throw function hi($){return new g.vHH(3504,!1)}();Xe.forEach((Ct,An)=>{Ct.forEach((Vi,$i)=>{Ct.set($i,this._driver.computeStyle(An,$i,St.l3))})});const ke=$n(Me.map(Ct=>{const An=Xe.get(Ct.element);return this._buildPlayer(Ct,new Map,An)}));return this._playersById.set(y,ke),ke.onDestroy(()=>this.destroy(y)),this.players.push(ke),ke}destroy(y){const w=this._getPlayer(y);w.destroy(),this._playersById.delete(y);const L=this.players.indexOf(w);L>=0&&this.players.splice(L,1)}_getPlayer(y){const w=this._playersById.get(y);if(!w)throw function Qn($){return new g.vHH(3301,!1)}();return w}listen(y,w,L,ne){const se=ti(w,"","","");return Mi(this._getPlayer(y),L,se,ne),()=>{}}command(y,w,L,ne){if("register"==L)return void this.register(y,ne[0]);if("create"==L)return void this.create(y,w,ne[0]||{});const se=this._getPlayer(y);switch(L){case"play":se.play();break;case"pause":se.pause();break;case"reset":se.reset();break;case"restart":se.restart();break;case"finish":se.finish();break;case"init":se.init();break;case"setPosition":se.setPosition(parseFloat(ne[0]));break;case"destroy":this.destroy(y)}}}const Ro="ng-animate-queued",Vs="ng-animate-disabled",As=[],mo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ho={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mr="__ng_removed";class Yo{get params(){return this.options.params}constructor(y,w=""){this.namespaceId=w;const L=y&&y.hasOwnProperty("value");if(this.value=function j($){return $??null}(L?y.value:y),L){const se=ft(y);delete se.value,this.options=se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const w=y.params;if(w){const L=this.options.params;Object.keys(w).forEach(ne=>{null==L[ne]&&(L[ne]=w[ne])})}}}const $r="void",mi=new Yo($r);class Qo{constructor(y,w,L){this.id=y,this.hostElement=w,this._engine=L,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Xn(w,this._hostClassName)}listen(y,w,L,ne){if(!this._triggers.has(w))throw function Ii($,y){return new g.vHH(3302,!1)}();if(null==L||0==L.length)throw function _i($){return new g.vHH(3303,!1)}();if(!function dt($){return"start"==$||"done"==$}(L))throw function di($,y){return new g.vHH(3400,!1)}();const se=Lt(this._elementListeners,y,[]),Me={name:w,phase:L,callback:ne};se.push(Me);const Xe=Lt(this._engine.statesByElement,y,new Map);return Xe.has(w)||(Xn(y,ei),Xn(y,ei+"-"+w),Xe.set(w,mi)),()=>{this._engine.afterFlush(()=>{const $e=se.indexOf(Me);$e>=0&&se.splice($e,1),this._triggers.has(w)||Xe.delete(w)})}}register(y,w){return!this._triggers.has(y)&&(this._triggers.set(y,w),!0)}_getTrigger(y){const w=this._triggers.get(y);if(!w)throw function Dn($){return new g.vHH(3401,!1)}();return w}trigger(y,w,L,ne=!0){const se=this._getTrigger(w),Me=new _(this.id,w,y);let Xe=this._engine.statesByElement.get(y);Xe||(Xn(y,ei),Xn(y,ei+"-"+w),this._engine.statesByElement.set(y,Xe=new Map));let $e=Xe.get(w);const ke=new Yo(L,this.id);if(!(L&&L.hasOwnProperty("value"))&&$e&&ke.absorbOptions($e.options),Xe.set(w,ke),$e||($e=mi),ke.value!==$r&&$e.value===ke.value){if(!function zi($,y){const w=Object.keys($),L=Object.keys(y);if(w.length!=L.length)return!1;for(let ne=0;ne<w.length;ne++){const se=w[ne];if(!y.hasOwnProperty(se)||$[se]!==y[se])return!1}return!0}($e.params,ke.params)){const Ai=[],or=se.matchStyles($e.value,$e.params,Ai),Yi=se.matchStyles(ke.value,ke.params,Ai);Ai.length?this._engine.reportError(Ai):this._engine.afterFlush(()=>{te(y,or),we(y,Yi)})}return}const Vi=Lt(this._engine.playersByElement,y,[]);Vi.forEach(Ai=>{Ai.namespaceId==this.id&&Ai.triggerName==w&&Ai.queued&&Ai.destroy()});let $i=se.matchTransition($e.value,ke.value,y,ke.params),bi=!1;if(!$i){if(!ne)return;$i=se.fallbackTransition,bi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:w,transition:$i,fromState:$e,toState:ke,player:Me,isFallbackTransition:bi}),bi||(Xn(y,Ro),Me.onStart(()=>{vi(y,Ro)})),Me.onDone(()=>{let Ai=this.players.indexOf(Me);Ai>=0&&this.players.splice(Ai,1);const or=this._engine.playersByElement.get(y);if(or){let Yi=or.indexOf(Me);Yi>=0&&or.splice(Yi,1)}}),this.players.push(Me),Vi.push(Me),Me}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(w=>w.delete(y)),this._elementListeners.forEach((w,L)=>{this._elementListeners.set(L,w.filter(ne=>ne.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const w=this._engine.playersByElement.get(y);w&&(w.forEach(L=>L.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,w){const L=this._engine.driver.query(y,It,!0);L.forEach(ne=>{if(ne[mr])return;const se=this._engine.fetchNamespacesByElement(ne);se.size?se.forEach(Me=>Me.triggerLeaveAnimation(ne,w,!1,!0)):this.clearElementCache(ne)}),this._engine.afterFlushAnimationsDone(()=>L.forEach(ne=>this.clearElementCache(ne)))}triggerLeaveAnimation(y,w,L,ne){const se=this._engine.statesByElement.get(y),Me=new Map;if(se){const Xe=[];if(se.forEach(($e,ke)=>{if(Me.set(ke,$e.value),this._triggers.has(ke)){const Ct=this.trigger(y,ke,$r,ne);Ct&&Xe.push(Ct)}}),Xe.length)return this._engine.markElementAsRemoved(this.id,y,!0,w,Me),L&&$n(Xe).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const w=this._elementListeners.get(y),L=this._engine.statesByElement.get(y);if(w&&L){const ne=new Set;w.forEach(se=>{const Me=se.name;if(ne.has(Me))return;ne.add(Me);const $e=this._triggers.get(Me).fallbackTransition,ke=L.get(Me)||mi,Ct=new Yo($r),An=new _(this.id,Me,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Me,transition:$e,fromState:ke,toState:Ct,player:An,isFallbackTransition:!0})})}}removeNode(y,w){const L=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,w),this.triggerLeaveAnimation(y,w,!0))return;let ne=!1;if(L.totalAnimations){const se=L.players.length?L.playersByQueriedElement.get(y):[];if(se&&se.length)ne=!0;else{let Me=y;for(;Me=Me.parentNode;)if(L.statesByElement.get(Me)){ne=!0;break}}}if(this.prepareLeaveAnimationListeners(y),ne)L.markElementAsRemoved(this.id,y,!1,w);else{const se=y[mr];(!se||se===mo)&&(L.afterFlush(()=>this.clearElementCache(y)),L.destroyInnerAnimations(y),L._onRemovalComplete(y,w))}}insertNode(y,w){Xn(y,this._hostClassName)}drainQueuedTransitions(y){const w=[];return this._queue.forEach(L=>{const ne=L.player;if(ne.destroyed)return;const se=L.element,Me=this._elementListeners.get(se);Me&&Me.forEach(Xe=>{if(Xe.name==L.triggerName){const $e=ti(se,L.triggerName,L.fromState.value,L.toState.value);$e._data=y,Mi(L.player,Xe.phase,$e,Xe.callback)}}),ne.markedForDestroy?this._engine.afterFlush(()=>{ne.destroy()}):w.push(L)}),this._queue=[],w.sort((L,ne)=>{const se=L.transition.ast.depCount,Me=ne.transition.ast.depCount;return 0==se||0==Me?se-Me:this._engine.driver.containsElement(L.element,ne.element)?1:-1})}destroy(y){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let w=!1;return this._elementListeners.has(y)&&(w=!0),w=!!this._queue.find(L=>L.element===y)||w,w}}class v{_onRemovalComplete(y,w){this.onRemovalComplete(y,w)}constructor(y,w,L){this.bodyNode=y,this.driver=w,this._normalizer=L,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ne,se)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(w=>{w.players.forEach(L=>{L.queued&&y.push(L)})}),y}createNamespace(y,w){const L=new Qo(y,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(L,w):(this.newHostElements.set(w,L),this.collectEnterElement(w)),this._namespaceLookup[y]=L}_balanceNamespaceList(y,w){const L=this._namespaceList,ne=this.namespacesByHostElement;if(L.length-1>=0){let Me=!1,Xe=this.driver.getParentElement(w);for(;Xe;){const $e=ne.get(Xe);if($e){const ke=L.indexOf($e);L.splice(ke+1,0,y),Me=!0;break}Xe=this.driver.getParentElement(Xe)}Me||L.unshift(y)}else L.push(y);return ne.set(w,y),y}register(y,w){let L=this._namespaceLookup[y];return L||(L=this.createNamespace(y,w)),L}registerTrigger(y,w,L){let ne=this._namespaceLookup[y];ne&&ne.register(w,L)&&this.totalAnimations++}destroy(y,w){if(!y)return;const L=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(L.hostElement),delete this._namespaceLookup[y];const ne=this._namespaceList.indexOf(L);ne>=0&&this._namespaceList.splice(ne,1)}),this.afterFlushAnimationsDone(()=>L.destroy(w))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const w=new Set,L=this.statesByElement.get(y);if(L)for(let ne of L.values())if(ne.namespaceId){const se=this._fetchNamespace(ne.namespaceId);se&&w.add(se)}return w}trigger(y,w,L,ne){if(_e(w)){const se=this._fetchNamespace(y);if(se)return se.trigger(w,L,ne),!0}return!1}insertNode(y,w,L,ne){if(!_e(w))return;const se=w[mr];if(se&&se.setForRemoval){se.setForRemoval=!1,se.setForMove=!0;const Me=this.collectedLeaveElements.indexOf(w);Me>=0&&this.collectedLeaveElements.splice(Me,1)}if(y){const Me=this._fetchNamespace(y);Me&&Me.insertNode(w,L)}ne&&this.collectEnterElement(w)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,w){w?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Xn(y,Vs)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),vi(y,Vs))}removeNode(y,w,L,ne){if(_e(w)){const se=y?this._fetchNamespace(y):null;if(se?se.removeNode(w,ne):this.markElementAsRemoved(y,w,!1,ne),L){const Me=this.namespacesByHostElement.get(w);Me&&Me.id!==y&&Me.removeNode(w,ne)}}else this._onRemovalComplete(w,ne)}markElementAsRemoved(y,w,L,ne,se){this.collectedLeaveElements.push(w),w[mr]={namespaceId:y,setForRemoval:ne,hasAnimation:L,removedBeforeQueried:!1,previousTriggersValues:se}}listen(y,w,L,ne,se){return _e(w)?this._fetchNamespace(y).listen(w,L,ne,se):()=>{}}_buildInstruction(y,w,L,ne,se){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,L,ne,y.fromState.options,y.toState.options,w,se)}destroyInnerAnimations(y){let w=this.driver.query(y,It,!0);w.forEach(L=>this.destroyActiveAnimationsForElement(L)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(y,dn,!0),w.forEach(L=>this.finishActiveQueriedAnimationOnElement(L)))}destroyActiveAnimationsForElement(y){const w=this.playersByElement.get(y);w&&w.forEach(L=>{L.queued?L.markedForDestroy=!0:L.destroy()})}finishActiveQueriedAnimationOnElement(y){const w=this.playersByQueriedElement.get(y);w&&w.forEach(L=>L.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return $n(this.players).onDone(()=>y());y()})}processLeaveNode(y){const w=y[mr];if(w&&w.setForRemoval){if(y[mr]=mo,w.namespaceId){this.destroyInnerAnimations(y);const L=this._fetchNamespace(w.namespaceId);L&&L.clearElementCache(y)}this._onRemovalComplete(y,w.setForRemoval)}y.classList?.contains(Vs)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(L=>{this.markElementAsDisabled(L,!1)})}flush(y=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((L,ne)=>this._balanceNamespaceList(L,ne)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let L=0;L<this.collectedEnterElements.length;L++)Xn(this.collectedEnterElements[L],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const L=[];try{w=this._flushAnimations(L,y)}finally{for(let ne=0;ne<L.length;ne++)L[ne]()}}else for(let L=0;L<this.collectedLeaveElements.length;L++)this.processLeaveNode(this.collectedLeaveElements[L]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(L=>L()),this._flushFns=[],this._whenQuietFns.length){const L=this._whenQuietFns;this._whenQuietFns=[],w.length?$n(w).onDone(()=>{L.forEach(ne=>ne())}):L.forEach(ne=>ne())}}reportError(y){throw function Ln($){return new g.vHH(3402,!1)}()}_flushAnimations(y,w){const L=new rs,ne=[],se=new Map,Me=[],Xe=new Map,$e=new Map,ke=new Map,Ct=new Set;this.disabledNodes.forEach(en=>{Ct.add(en);const Jn=this.driver.query(en,".ng-animate-queued",!0);for(let wi=0;wi<Jn.length;wi++)Ct.add(Jn[wi])});const An=this.bodyNode,Vi=Array.from(this.statesByElement.keys()),$i=pn(Vi,this.collectedEnterElements),bi=new Map;let Ai=0;$i.forEach((en,Jn)=>{const wi=tn+Ai++;bi.set(Jn,wi),en.forEach(Ti=>Xn(Ti,wi))});const or=[],Yi=new Set,Pr=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const Jn=this.collectedLeaveElements[en],wi=Jn[mr];wi&&wi.setForRemoval&&(or.push(Jn),Yi.add(Jn),wi.hasAnimation?this.driver.query(Jn,".ng-star-inserted",!0).forEach(Ti=>Yi.add(Ti)):Pr.add(Jn))}const vo=new Map,ro=pn(Vi,Array.from(Yi));ro.forEach((en,Jn)=>{const wi=In+Ai++;vo.set(Jn,wi),en.forEach(Ti=>Xn(Ti,wi))}),y.push(()=>{$i.forEach((en,Jn)=>{const wi=bi.get(Jn);en.forEach(Ti=>vi(Ti,wi))}),ro.forEach((en,Jn)=>{const wi=vo.get(Jn);en.forEach(Ti=>vi(Ti,wi))}),or.forEach(en=>{this.processLeaveNode(en)})});const Os=[],Or=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(w).forEach(wi=>{const Ti=wi.player,Eo=wi.element;if(Os.push(Ti),this.collectedEnterElements.length){const Fr=Eo[mr];if(Fr&&Fr.setForMove){if(Fr.previousTriggersValues&&Fr.previousTriggersValues.has(wi.triggerName)){const ts=Fr.previousTriggersValues.get(wi.triggerName),zo=this.statesByElement.get(wi.element);if(zo&&zo.has(wi.triggerName)){const _o=zo.get(wi.triggerName);_o.value=ts,zo.set(wi.triggerName,_o)}}return void Ti.destroy()}}const wo=!An||!this.driver.containsElement(An,Eo),kr=vo.get(Eo),ko=bi.get(Eo),Tr=this._buildInstruction(wi,L,ko,kr,wo);if(Tr.errors&&Tr.errors.length)return void Or.push(Tr);if(wo)return Ti.onStart(()=>te(Eo,Tr.fromStyles)),Ti.onDestroy(()=>we(Eo,Tr.toStyles)),void ne.push(Ti);if(wi.isFallbackTransition)return Ti.onStart(()=>te(Eo,Tr.fromStyles)),Ti.onDestroy(()=>we(Eo,Tr.toStyles)),void ne.push(Ti);const Ma=[];Tr.timelines.forEach(Fr=>{Fr.stretchStartingKeyframe=!0,this.disabledNodes.has(Fr.element)||Ma.push(Fr)}),Tr.timelines=Ma,L.append(Eo,Tr.timelines),Me.push({instruction:Tr,player:Ti,element:Eo}),Tr.queriedElements.forEach(Fr=>Lt(Xe,Fr,[]).push(Ti)),Tr.preStyleProps.forEach((Fr,ts)=>{if(Fr.size){let zo=$e.get(ts);zo||$e.set(ts,zo=new Set),Fr.forEach((_o,vs)=>zo.add(vs))}}),Tr.postStyleProps.forEach((Fr,ts)=>{let zo=ke.get(ts);zo||ke.set(ts,zo=new Set),Fr.forEach((_o,vs)=>zo.add(vs))})});if(Or.length){const en=[];Or.forEach(Jn=>{en.push(function Dt($,y){return new g.vHH(3505,!1)}())}),Os.forEach(Jn=>Jn.destroy()),this.reportError(en)}const Fn=new Map,bo=new Map;Me.forEach(en=>{const Jn=en.element;L.has(Jn)&&(bo.set(Jn,Jn),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,Fn))}),ne.forEach(en=>{const Jn=en.element;this._getPreviousPlayers(Jn,!1,en.namespaceId,en.triggerName,null).forEach(Ti=>{Lt(Fn,Jn,[]).push(Ti),Ti.destroy()})});const ls=or.filter(en=>co(en,$e,ke)),cr=new Map;ut(cr,this.driver,Pr,ke,St.l3).forEach(en=>{co(en,$e,ke)&&ls.push(en)});const ys=new Map;$i.forEach((en,Jn)=>{ut(ys,this.driver,new Set(en),$e,St.k1)}),ls.forEach(en=>{const Jn=cr.get(en),wi=ys.get(en);cr.set(en,new Map([...Array.from(Jn?.entries()??[]),...Array.from(wi?.entries()??[])]))});const Ei=[],Sa=[],Ri={};Me.forEach(en=>{const{element:Jn,player:wi,instruction:Ti}=en;if(L.has(Jn)){if(Ct.has(Jn))return wi.onDestroy(()=>we(Jn,Ti.toStyles)),wi.disabled=!0,wi.overrideTotalTime(Ti.totalTime),void ne.push(wi);let Eo=Ri;if(bo.size>1){let kr=Jn;const ko=[];for(;kr=kr.parentNode;){const Tr=bo.get(kr);if(Tr){Eo=Tr;break}ko.push(kr)}ko.forEach(Tr=>bo.set(Tr,Eo))}const wo=this._buildAnimation(wi.namespaceId,Ti,Fn,se,ys,cr);if(wi.setRealPlayer(wo),Eo===Ri)Ei.push(wi);else{const kr=this.playersByElement.get(Eo);kr&&kr.length&&(wi.parentPlayer=$n(kr)),ne.push(wi)}}else te(Jn,Ti.fromStyles),wi.onDestroy(()=>we(Jn,Ti.toStyles)),Sa.push(wi),Ct.has(Jn)&&ne.push(wi)}),Sa.forEach(en=>{const Jn=se.get(en.element);if(Jn&&Jn.length){const wi=$n(Jn);en.setRealPlayer(wi)}}),ne.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<or.length;en++){const Jn=or[en],wi=Jn[mr];if(vi(Jn,In),wi&&wi.hasAnimation)continue;let Ti=[];if(Xe.size){let wo=Xe.get(Jn);wo&&wo.length&&Ti.push(...wo);let kr=this.driver.query(Jn,dn,!0);for(let ko=0;ko<kr.length;ko++){let Tr=Xe.get(kr[ko]);Tr&&Tr.length&&Ti.push(...Tr)}}const Eo=Ti.filter(wo=>!wo.destroyed);Eo.length?ki(this,Jn,Eo):this.processLeaveNode(Jn)}return or.length=0,Ei.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const Jn=this.players.indexOf(en);this.players.splice(Jn,1)}),en.play()}),Ei}elementContainsData(y,w){let L=!1;const ne=w[mr];return ne&&ne.setForRemoval&&(L=!0),this.playersByElement.has(w)&&(L=!0),this.playersByQueriedElement.has(w)&&(L=!0),this.statesByElement.has(w)&&(L=!0),this._fetchNamespace(y).elementContainsData(w)||L}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,w,L,ne,se){let Me=[];if(w){const Xe=this.playersByQueriedElement.get(y);Xe&&(Me=Xe)}else{const Xe=this.playersByElement.get(y);if(Xe){const $e=!se||se==$r;Xe.forEach(ke=>{ke.queued||!$e&&ke.triggerName!=ne||Me.push(ke)})}}return(L||ne)&&(Me=Me.filter(Xe=>!(L&&L!=Xe.namespaceId||ne&&ne!=Xe.triggerName))),Me}_beforeAnimationBuild(y,w,L){const se=w.element,Me=w.isRemovalTransition?void 0:y,Xe=w.isRemovalTransition?void 0:w.triggerName;for(const $e of w.timelines){const ke=$e.element,Ct=ke!==se,An=Lt(L,ke,[]);this._getPreviousPlayers(ke,Ct,Me,Xe,w.toState).forEach($i=>{const bi=$i.getRealPlayer();bi.beforeDestroy&&bi.beforeDestroy(),$i.destroy(),An.push($i)})}te(se,w.fromStyles)}_buildAnimation(y,w,L,ne,se,Me){const Xe=w.triggerName,$e=w.element,ke=[],Ct=new Set,An=new Set,Vi=w.timelines.map(bi=>{const Ai=bi.element;Ct.add(Ai);const or=Ai[mr];if(or&&or.removedBeforeQueried)return new St.ZN(bi.duration,bi.delay);const Yi=Ai!==$e,Pr=function ir($){const y=[];return ar($,y),y}((L.get(Ai)||As).map(Fn=>Fn.getRealPlayer())).filter(Fn=>!!Fn.element&&Fn.element===Ai),vo=se.get(Ai),ro=Me.get(Ai),Os=Rn(0,this._normalizer,0,bi.keyframes,vo,ro),Or=this._buildPlayer(bi,Os,Pr);if(bi.subTimeline&&ne&&An.add(Ai),Yi){const Fn=new _(y,Xe,Ai);Fn.setRealPlayer(Or),ke.push(Fn)}return Or});ke.forEach(bi=>{Lt(this.playersByQueriedElement,bi.element,[]).push(bi),bi.onDone(()=>function C($,y,w){let L=$.get(y);if(L){if(L.length){const ne=L.indexOf(w);L.splice(ne,1)}0==L.length&&$.delete(y)}return L}(this.playersByQueriedElement,bi.element,bi))}),Ct.forEach(bi=>Xn(bi,Ot));const $i=$n(Vi);return $i.onDestroy(()=>{Ct.forEach(bi=>vi(bi,Ot)),we($e,w.toStyles)}),An.forEach(bi=>{Lt(ne,bi,[]).push($i)}),$i}_buildPlayer(y,w,L){return w.length>0?this.driver.animate(y.element,w,y.duration,y.delay,y.easing,L):new St.ZN(y.duration,y.delay)}}class _{constructor(y,w,L){this.namespaceId=y,this.triggerName=w,this.element=L,this._player=new St.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((w,L)=>{w.forEach(ne=>Mi(y,L,void 0,ne))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const w=this._player;w.triggerCallback&&y.onStart(()=>w.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,w){Lt(this._queuedCallbacks,y,[]).push(w)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const w=this._player;w.triggerCallback&&w.triggerCallback(y)}}function _e($){return $&&1===$.nodeType}function sn($,y){const w=$.style.display;return $.style.display=y??"none",w}function ut($,y,w,L,ne){const se=[];w.forEach($e=>se.push(sn($e)));const Me=[];L.forEach(($e,ke)=>{const Ct=new Map;$e.forEach(An=>{const Vi=y.computeStyle(ke,An,ne);Ct.set(An,Vi),(!Vi||0==Vi.length)&&(ke[mr]=Ho,Me.push(ke))}),$.set(ke,Ct)});let Xe=0;return w.forEach($e=>sn($e,se[Xe++])),Me}function pn($,y){const w=new Map;if($.forEach(Xe=>w.set(Xe,[])),0==y.length)return w;const L=1,ne=new Set(y),se=new Map;function Me(Xe){if(!Xe)return L;let $e=se.get(Xe);if($e)return $e;const ke=Xe.parentNode;return $e=w.has(ke)?ke:ne.has(ke)?L:Me(ke),se.set(Xe,$e),$e}return y.forEach(Xe=>{const $e=Me(Xe);$e!==L&&w.get($e).push(Xe)}),w}function Xn($,y){$.classList?.add(y)}function vi($,y){$.classList?.remove(y)}function ki($,y,w){$n(w).onDone(()=>$.processLeaveNode(y))}function ar($,y){for(let w=0;w<$.length;w++){const L=$[w];L instanceof St.ZE?ar(L.players,y):y.push(L)}}function co($,y,w){const L=w.get($);if(!L)return!1;let ne=y.get($);return ne?L.forEach(se=>ne.add(se)):y.set($,L),w.delete($),!0}class lr{constructor(y,w,L){this.bodyNode=y,this._driver=w,this._normalizer=L,this._triggerCache={},this.onRemovalComplete=(ne,se)=>{},this._transitionEngine=new v(y,w,L),this._timelineEngine=new Cr(y,w,L),this._transitionEngine.onRemovalComplete=(ne,se)=>this.onRemovalComplete(ne,se)}registerTrigger(y,w,L,ne,se){const Me=y+"-"+ne;let Xe=this._triggerCache[Me];if(!Xe){const $e=[],ke=[],Ct=yi(this._driver,se,$e,ke);if($e.length)throw function ct($,y){return new g.vHH(3404,!1)}();Xe=function Jr($,y,w){return new Ar($,y,w)}(ne,Ct,this._normalizer),this._triggerCache[Me]=Xe}this._transitionEngine.registerTrigger(w,ne,Xe)}register(y,w){this._transitionEngine.register(y,w)}destroy(y,w){this._transitionEngine.destroy(y,w)}onInsert(y,w,L,ne){this._transitionEngine.insertNode(y,w,L,ne)}onRemove(y,w,L,ne){this._transitionEngine.removeNode(y,w,ne||!1,L)}disableAnimations(y,w){this._transitionEngine.markElementAsDisabled(y,w)}process(y,w,L,ne){if("@"==L.charAt(0)){const[se,Me]=Ee(L);this._timelineEngine.command(se,w,Me,ne)}else this._transitionEngine.trigger(y,w,L,ne)}listen(y,w,L,ne,se){if("@"==L.charAt(0)){const[Me,Xe]=Ee(L);return this._timelineEngine.listen(Me,w,Xe,se)}return this._transitionEngine.listen(y,w,L,ne,se)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gr=(()=>{class ${constructor(w,L,ne){this._element=w,this._startStyles=L,this._endStyles=ne,this._state=0;let se=$.initialStylesByElement.get(w);se||$.initialStylesByElement.set(w,se=new Map),this._initialStyles=se}start(){this._state<1&&(this._startStyles&&we(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(we(this._element,this._initialStyles),this._endStyles&&(we(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(te(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(te(this._element,this._endStyles),this._endStyles=null),we(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function fr($){let y=null;return $.forEach((w,L)=>{(function Bi($){return"display"===$||"position"===$})(L)&&(y=y||new Map,y.set(L,w))}),y}class Hr{constructor(y,w,L,ne){this.element=y,this.keyframes=w,this.options=L,this._specialStyles=ne,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=L.duration,this._delay=L.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const w=[];return y.forEach(L=>{w.push(Object.fromEntries(L))}),w}_triggerWebAnimation(y,w,L){return y.animate(this._convertKeyframesToObject(w),L)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((L,ne)=>{"offset"!==ne&&y.set(ne,this._finished?L:zr(this.element,ne))}),this.currentSnapshot=y}triggerCallback(y){const w="start"===y?this._onStartFns:this._onDoneFns;w.forEach(L=>L()),w.length=0}}class Wr{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,w){return!1}containsElement(y,w){return ln(y,w)}getParentElement(y){return Qt(y)}query(y,w,L){return Qe(y,w,L)}computeStyle(y,w,L){return window.getComputedStyle(y)[w]}animate(y,w,L,ne,se,Me=[]){const $e={duration:L,delay:ne,fill:0==ne?"both":"forwards"};se&&($e.easing=se);const ke=new Map,Ct=Me.filter($i=>$i instanceof Hr);(function Yn($,y){return 0===$||0===y})(L,ne)&&Ct.forEach($i=>{$i.currentSnapshot.forEach((bi,Ai)=>ke.set(Ai,bi))});let An=function ee($){return $.length?$[0]instanceof Map?$:$.map(y=>oe(y)):[]}(w).map($i=>ot($i));An=function Mr($,y,w){if(w.size&&y.length){let L=y[0],ne=[];if(w.forEach((se,Me)=>{L.has(Me)||ne.push(Me),L.set(Me,se)}),ne.length)for(let se=1;se<y.length;se++){let Me=y[se];ne.forEach(Xe=>Me.set(Xe,zr($,Xe)))}}return y}(y,An,ke);const Vi=function as($,y){let w=null,L=null;return Array.isArray(y)&&y.length?(w=fr(y[0]),y.length>1&&(L=fr(y[y.length-1]))):y instanceof Map&&(w=fr(y)),w||L?new Gr($,w,L):null}(y,An);return new Hr(y,An,$e,Vi)}}let jo=(()=>{class $ extends St._j{constructor(w,L){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(L.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(w){const L=this._nextAnimationId.toString();this._nextAnimationId++;const ne=Array.isArray(w)?(0,St.vP)(w):w;return js(this._renderer,null,L,"register",[ne]),new Rr(L,this._renderer)}}return $.\u0275fac=function(w){return new(w||$)(g.LFG(g.FYo),g.LFG(ue.K0))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac}),$})();class Rr extends St.LC{constructor(y,w){super(),this._id=y,this._renderer=w}create(y,w){return new jr(this._id,y,w||{},this._renderer)}}class jr{constructor(y,w,L,ne){this.id=y,this.element=w,this._renderer=ne,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",L)}_listen(y,w){return this._renderer.listen(this.element,`@@${this.id}:${y}`,w)}_command(y,...w){return js(this._renderer,this.element,this.id,y,w)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function js($,y,w,L,ne){return $.setProperty(y,`@@${w}:${L}`,ne)}const ta="@.disabled";let eo=(()=>{class ${constructor(w,L,ne){this.delegate=w,this.engine=L,this._zone=ne,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),L.onRemovalComplete=(se,Me)=>{const Xe=Me?.parentNode(se);Xe&&Me.removeChild(Xe,se)}}createRenderer(w,L){const se=this.delegate.createRenderer(w,L);if(!(w&&L&&L.data&&L.data.animation)){let Ct=this._rendererCache.get(se);return Ct||(Ct=new Kr("",se,this.engine,()=>this._rendererCache.delete(se)),this._rendererCache.set(se,Ct)),Ct}const Me=L.id,Xe=L.id+"-"+this._currentId;this._currentId++,this.engine.register(Xe,w);const $e=Ct=>{Array.isArray(Ct)?Ct.forEach($e):this.engine.registerTrigger(Me,Xe,w,Ct.name,Ct)};return L.data.animation.forEach($e),new na(this,Xe,se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,L,ne){w>=0&&w<this._microtaskId?this._zone.run(()=>L(ne)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(se=>{const[Me,Xe]=se;Me(Xe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([L,ne]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(w){return new(w||$)(g.LFG(g.FYo),g.LFG(lr),g.LFG(g.R0b))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac}),$})();class Kr{constructor(y,w,L,ne){this.namespaceId=y,this.delegate=w,this.engine=L,this._onDestroy=ne,this.destroyNode=this.delegate.destroyNode?se=>w.destroyNode(se):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,w){return this.delegate.createElement(y,w)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,w){this.delegate.appendChild(y,w),this.engine.onInsert(this.namespaceId,w,y,!1)}insertBefore(y,w,L,ne=!0){this.delegate.insertBefore(y,w,L),this.engine.onInsert(this.namespaceId,w,y,ne)}removeChild(y,w,L){this.engine.onRemove(this.namespaceId,w,this.delegate,L)}selectRootElement(y,w){return this.delegate.selectRootElement(y,w)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,w,L,ne){this.delegate.setAttribute(y,w,L,ne)}removeAttribute(y,w,L){this.delegate.removeAttribute(y,w,L)}addClass(y,w){this.delegate.addClass(y,w)}removeClass(y,w){this.delegate.removeClass(y,w)}setStyle(y,w,L,ne){this.delegate.setStyle(y,w,L,ne)}removeStyle(y,w,L){this.delegate.removeStyle(y,w,L)}setProperty(y,w,L){"@"==w.charAt(0)&&w==ta?this.disableAnimations(y,!!L):this.delegate.setProperty(y,w,L)}setValue(y,w){this.delegate.setValue(y,w)}listen(y,w,L){return this.delegate.listen(y,w,L)}disableAnimations(y,w){this.engine.disableAnimations(y,w)}}class na extends Kr{constructor(y,w,L,ne,se){super(w,L,ne,se),this.factory=y,this.namespaceId=w}setProperty(y,w,L){"@"==w.charAt(0)?"."==w.charAt(1)&&w==ta?this.disableAnimations(y,L=void 0===L||!!L):this.engine.process(this.namespaceId,y,w.slice(1),L):this.delegate.setProperty(y,w,L)}listen(y,w,L){if("@"==w.charAt(0)){const ne=function Xi($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(y);let se=w.slice(1),Me="";return"@"!=se.charAt(0)&&([se,Me]=function ga($){const y=$.indexOf(".");return[$.substring(0,y),$.slice(y+1)]}(se)),this.engine.listen(this.namespaceId,ne,se,Me,Xe=>{this.factory.scheduleListenerCallback(Xe._data||-1,L,Xe)})}return this.delegate.listen(y,w,L)}}const zs=[{provide:St._j,useClass:jo},{provide:Ir,useFactory:function Po(){return new Ss}},{provide:lr,useClass:(()=>{class $ extends lr{constructor(w,L,ne,se){super(w.body,L,ne)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(w){return new(w||$)(g.LFG(ue.K0),g.LFG(k),g.LFG(Ir),g.LFG(g.z2F))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:g.FYo,useFactory:function hs($,y,w){return new eo($,y,w)},deps:[c.se,lr,g.R0b]}],Xo=[{provide:k,useFactory:()=>new Wr},{provide:g.QbO,useValue:"BrowserAnimations"},...zs],_a=[{provide:k,useClass:V},{provide:g.QbO,useValue:"NoopAnimations"},...zs];let ya=(()=>{class ${static withConfig(w){return{ngModule:$,providers:w.disableAnimations?_a:Xo}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=g.oAB({type:$}),$.\u0275inj=g.cJS({providers:Xo,imports:[c.b2]}),$})();var Jo=D(1171),xr=D(9905),es=D(3848),$s=D(1552),_s=D(1378);const ia=function($){return["/blogs",$]};function Wa($,y){if(1&$){const w=g.EpF();g.TgZ(0,"a",9),g.NdJ("click",function(){const se=g.CHM(w).$implicit,Me=g.oxw();return g.KtG(Me.currentCategory=se)}),g.TgZ(1,"span",10),g._uU(2),g.ALo(3,"titlecase"),g.qZA()()}if(2&$){const w=y.$implicit,L=g.oxw();g.Q6J("active",L.currentCategory==w)("routerLink",g.VKq(5,ia,w)),g.xp6(2),g.Oqu(g.lcZ(3,3,w))}}function ul($,y){if(1&$&&(g.TgZ(0,"button",11)(1,"mat-icon"),g._uU(2,"account_circle"),g.qZA()()),2&$){g.oxw();const w=g.MAs(7);g.Q6J("matMenuTriggerFor",w)}}function ra($,y){1&$&&(g.TgZ(0,"button",12)(1,"mat-icon"),g._uU(2,"account_circle"),g.qZA()())}const Ta=function($){return["/profile",$]};let Da=(()=>{class ${constructor(w,L){this.router=w,this.authService=L,this.currentCategory=_s.a[0]}isAuth(){return!!this.user}login(){this.router.navigate(["/login"]).catch(w=>console.log(w))}logout(){this.authService.logout().then(w=>this.router.navigate(["/"]))}ngOnInit(){this.authService.user.subscribe({next:w=>this.user=w,error:w=>console.log(w)}),this.categories=_s.a}}return $.\u0275fac=function(w){return new(w||$)(g.Y36(A.F0),g.Y36(Ve.e))},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-header"]],decls:23,vars:7,consts:[["mat-tab-nav-bar","",1,"header_nav",3,"tabPanel"],["mat-tab-link","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-icon-button","","routerLink","/login",4,"ngIf"],["tabPanel",""],["menu",""],["mat-menu-item","",3,"routerLink"],["mat-menu-item","","routerLink","/blog-add"],["mat-menu-item","",3,"click"],["mat-tab-link","",3,"active","routerLink","click"],[1,"tab_link"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-icon-button","","routerLink","/login"]],template:function(w,L){if(1&w&&(g.TgZ(0,"nav",0),g.YNc(1,Wa,4,7,"a",1),g.YNc(2,ul,3,1,"button",2),g.YNc(3,ra,3,0,"button",3),g.qZA(),g._UZ(4,"mat-tab-nav-panel",null,4),g.TgZ(6,"mat-menu",null,5)(8,"button",6)(9,"mat-icon"),g._uU(10,"assignment_ind"),g.qZA(),g.TgZ(11,"span"),g._uU(12,"\u041f\u0440\u043e\u0444\u0456\u043b\u044c"),g.qZA()(),g.TgZ(13,"button",7)(14,"mat-icon"),g._uU(15,"note_add"),g.qZA(),g.TgZ(16,"span"),g._uU(17,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0431\u043b\u043e\u0433"),g.qZA()(),g.TgZ(18,"button",8),g.NdJ("click",function(){return L.logout()}),g.TgZ(19,"mat-icon"),g._uU(20,"exit_to_app"),g.qZA(),g.TgZ(21,"span"),g._uU(22,"\u0412\u0438\u0439\u0442\u0438"),g.qZA()()()),2&w){const ne=g.MAs(5);g.Q6J("tabPanel",ne),g.xp6(1),g.Q6J("ngForOf",L.categories),g.xp6(1),g.Q6J("ngIf",L.isAuth()),g.xp6(1),g.Q6J("ngIf",!L.isAuth()),g.xp6(5),g.Q6J("routerLink",g.VKq(5,Ta,null==L.user?null:L.user.uid))}},dependencies:[A.rH,ue.sg,ue.O5,es.BU,es.sW,es.Nj,$s.VK,$s.OP,$s.p6,Fe.RK,tt.Hw,ue.rS],styles:[".header_nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:0 350px 0 250px;padding:20px 10px 10px}.login[_ngcontent-%COMP%]{align-self:center}a[_ngcontent-%COMP%]{text-decoration:none}.header_tabs_container[_ngcontent-%COMP%]{display:flex;align-items:center}.header_tab[_ngcontent-%COMP%]{margin-right:20px}.tab_link[_ngcontent-%COMP%]{letter-spacing:1.2px;font-size:18px;text-decoration:none;color:#777}.active[_ngcontent-%COMP%]{border-bottom:2px solid #00A562!important}"]}),$})();function N($,y){1&$&&(g.TgZ(0,"div",5)(1,"p",6),g._uU(2,"\u0423\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0430\u0431\u043e \u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0442\u0435\u0441\u044c, \u0448\u0432\u0438\u0434\u043a\u043e \u0442\u0430 \u043b\u0435\u0433\u043a\u043e!"),g.qZA(),g.TgZ(3,"button",7),g._uU(4,"\u0423\u0432\u0456\u0439\u0442\u0438"),g.qZA()())}function X($,y){if(1&$&&(g.TgZ(0,"div",1),g.YNc(1,N,5,0,"div",2),g.TgZ(2,"div",3)(3,"div",4),g._uU(4,"Instagram"),g.qZA(),g.TgZ(5,"div",4),g._uU(6,"Facebook"),g.qZA(),g.TgZ(7,"div",4),g._uU(8,"Twitter"),g.qZA(),g.TgZ(9,"div",4),g._uU(10,"Youtube"),g.qZA(),g.TgZ(11,"div",4),g._uU(12,"Linkedin"),g.qZA(),g.TgZ(13,"div",4),g._uU(14,"Github"),g.qZA()()()),2&$){const w=g.oxw();g.xp6(1),g.Q6J("ngIf",!w.isAuth)}}let H=(()=>{class ${constructor(w){this.authService=w,this.isAuth=!1,this.isLoad=!1,w.user.subscribe(L=>{this.isAuth=!!L,this.isLoad=!0})}}return $.\u0275fac=function(w){return new(w||$)(g.Y36(Ve.e))},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-footer"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["class","login",4,"ngIf"],[1,"social"],[1,"icon","roboto-regular"],[1,"login"],[1,"login_text","roboto-regular"],[1,"login_button"]],template:function(w,L){1&w&&g.YNc(0,X,15,1,"div",0),2&w&&g.Q6J("ngIf",L.isLoad)},dependencies:[ue.O5],styles:[".container[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}.container[_ngcontent-%COMP%]{flex-direction:column}.login[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;border-bottom:1px solid #d4d2d2}.social[_ngcontent-%COMP%]{padding:20px 0;display:flex;justify-content:center}.icon[_ngcontent-%COMP%]{margin-right:40px;letter-spacing:.3px;border:2px solid #d4d2d2;border-radius:50px;padding:9px 30px;cursor:pointer}.icon[_ngcontent-%COMP%]:hover{border-color:#00a562}.login_text[_ngcontent-%COMP%]{margin-right:20px}.login_button[_ngcontent-%COMP%]{padding:9px 30px;background-color:#fff;border:1px solid #00A562;border-radius:25px;color:#00a562;font-size:14px;cursor:pointer}.login_button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00a562}"]}),$})();const he=["header"],je=["main"],Jt=["footer"],Bn=[{path:"",component:(()=>{class ${ngAfterViewChecked(){const w=this.headerRef.nativeElement,L=w.offsetHeight+this.getStyle(w,"marginTop")+this.getStyle(w,"marginBottom");this.mainRef.nativeElement.style.minHeight=document.documentElement.clientHeight-L+"px"}getStyle(w,L){return parseInt(getComputedStyle(w)[L].slice(0,-2))}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-main"]],viewQuery:function(w,L){if(1&w&&(g.Gf(he,5),g.Gf(je,5),g.Gf(Jt,5)),2&w){let ne;g.iGM(ne=g.CRH())&&(L.headerRef=ne.first),g.iGM(ne=g.CRH())&&(L.mainRef=ne.first),g.iGM(ne=g.CRH())&&(L.footerRef=ne.first)}},decls:10,vars:0,consts:[[1,"cite"],[1,"header"],["header",""],[1,"main"],["main",""],[1,"footer"],["footer",""]],template:function(w,L){1&w&&(g.TgZ(0,"div",0)(1,"div",1,2),g._UZ(3,"app-header"),g.qZA(),g.TgZ(4,"div",3,4),g._UZ(6,"router-outlet"),g.qZA(),g.TgZ(7,"div",5,6),g._UZ(9,"app-footer"),g.qZA()())},dependencies:[A.lC,Da,H],styles:[".header[_ngcontent-%COMP%]{border-bottom:2px solid #999999}.main[_ngcontent-%COMP%]{flex:auto;display:flex;justify-content:center}.footer[_ngcontent-%COMP%]{border-top:2px solid #999999;width:100%}"]}),$})(),children:[{path:"",loadChildren:()=>Promise.resolve().then(D.bind(D,1171)).then($=>$.BlogsModule)},{path:"profile",loadChildren:()=>Promise.resolve().then(D.bind(D,9905)).then($=>$.ProfileModule)}]}];let pr=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=g.oAB({type:$}),$.\u0275inj=g.cJS({imports:[A.Bz.forChild(Bn),A.Bz]}),$})(),Ui=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=g.oAB({type:$}),$.\u0275inj=g.cJS({imports:[pr,Jo.BlogsModule,xr.ProfileModule,ue.ez,es.Nh,$s.Tx,Fe.ot,tt.Ps]}),$})(),Li=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=g.oAB({type:$,bootstrap:[re]}),$.\u0275inj=g.cJS({imports:[Rt.yb,qe.hO.initializeApp(un_firebase),_t,Ui,Te,ya]}),$})();c.q6().bootstrapModule(Li).catch($=>console.error($))},1135:(_n,Ye,D)=>{D.d(Ye,{X:()=>A});var c=D(7579);class A extends c.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const O=super._subscribe(fe);return!O.closed&&fe.next(this._value),O}getValue(){const{hasError:fe,thrownError:O,_value:Te}=this;if(fe)throw O;return this._throwIfClosed(),Te}next(fe){super.next(this._value=fe)}}},9751:(_n,Ye,D)=>{D.d(Ye,{y:()=>ue});var c=D(930),A=D(727),g=D(8822),fe=D(9635),O=D(2416),Te=D(576),Oe=D(2806);let ue=(()=>{class re{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const Ge=new re;return Ge.source=this,Ge.operator=Ve,Ge}subscribe(Ve,Ge,rt){const Fe=function ae(re){return re&&re instanceof c.Lv||function ie(re){return re&&(0,Te.m)(re.next)&&(0,Te.m)(re.error)&&(0,Te.m)(re.complete)}(re)&&(0,A.Nn)(re)}(Ve)?Ve:new c.Hp(Ve,Ge,rt);return(0,Oe.x)(()=>{const{operator:tt,source:Re}=this;Fe.add(tt?tt.call(Fe,Re):Re?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Ge){Ve.error(Ge)}}forEach(Ve,Ge){return new(Ge=Ie(Ge))((rt,Fe)=>{const tt=new c.Hp({next:Re=>{try{Ve(Re)}catch(lt){Fe(lt),tt.unsubscribe()}},error:Fe,complete:rt});this.subscribe(tt)})}_subscribe(Ve){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(Ve)}[g.L](){return this}pipe(...Ve){return(0,fe.U)(Ve)(this)}toPromise(Ve){return new(Ve=Ie(Ve))((Ge,rt)=>{let Fe;this.subscribe(tt=>Fe=tt,tt=>rt(tt),()=>Ge(Fe))})}}return re.create=Ae=>new re(Ae),re})();function Ie(re){var Ae;return null!==(Ae=re??O.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(_n,Ye,D)=>{D.d(Ye,{x:()=>Oe});var c=D(9751),A=D(727);const fe=(0,D(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=D(8737),Te=D(2806);let Oe=(()=>{class Ie extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const re=new ue(this,this);return re.operator=ae,re}_throwIfClosed(){if(this.closed)throw new fe}next(ae){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(ae)}})}error(ae){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:re}=this;for(;re.length;)re.shift().error(ae)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:re,isStopped:Ae,observers:Ve}=this;return re||Ae?A.Lc:(this.currentObservers=null,Ve.push(ae),new A.w0(()=>{this.currentObservers=null,(0,O.P)(Ve,ae)}))}_checkFinalizedStatuses(ae){const{hasError:re,thrownError:Ae,isStopped:Ve}=this;re?ae.error(Ae):Ve&&ae.complete()}asObservable(){const ae=new c.y;return ae.source=this,ae}}return Ie.create=(ie,ae)=>new ue(ie,ae),Ie})();class ue extends Oe{constructor(ie,ae){super(),this.destination=ie,this.source=ae}next(ie){var ae,re;null===(re=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===re||re.call(ae,ie)}error(ie){var ae,re;null===(re=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===re||re.call(ae,ie)}complete(){var ie,ae;null===(ae=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===ae||ae.call(ie)}_subscribe(ie){var ae,re;return null!==(re=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ie))&&void 0!==re?re:A.Lc}}},930:(_n,Ye,D)=>{D.d(Ye,{Hp:()=>rt,Lv:()=>re});var c=D(576),A=D(727),g=D(2416),fe=D(7849),O=D(5032);const Te=Ie("C",void 0,void 0);function Ie(Se,ge,pe){return{kind:Se,value:ge,error:pe}}var ie=D(3410),ae=D(2806);class re extends A.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,A.Nn)(ge)&&ge.add(this)):this.destination=lt}static create(ge,pe,Ke){return new rt(ge,pe,Ke)}next(ge){this.isStopped?Re(function ue(Se){return Ie("N",Se,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Re(function Oe(Se){return Ie("E",void 0,Se)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Re(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function Ve(Se,ge){return Ae.call(Se,ge)}class Ge{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:pe}=this;if(pe.next)try{pe.next(ge)}catch(Ke){Fe(Ke)}}error(ge){const{partialObserver:pe}=this;if(pe.error)try{pe.error(ge)}catch(Ke){Fe(Ke)}else Fe(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(pe){Fe(pe)}}}class rt extends re{constructor(ge,pe,Ke){let _t;if(super(),(0,c.m)(ge)||!ge)_t={next:ge??void 0,error:pe??void 0,complete:Ke??void 0};else{let Rt;this&&g.v.useDeprecatedNextContext?(Rt=Object.create(ge),Rt.unsubscribe=()=>this.unsubscribe(),_t={next:ge.next&&Ve(ge.next,Rt),error:ge.error&&Ve(ge.error,Rt),complete:ge.complete&&Ve(ge.complete,Rt)}):_t=ge}this.destination=new Ge(_t)}}function Fe(Se){g.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(Se):(0,fe.h)(Se)}function Re(Se,ge){const{onStoppedNotification:pe}=g.v;pe&&ie.z.setTimeout(()=>pe(Se,ge))}const lt={closed:!0,next:O.Z,error:function tt(Se){throw Se},complete:O.Z}},727:(_n,Ye,D)=>{D.d(Ye,{Lc:()=>Te,w0:()=>O,Nn:()=>Oe});var c=D(576);const g=(0,D(3888).d)(Ie=>function(ae){Ie(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((re,Ae)=>`${Ae+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var fe=D(8737);class O{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Ve of ae)Ve.remove(this);else ae.remove(this);const{initialTeardown:re}=this;if((0,c.m)(re))try{re()}catch(Ve){ie=Ve instanceof g?Ve.errors:[Ve]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const Ve of Ae)try{ue(Ve)}catch(Ge){ie=ie??[],Ge instanceof g?ie=[...ie,...Ge.errors]:ie.push(Ge)}}if(ie)throw new g(ie)}}add(ie){var ae;if(ie&&ie!==this)if(this.closed)ue(ie);else{if(ie instanceof O){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ie)}}_hasParent(ie){const{_parentage:ae}=this;return ae===ie||Array.isArray(ae)&&ae.includes(ie)}_addParent(ie){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ie),ae):ae?[ae,ie]:ie}_removeParent(ie){const{_parentage:ae}=this;ae===ie?this._parentage=null:Array.isArray(ae)&&(0,fe.P)(ae,ie)}remove(ie){const{_finalizers:ae}=this;ae&&(0,fe.P)(ae,ie),ie instanceof O&&ie._removeParent(this)}}O.EMPTY=(()=>{const Ie=new O;return Ie.closed=!0,Ie})();const Te=O.EMPTY;function Oe(Ie){return Ie instanceof O||Ie&&"closed"in Ie&&(0,c.m)(Ie.remove)&&(0,c.m)(Ie.add)&&(0,c.m)(Ie.unsubscribe)}function ue(Ie){(0,c.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(_n,Ye,D)=>{D.d(Ye,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(_n,Ye,D)=>{D.d(Ye,{a:()=>ie});var c=D(9751),A=D(4742),g=D(8996),fe=D(4671),O=D(3268),Te=D(3269),Oe=D(1810),ue=D(5403),Ie=D(9672);function ie(...Ae){const Ve=(0,Te.yG)(Ae),Ge=(0,Te.jO)(Ae),{args:rt,keys:Fe}=(0,A.D)(Ae);if(0===rt.length)return(0,g.D)([],Ve);const tt=new c.y(function ae(Ae,Ve,Ge=fe.y){return rt=>{re(Ve,()=>{const{length:Fe}=Ae,tt=new Array(Fe);let Re=Fe,lt=Fe;for(let Se=0;Se<Fe;Se++)re(Ve,()=>{const ge=(0,g.D)(Ae[Se],Ve);let pe=!1;ge.subscribe((0,ue.x)(rt,Ke=>{tt[Se]=Ke,pe||(pe=!0,lt--),lt||rt.next(Ge(tt.slice()))},()=>{--Re||rt.complete()}))},rt)},rt)}}(rt,Ve,Fe?Re=>(0,Oe.n)(Fe,Re):fe.y));return Ge?tt.pipe((0,O.Z)(Ge)):tt}function re(Ae,Ve,Ge){Ae?(0,Ie.f)(Ge,Ae,Ve):Ve()}},7272:(_n,Ye,D)=>{D.d(Ye,{z:()=>O});var c=D(8189),g=D(3269),fe=D(8996);function O(...Te){return function A(){return(0,c.J)(1)}()((0,fe.D)(Te,(0,g.yG)(Te)))}},515:(_n,Ye,D)=>{D.d(Ye,{E:()=>A});const A=new(D(9751).y)(O=>O.complete())},4128:(_n,Ye,D)=>{D.d(Ye,{D:()=>ue});var c=D(9751),A=D(4742),g=D(8421),fe=D(3269),O=D(5403),Te=D(3268),Oe=D(1810);function ue(...Ie){const ie=(0,fe.jO)(Ie),{args:ae,keys:re}=(0,A.D)(Ie),Ae=new c.y(Ve=>{const{length:Ge}=ae;if(!Ge)return void Ve.complete();const rt=new Array(Ge);let Fe=Ge,tt=Ge;for(let Re=0;Re<Ge;Re++){let lt=!1;(0,g.Xf)(ae[Re]).subscribe((0,O.x)(Ve,Se=>{lt||(lt=!0,tt--),rt[Re]=Se},()=>Fe--,void 0,()=>{(!Fe||!lt)&&(tt||Ve.next(re?(0,Oe.n)(re,rt):rt),Ve.complete())}))}});return ie?Ae.pipe((0,Te.Z)(ie)):Ae}},8996:(_n,Ye,D)=>{D.d(Ye,{D:()=>ge});var c=D(8421),A=D(5363),g=D(9468),Te=D(9751),ue=D(2202),Ie=D(576),ie=D(9672);function re(pe,Ke){if(!pe)throw new Error("Iterable cannot be null");return new Te.y(_t=>{(0,ie.f)(_t,Ke,()=>{const Rt=pe[Symbol.asyncIterator]();(0,ie.f)(_t,Ke,()=>{Rt.next().then(qe=>{qe.done?_t.complete():_t.next(qe.value)})},0,!0)})})}var Ae=D(3670),Ve=D(8239),Ge=D(1144),rt=D(6495),Fe=D(2206),tt=D(4532),Re=D(3260);function ge(pe,Ke){return Ke?function Se(pe,Ke){if(null!=pe){if((0,Ae.c)(pe))return function fe(pe,Ke){return(0,c.Xf)(pe).pipe((0,g.R)(Ke),(0,A.Q)(Ke))}(pe,Ke);if((0,Ge.z)(pe))return function Oe(pe,Ke){return new Te.y(_t=>{let Rt=0;return Ke.schedule(function(){Rt===pe.length?_t.complete():(_t.next(pe[Rt++]),_t.closed||this.schedule())})})}(pe,Ke);if((0,Ve.t)(pe))return function O(pe,Ke){return(0,c.Xf)(pe).pipe((0,g.R)(Ke),(0,A.Q)(Ke))}(pe,Ke);if((0,Fe.D)(pe))return re(pe,Ke);if((0,rt.T)(pe))return function ae(pe,Ke){return new Te.y(_t=>{let Rt;return(0,ie.f)(_t,Ke,()=>{Rt=pe[ue.h](),(0,ie.f)(_t,Ke,()=>{let qe,un;try{({value:qe,done:un}=Rt.next())}catch(St){return void _t.error(St)}un?_t.complete():_t.next(qe)},0,!0)}),()=>(0,Ie.m)(Rt?.return)&&Rt.return()})}(pe,Ke);if((0,Re.L)(pe))return function lt(pe,Ke){return re((0,Re.Q)(pe),Ke)}(pe,Ke)}throw(0,tt.z)(pe)}(pe,Ke):(0,c.Xf)(pe)}},4968:(_n,Ye,D)=>{D.d(Ye,{R:()=>ie});var c=D(8421),A=D(9751),g=D(5577),fe=D(1144),O=D(576),Te=D(3268);const Oe=["addListener","removeListener"],ue=["addEventListener","removeEventListener"],Ie=["on","off"];function ie(Ge,rt,Fe,tt){if((0,O.m)(Fe)&&(tt=Fe,Fe=void 0),tt)return ie(Ge,rt,Fe).pipe((0,Te.Z)(tt));const[Re,lt]=function Ve(Ge){return(0,O.m)(Ge.addEventListener)&&(0,O.m)(Ge.removeEventListener)}(Ge)?ue.map(Se=>ge=>Ge[Se](rt,ge,Fe)):function re(Ge){return(0,O.m)(Ge.addListener)&&(0,O.m)(Ge.removeListener)}(Ge)?Oe.map(ae(Ge,rt)):function Ae(Ge){return(0,O.m)(Ge.on)&&(0,O.m)(Ge.off)}(Ge)?Ie.map(ae(Ge,rt)):[];if(!Re&&(0,fe.z)(Ge))return(0,g.z)(Se=>ie(Se,rt,Fe))((0,c.Xf)(Ge));if(!Re)throw new TypeError("Invalid event target");return new A.y(Se=>{const ge=(...pe)=>Se.next(1<pe.length?pe:pe[0]);return Re(ge),()=>lt(ge)})}function ae(Ge,rt){return Fe=>tt=>Ge[Fe](rt,tt)}},8421:(_n,Ye,D)=>{D.d(Ye,{Xf:()=>Ae});var c=D(655),A=D(1144),g=D(8239),fe=D(9751),O=D(3670),Te=D(2206),Oe=D(4532),ue=D(6495),Ie=D(3260),ie=D(576),ae=D(7849),re=D(8822);function Ae(Se){if(Se instanceof fe.y)return Se;if(null!=Se){if((0,O.c)(Se))return function Ve(Se){return new fe.y(ge=>{const pe=Se[re.L]();if((0,ie.m)(pe.subscribe))return pe.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,A.z)(Se))return function Ge(Se){return new fe.y(ge=>{for(let pe=0;pe<Se.length&&!ge.closed;pe++)ge.next(Se[pe]);ge.complete()})}(Se);if((0,g.t)(Se))return function rt(Se){return new fe.y(ge=>{Se.then(pe=>{ge.closed||(ge.next(pe),ge.complete())},pe=>ge.error(pe)).then(null,ae.h)})}(Se);if((0,Te.D)(Se))return tt(Se);if((0,ue.T)(Se))return function Fe(Se){return new fe.y(ge=>{for(const pe of Se)if(ge.next(pe),ge.closed)return;ge.complete()})}(Se);if((0,Ie.L)(Se))return function Re(Se){return tt((0,Ie.Q)(Se))}(Se)}throw(0,Oe.z)(Se)}function tt(Se){return new fe.y(ge=>{(function lt(Se,ge){var pe,Ke,_t,Rt;return(0,c.mG)(this,void 0,void 0,function*(){try{for(pe=(0,c.KL)(Se);!(Ke=yield pe.next()).done;)if(ge.next(Ke.value),ge.closed)return}catch(qe){_t={error:qe}}finally{try{Ke&&!Ke.done&&(Rt=pe.return)&&(yield Rt.call(pe))}finally{if(_t)throw _t.error}}ge.complete()})})(Se,ge).catch(pe=>ge.error(pe))})}},6451:(_n,Ye,D)=>{D.d(Ye,{T:()=>Te});var c=D(8189),A=D(8421),g=D(515),fe=D(3269),O=D(8996);function Te(...Oe){const ue=(0,fe.yG)(Oe),Ie=(0,fe._6)(Oe,1/0),ie=Oe;return ie.length?1===ie.length?(0,A.Xf)(ie[0]):(0,c.J)(Ie)((0,O.D)(ie,ue)):g.E}},9646:(_n,Ye,D)=>{D.d(Ye,{of:()=>g});var c=D(3269),A=D(8996);function g(...fe){const O=(0,c.yG)(fe);return(0,A.D)(fe,O)}},2843:(_n,Ye,D)=>{D.d(Ye,{_:()=>g});var c=D(9751),A=D(576);function g(fe,O){const Te=(0,A.m)(fe)?fe:()=>fe,Oe=ue=>ue.error(Te());return new c.y(O?ue=>O.schedule(Oe,0,ue):Oe)}},5963:(_n,Ye,D)=>{D.d(Ye,{H:()=>O});var c=D(9751),A=D(4986),g=D(3532);function O(Te=0,Oe,ue=A.P){let Ie=-1;return null!=Oe&&((0,g.K)(Oe)?ue=Oe:Ie=Oe),new c.y(ie=>{let ae=function fe(Te){return Te instanceof Date&&!isNaN(Te)}(Te)?+Te-ue.now():Te;ae<0&&(ae=0);let re=0;return ue.schedule(function(){ie.closed||(ie.next(re++),0<=Ie?this.schedule(void 0,Ie):ie.complete())},ae)})}},5403:(_n,Ye,D)=>{D.d(Ye,{x:()=>A});var c=D(930);function A(fe,O,Te,Oe,ue){return new g(fe,O,Te,Oe,ue)}class g extends c.Lv{constructor(O,Te,Oe,ue,Ie,ie){super(O),this.onFinalize=Ie,this.shouldUnsubscribe=ie,this._next=Te?function(ae){try{Te(ae)}catch(re){O.error(re)}}:super._next,this._error=ue?function(ae){try{ue(ae)}catch(re){O.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(ae){O.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var O;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(O=this.onFinalize)||void 0===O||O.call(this))}}}},262:(_n,Ye,D)=>{D.d(Ye,{K:()=>fe});var c=D(8421),A=D(5403),g=D(4482);function fe(O){return(0,g.e)((Te,Oe)=>{let ie,ue=null,Ie=!1;ue=Te.subscribe((0,A.x)(Oe,void 0,void 0,ae=>{ie=(0,c.Xf)(O(ae,fe(O)(Te))),ue?(ue.unsubscribe(),ue=null,ie.subscribe(Oe)):Ie=!0})),Ie&&(ue.unsubscribe(),ue=null,ie.subscribe(Oe))})}},4351:(_n,Ye,D)=>{D.d(Ye,{b:()=>g});var c=D(5577),A=D(576);function g(fe,O){return(0,A.m)(O)?(0,c.z)(fe,O,1):(0,c.z)(fe,1)}},8372:(_n,Ye,D)=>{D.d(Ye,{b:()=>fe});var c=D(4986),A=D(4482),g=D(5403);function fe(O,Te=c.z){return(0,A.e)((Oe,ue)=>{let Ie=null,ie=null,ae=null;const re=()=>{if(Ie){Ie.unsubscribe(),Ie=null;const Ve=ie;ie=null,ue.next(Ve)}};function Ae(){const Ve=ae+O,Ge=Te.now();if(Ge<Ve)return Ie=this.schedule(void 0,Ve-Ge),void ue.add(Ie);re()}Oe.subscribe((0,g.x)(ue,Ve=>{ie=Ve,ae=Te.now(),Ie||(Ie=Te.schedule(Ae,O),ue.add(Ie))},()=>{re(),ue.complete()},void 0,()=>{ie=Ie=null}))})}},6590:(_n,Ye,D)=>{D.d(Ye,{d:()=>g});var c=D(4482),A=D(5403);function g(fe){return(0,c.e)((O,Te)=>{let Oe=!1;O.subscribe((0,A.x)(Te,ue=>{Oe=!0,Te.next(ue)},()=>{Oe||Te.next(fe),Te.complete()}))})}},1884:(_n,Ye,D)=>{D.d(Ye,{x:()=>fe});var c=D(4671),A=D(4482),g=D(5403);function fe(Te,Oe=c.y){return Te=Te??O,(0,A.e)((ue,Ie)=>{let ie,ae=!0;ue.subscribe((0,g.x)(Ie,re=>{const Ae=Oe(re);(ae||!Te(ie,Ae))&&(ae=!1,ie=Ae,Ie.next(re))}))})}function O(Te,Oe){return Te===Oe}},9300:(_n,Ye,D)=>{D.d(Ye,{h:()=>g});var c=D(4482),A=D(5403);function g(fe,O){return(0,c.e)((Te,Oe)=>{let ue=0;Te.subscribe((0,A.x)(Oe,Ie=>fe.call(O,Ie,ue++)&&Oe.next(Ie)))})}},8746:(_n,Ye,D)=>{D.d(Ye,{x:()=>A});var c=D(4482);function A(g){return(0,c.e)((fe,O)=>{try{fe.subscribe(O)}finally{O.add(g)}})}},590:(_n,Ye,D)=>{D.d(Ye,{P:()=>Oe});var c=D(6805),A=D(9300),g=D(5698),fe=D(6590),O=D(8068),Te=D(4671);function Oe(ue,Ie){const ie=arguments.length>=2;return ae=>ae.pipe(ue?(0,A.h)((re,Ae)=>ue(re,Ae,ae)):Te.y,(0,g.q)(1),ie?(0,fe.d)(Ie):(0,O.T)(()=>new c.K))}},4004:(_n,Ye,D)=>{D.d(Ye,{U:()=>g});var c=D(4482),A=D(5403);function g(fe,O){return(0,c.e)((Te,Oe)=>{let ue=0;Te.subscribe((0,A.x)(Oe,Ie=>{Oe.next(fe.call(O,Ie,ue++))}))})}},9718:(_n,Ye,D)=>{D.d(Ye,{h:()=>A});var c=D(4004);function A(g){return(0,c.U)(()=>g)}},8189:(_n,Ye,D)=>{D.d(Ye,{J:()=>g});var c=D(5577),A=D(4671);function g(fe=1/0){return(0,c.z)(A.y,fe)}},5577:(_n,Ye,D)=>{D.d(Ye,{z:()=>ue});var c=D(4004),A=D(8421),g=D(4482),fe=D(9672),O=D(5403),Oe=D(576);function ue(Ie,ie,ae=1/0){return(0,Oe.m)(ie)?ue((re,Ae)=>(0,c.U)((Ve,Ge)=>ie(re,Ve,Ae,Ge))((0,A.Xf)(Ie(re,Ae))),ae):("number"==typeof ie&&(ae=ie),(0,g.e)((re,Ae)=>function Te(Ie,ie,ae,re,Ae,Ve,Ge,rt){const Fe=[];let tt=0,Re=0,lt=!1;const Se=()=>{lt&&!Fe.length&&!tt&&ie.complete()},ge=Ke=>tt<re?pe(Ke):Fe.push(Ke),pe=Ke=>{Ve&&ie.next(Ke),tt++;let _t=!1;(0,A.Xf)(ae(Ke,Re++)).subscribe((0,O.x)(ie,Rt=>{Ae?.(Rt),Ve?ge(Rt):ie.next(Rt)},()=>{_t=!0},void 0,()=>{if(_t)try{for(tt--;Fe.length&&tt<re;){const Rt=Fe.shift();Ge?(0,fe.f)(ie,Ge,()=>pe(Rt)):pe(Rt)}Se()}catch(Rt){ie.error(Rt)}}))};return Ie.subscribe((0,O.x)(ie,ge,()=>{lt=!0,Se()})),()=>{rt?.()}}(re,Ae,Ie,ae)))}},5363:(_n,Ye,D)=>{D.d(Ye,{Q:()=>fe});var c=D(9672),A=D(4482),g=D(5403);function fe(O,Te=0){return(0,A.e)((Oe,ue)=>{Oe.subscribe((0,g.x)(ue,Ie=>(0,c.f)(ue,O,()=>ue.next(Ie),Te),()=>(0,c.f)(ue,O,()=>ue.complete(),Te),Ie=>(0,c.f)(ue,O,()=>ue.error(Ie),Te)))})}},5026:(_n,Ye,D)=>{D.d(Ye,{R:()=>fe});var c=D(4482),A=D(5403);function fe(O,Te){return(0,c.e)(function g(O,Te,Oe,ue,Ie){return(ie,ae)=>{let re=Oe,Ae=Te,Ve=0;ie.subscribe((0,A.x)(ae,Ge=>{const rt=Ve++;Ae=re?O(Ae,Ge,rt):(re=!0,Ge),ue&&ae.next(Ae)},Ie&&(()=>{re&&ae.next(Ae),ae.complete()})))}}(O,Te,arguments.length>=2,!0))}},3099:(_n,Ye,D)=>{D.d(Ye,{B:()=>O});var c=D(8421),A=D(7579),g=D(930),fe=D(4482);function O(Oe={}){const{connector:ue=(()=>new A.x),resetOnError:Ie=!0,resetOnComplete:ie=!0,resetOnRefCountZero:ae=!0}=Oe;return re=>{let Ae,Ve,Ge,rt=0,Fe=!1,tt=!1;const Re=()=>{Ve?.unsubscribe(),Ve=void 0},lt=()=>{Re(),Ae=Ge=void 0,Fe=tt=!1},Se=()=>{const ge=Ae;lt(),ge?.unsubscribe()};return(0,fe.e)((ge,pe)=>{rt++,!tt&&!Fe&&Re();const Ke=Ge=Ge??ue();pe.add(()=>{rt--,0===rt&&!tt&&!Fe&&(Ve=Te(Se,ae))}),Ke.subscribe(pe),!Ae&&rt>0&&(Ae=new g.Hp({next:_t=>Ke.next(_t),error:_t=>{tt=!0,Re(),Ve=Te(lt,Ie,_t),Ke.error(_t)},complete:()=>{Fe=!0,Re(),Ve=Te(lt,ie),Ke.complete()}}),(0,c.Xf)(ge).subscribe(Ae))})(re)}}function Te(Oe,ue,...Ie){if(!0===ue)return void Oe();if(!1===ue)return;const ie=new g.Hp({next:()=>{ie.unsubscribe(),Oe()}});return(0,c.Xf)(ue(...Ie)).subscribe(ie)}},5684:(_n,Ye,D)=>{D.d(Ye,{T:()=>A});var c=D(9300);function A(g){return(0,c.h)((fe,O)=>g<=O)}},8675:(_n,Ye,D)=>{D.d(Ye,{O:()=>fe});var c=D(7272),A=D(3269),g=D(4482);function fe(...O){const Te=(0,A.yG)(O);return(0,g.e)((Oe,ue)=>{(Te?(0,c.z)(O,Oe,Te):(0,c.z)(O,Oe)).subscribe(ue)})}},9468:(_n,Ye,D)=>{D.d(Ye,{R:()=>A});var c=D(4482);function A(g,fe=0){return(0,c.e)((O,Te)=>{Te.add(g.schedule(()=>O.subscribe(Te),fe))})}},3900:(_n,Ye,D)=>{D.d(Ye,{w:()=>fe});var c=D(8421),A=D(4482),g=D(5403);function fe(O,Te){return(0,A.e)((Oe,ue)=>{let Ie=null,ie=0,ae=!1;const re=()=>ae&&!Ie&&ue.complete();Oe.subscribe((0,g.x)(ue,Ae=>{Ie?.unsubscribe();let Ve=0;const Ge=ie++;(0,c.Xf)(O(Ae,Ge)).subscribe(Ie=(0,g.x)(ue,rt=>ue.next(Te?Te(Ae,rt,Ge,Ve++):rt),()=>{Ie=null,re()}))},()=>{ae=!0,re()}))})}},5698:(_n,Ye,D)=>{D.d(Ye,{q:()=>fe});var c=D(515),A=D(4482),g=D(5403);function fe(O){return O<=0?()=>c.E:(0,A.e)((Te,Oe)=>{let ue=0;Te.subscribe((0,g.x)(Oe,Ie=>{++ue<=O&&(Oe.next(Ie),O<=ue&&Oe.complete())}))})}},2722:(_n,Ye,D)=>{D.d(Ye,{R:()=>O});var c=D(4482),A=D(5403),g=D(8421),fe=D(5032);function O(Te){return(0,c.e)((Oe,ue)=>{(0,g.Xf)(Te).subscribe((0,A.x)(ue,()=>ue.complete(),fe.Z)),!ue.closed&&Oe.subscribe(ue)})}},8505:(_n,Ye,D)=>{D.d(Ye,{b:()=>O});var c=D(576),A=D(4482),g=D(5403),fe=D(4671);function O(Te,Oe,ue){const Ie=(0,c.m)(Te)||Oe||ue?{next:Te,error:Oe,complete:ue}:Te;return Ie?(0,A.e)((ie,ae)=>{var re;null===(re=Ie.subscribe)||void 0===re||re.call(Ie);let Ae=!0;ie.subscribe((0,g.x)(ae,Ve=>{var Ge;null===(Ge=Ie.next)||void 0===Ge||Ge.call(Ie,Ve),ae.next(Ve)},()=>{var Ve;Ae=!1,null===(Ve=Ie.complete)||void 0===Ve||Ve.call(Ie),ae.complete()},Ve=>{var Ge;Ae=!1,null===(Ge=Ie.error)||void 0===Ge||Ge.call(Ie,Ve),ae.error(Ve)},()=>{var Ve,Ge;Ae&&(null===(Ve=Ie.unsubscribe)||void 0===Ve||Ve.call(Ie)),null===(Ge=Ie.finalize)||void 0===Ge||Ge.call(Ie)}))}):fe.y}},8068:(_n,Ye,D)=>{D.d(Ye,{T:()=>fe});var c=D(6805),A=D(4482),g=D(5403);function fe(Te=O){return(0,A.e)((Oe,ue)=>{let Ie=!1;Oe.subscribe((0,g.x)(ue,ie=>{Ie=!0,ue.next(ie)},()=>Ie?ue.complete():ue.error(Te())))})}function O(){return new c.K}},4408:(_n,Ye,D)=>{D.d(Ye,{o:()=>O});var c=D(727);class A extends c.w0{constructor(Oe,ue){super()}schedule(Oe,ue=0){return this}}const g={setInterval(Te,Oe,...ue){const{delegate:Ie}=g;return Ie?.setInterval?Ie.setInterval(Te,Oe,...ue):setInterval(Te,Oe,...ue)},clearInterval(Te){const{delegate:Oe}=g;return(Oe?.clearInterval||clearInterval)(Te)},delegate:void 0};var fe=D(8737);class O extends A{constructor(Oe,ue){super(Oe,ue),this.scheduler=Oe,this.work=ue,this.pending=!1}schedule(Oe,ue=0){var Ie;if(this.closed)return this;this.state=Oe;const ie=this.id,ae=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(ae,ie,ue)),this.pending=!0,this.delay=ue,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(ae,this.id,ue),this}requestAsyncId(Oe,ue,Ie=0){return g.setInterval(Oe.flush.bind(Oe,this),Ie)}recycleAsyncId(Oe,ue,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return ue;null!=ue&&g.clearInterval(ue)}execute(Oe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Oe,ue);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,ue){let ie,Ie=!1;try{this.work(Oe)}catch(ae){Ie=!0,ie=ae||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:ue}=this,{actions:Ie}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(Ie,this),null!=Oe&&(this.id=this.recycleAsyncId(ue,Oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(_n,Ye,D)=>{D.d(Ye,{v:()=>g});var c=D(6063);class A{constructor(O,Te=A.now){this.schedulerActionCtor=O,this.now=Te}schedule(O,Te=0,Oe){return new this.schedulerActionCtor(this,O).schedule(Oe,Te)}}A.now=c.l.now;class g extends A{constructor(O,Te=A.now){super(O,Te),this.actions=[],this._active=!1}flush(O){const{actions:Te}=this;if(this._active)return void Te.push(O);let Oe;this._active=!0;do{if(Oe=O.execute(O.state,O.delay))break}while(O=Te.shift());if(this._active=!1,Oe){for(;O=Te.shift();)O.unsubscribe();throw Oe}}}},3101:(_n,Ye,D)=>{D.d(Ye,{E:()=>Ve});var c=D(4408);let g,A=1;const fe={};function O(rt){return rt in fe&&(delete fe[rt],!0)}const Te={setImmediate(rt){const Fe=A++;return fe[Fe]=!0,g||(g=Promise.resolve()),g.then(()=>O(Fe)&&rt()),Fe},clearImmediate(rt){O(rt)}},{setImmediate:ue,clearImmediate:Ie}=Te,ie={setImmediate(...rt){const{delegate:Fe}=ie;return(Fe?.setImmediate||ue)(...rt)},clearImmediate(rt){const{delegate:Fe}=ie;return(Fe?.clearImmediate||Ie)(rt)},delegate:void 0};var re=D(7565);const Ve=new class Ae extends re.v{flush(Fe){this._active=!0;const tt=this._scheduled;this._scheduled=void 0;const{actions:Re}=this;let lt;Fe=Fe||Re.shift();do{if(lt=Fe.execute(Fe.state,Fe.delay))break}while((Fe=Re[0])&&Fe.id===tt&&Re.shift());if(this._active=!1,lt){for(;(Fe=Re[0])&&Fe.id===tt&&Re.shift();)Fe.unsubscribe();throw lt}}}(class ae extends c.o{constructor(Fe,tt){super(Fe,tt),this.scheduler=Fe,this.work=tt}requestAsyncId(Fe,tt,Re=0){return null!==Re&&Re>0?super.requestAsyncId(Fe,tt,Re):(Fe.actions.push(this),Fe._scheduled||(Fe._scheduled=ie.setImmediate(Fe.flush.bind(Fe,void 0))))}recycleAsyncId(Fe,tt,Re=0){var lt;if(null!=Re?Re>0:this.delay>0)return super.recycleAsyncId(Fe,tt,Re);const{actions:Se}=Fe;null!=tt&&(null===(lt=Se[Se.length-1])||void 0===lt?void 0:lt.id)!==tt&&(ie.clearImmediate(tt),Fe._scheduled===tt&&(Fe._scheduled=void 0))}})},4986:(_n,Ye,D)=>{D.d(Ye,{P:()=>fe,z:()=>g});var c=D(4408);const g=new(D(7565).v)(c.o),fe=g},6063:(_n,Ye,D)=>{D.d(Ye,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(_n,Ye,D)=>{D.d(Ye,{z:()=>c});const c={setTimeout(A,g,...fe){const{delegate:O}=c;return O?.setTimeout?O.setTimeout(A,g,...fe):setTimeout(A,g,...fe)},clearTimeout(A){const{delegate:g}=c;return(g?.clearTimeout||clearTimeout)(A)},delegate:void 0}},2202:(_n,Ye,D)=>{D.d(Ye,{h:()=>A});const A=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_n,Ye,D)=>{D.d(Ye,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(_n,Ye,D)=>{D.d(Ye,{K:()=>A});const A=(0,D(3888).d)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(_n,Ye,D)=>{D.d(Ye,{_6:()=>Te,jO:()=>fe,yG:()=>O});var c=D(576),A=D(3532);function g(Oe){return Oe[Oe.length-1]}function fe(Oe){return(0,c.m)(g(Oe))?Oe.pop():void 0}function O(Oe){return(0,A.K)(g(Oe))?Oe.pop():void 0}function Te(Oe,ue){return"number"==typeof g(Oe)?Oe.pop():ue}},4742:(_n,Ye,D)=>{D.d(Ye,{D:()=>O});const{isArray:c}=Array,{getPrototypeOf:A,prototype:g,keys:fe}=Object;function O(Oe){if(1===Oe.length){const ue=Oe[0];if(c(ue))return{args:ue,keys:null};if(function Te(Oe){return Oe&&"object"==typeof Oe&&A(Oe)===g}(ue)){const Ie=fe(ue);return{args:Ie.map(ie=>ue[ie]),keys:Ie}}}return{args:Oe,keys:null}}},8737:(_n,Ye,D)=>{function c(A,g){if(A){const fe=A.indexOf(g);0<=fe&&A.splice(fe,1)}}D.d(Ye,{P:()=>c})},3888:(_n,Ye,D)=>{function c(A){const fe=A(O=>{Error.call(O),O.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}D.d(Ye,{d:()=>c})},1810:(_n,Ye,D)=>{function c(A,g){return A.reduce((fe,O,Te)=>(fe[O]=g[Te],fe),{})}D.d(Ye,{n:()=>c})},2806:(_n,Ye,D)=>{D.d(Ye,{O:()=>fe,x:()=>g});var c=D(2416);let A=null;function g(O){if(c.v.useDeprecatedSynchronousErrorHandling){const Te=!A;if(Te&&(A={errorThrown:!1,error:null}),O(),Te){const{errorThrown:Oe,error:ue}=A;if(A=null,Oe)throw ue}}else O()}function fe(O){c.v.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=O)}},9672:(_n,Ye,D)=>{function c(A,g,fe,O=0,Te=!1){const Oe=g.schedule(function(){fe(),Te?A.add(this.schedule(null,O)):this.unsubscribe()},O);if(A.add(Oe),!Te)return Oe}D.d(Ye,{f:()=>c})},4671:(_n,Ye,D)=>{function c(A){return A}D.d(Ye,{y:()=>c})},1144:(_n,Ye,D)=>{D.d(Ye,{z:()=>c});const c=A=>A&&"number"==typeof A.length&&"function"!=typeof A},2206:(_n,Ye,D)=>{D.d(Ye,{D:()=>A});var c=D(576);function A(g){return Symbol.asyncIterator&&(0,c.m)(g?.[Symbol.asyncIterator])}},576:(_n,Ye,D)=>{function c(A){return"function"==typeof A}D.d(Ye,{m:()=>c})},3670:(_n,Ye,D)=>{D.d(Ye,{c:()=>g});var c=D(8822),A=D(576);function g(fe){return(0,A.m)(fe[c.L])}},6495:(_n,Ye,D)=>{D.d(Ye,{T:()=>g});var c=D(2202),A=D(576);function g(fe){return(0,A.m)(fe?.[c.h])}},8239:(_n,Ye,D)=>{D.d(Ye,{t:()=>A});var c=D(576);function A(g){return(0,c.m)(g?.then)}},3260:(_n,Ye,D)=>{D.d(Ye,{L:()=>fe,Q:()=>g});var c=D(655),A=D(576);function g(O){return(0,c.FC)(this,arguments,function*(){const Oe=O.getReader();try{for(;;){const{value:ue,done:Ie}=yield(0,c.qq)(Oe.read());if(Ie)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ue)}}finally{Oe.releaseLock()}})}function fe(O){return(0,A.m)(O?.getReader)}},3532:(_n,Ye,D)=>{D.d(Ye,{K:()=>A});var c=D(576);function A(g){return g&&(0,c.m)(g.schedule)}},4482:(_n,Ye,D)=>{D.d(Ye,{A:()=>A,e:()=>g});var c=D(576);function A(fe){return(0,c.m)(fe?.lift)}function g(fe){return O=>{if(A(O))return O.lift(function(Te){try{return fe(Te,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(_n,Ye,D)=>{D.d(Ye,{Z:()=>fe});var c=D(4004);const{isArray:A}=Array;function fe(O){return(0,c.U)(Te=>function g(O,Te){return A(Te)?O(...Te):O(Te)}(O,Te))}},5032:(_n,Ye,D)=>{function c(){}D.d(Ye,{Z:()=>c})},9635:(_n,Ye,D)=>{D.d(Ye,{U:()=>g,z:()=>A});var c=D(4671);function A(...fe){return g(fe)}function g(fe){return 0===fe.length?c.y:1===fe.length?fe[0]:function(Te){return fe.reduce((Oe,ue)=>ue(Oe),Te)}}},7849:(_n,Ye,D)=>{D.d(Ye,{h:()=>g});var c=D(2416),A=D(3410);function g(fe){A.z.setTimeout(()=>{const{onUnhandledError:O}=c.v;if(!O)throw fe;O(fe)})}},4532:(_n,Ye,D)=>{function c(A){return new TypeError(`You provided ${null!==A&&"object"==typeof A?"an invalid object":`'${A}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(Ye,{z:()=>c})},655:(_n,Ye,D)=>{function fe(Ft,Tt){var Pt={};for(var wt in Ft)Object.prototype.hasOwnProperty.call(Ft,wt)&&Tt.indexOf(wt)<0&&(Pt[wt]=Ft[wt]);if(null!=Ft&&"function"==typeof Object.getOwnPropertySymbols){var kt=0;for(wt=Object.getOwnPropertySymbols(Ft);kt<wt.length;kt++)Tt.indexOf(wt[kt])<0&&Object.prototype.propertyIsEnumerable.call(Ft,wt[kt])&&(Pt[wt[kt]]=Ft[wt[kt]])}return Pt}function re(Ft,Tt,Pt,wt){return new(Pt||(Pt=Promise))(function(gt,vt){function jt(Je){try{Vt(wt.next(Je))}catch(wn){vt(wn)}}function an(Je){try{Vt(wt.throw(Je))}catch(wn){vt(wn)}}function Vt(Je){Je.done?gt(Je.value):function kt(gt){return gt instanceof Pt?gt:new Pt(function(vt){vt(gt)})}(Je.value).then(jt,an)}Vt((wt=wt.apply(Ft,Tt||[])).next())})}function Se(Ft){return this instanceof Se?(this.v=Ft,this):new Se(Ft)}function ge(Ft,Tt,Pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var kt,wt=Pt.apply(Ft,Tt||[]),gt=[];return kt={},vt("next"),vt("throw"),vt("return"),kt[Symbol.asyncIterator]=function(){return this},kt;function vt(ht){wt[ht]&&(kt[ht]=function(En){return new Promise(function(Bt,mn){gt.push([ht,En,Bt,mn])>1||jt(ht,En)})})}function jt(ht,En){try{!function an(ht){ht.value instanceof Se?Promise.resolve(ht.value.v).then(Vt,Je):wn(gt[0][2],ht)}(wt[ht](En))}catch(Bt){wn(gt[0][3],Bt)}}function Vt(ht){jt("next",ht)}function Je(ht){jt("throw",ht)}function wn(ht,En){ht(En),gt.shift(),gt.length&&jt(gt[0][0],gt[0][1])}}function Ke(Ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pt,Tt=Ft[Symbol.asyncIterator];return Tt?Tt.call(Ft):(Ft=function rt(Ft){var Tt="function"==typeof Symbol&&Symbol.iterator,Pt=Tt&&Ft[Tt],wt=0;if(Pt)return Pt.call(Ft);if(Ft&&"number"==typeof Ft.length)return{next:function(){return Ft&&wt>=Ft.length&&(Ft=void 0),{value:Ft&&Ft[wt++],done:!Ft}}};throw new TypeError(Tt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ft),Pt={},wt("next"),wt("throw"),wt("return"),Pt[Symbol.asyncIterator]=function(){return this},Pt);function wt(gt){Pt[gt]=Ft[gt]&&function(vt){return new Promise(function(jt,an){!function kt(gt,vt,jt,an){Promise.resolve(an).then(function(Vt){gt({value:Vt,done:jt})},vt)}(jt,an,(vt=Ft[gt](vt)).done,vt.value)})}}}D.d(Ye,{FC:()=>ge,KL:()=>Ke,_T:()=>fe,mG:()=>re,qq:()=>Se})},7340:(_n,Ye,D)=>{D.d(Ye,{LC:()=>A,SB:()=>Ie,X$:()=>fe,ZE:()=>Re,ZN:()=>tt,_j:()=>c,eR:()=>ae,jt:()=>O,k1:()=>lt,l3:()=>g,oB:()=>ue,vP:()=>Oe});class c{}class A{}const g="*";function fe(Se,ge){return{type:7,name:Se,definitions:ge,options:{}}}function O(Se,ge=null){return{type:4,styles:ge,timings:Se}}function Oe(Se,ge=null){return{type:2,steps:Se,options:ge}}function ue(Se){return{type:6,styles:Se,offset:null}}function Ie(Se,ge,pe){return{type:0,name:Se,styles:ge,options:pe}}function ae(Se,ge,pe=null){return{type:1,expr:Se,animation:ge,options:pe}}function Fe(Se){Promise.resolve().then(Se)}class tt{constructor(ge=0,pe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ge+pe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}onStart(ge){this._originalOnStartFns.push(ge),this._onStartFns.push(ge)}onDone(ge){this._originalOnDoneFns.push(ge),this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ge=>ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ge){this._position=this.totalTime?ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ge){const pe="start"==ge?this._onStartFns:this._onDoneFns;pe.forEach(Ke=>Ke()),pe.length=0}}class Re{constructor(ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ge;let pe=0,Ke=0,_t=0;const Rt=this.players.length;0==Rt?Fe(()=>this._onFinish()):this.players.forEach(qe=>{qe.onDone(()=>{++pe==Rt&&this._onFinish()}),qe.onDestroy(()=>{++Ke==Rt&&this._onDestroy()}),qe.onStart(()=>{++_t==Rt&&this._onStart()})}),this.totalTime=this.players.reduce((qe,un)=>Math.max(qe,un.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}init(){this.players.forEach(ge=>ge.init())}onStart(ge){this._onStartFns.push(ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ge=>ge()),this._onStartFns=[])}onDone(ge){this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ge=>ge.play())}pause(){this.players.forEach(ge=>ge.pause())}restart(){this.players.forEach(ge=>ge.restart())}finish(){this._onFinish(),this.players.forEach(ge=>ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ge=>ge.destroy()),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this.players.forEach(ge=>ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ge){const pe=ge*this.totalTime;this.players.forEach(Ke=>{const _t=Ke.totalTime?Math.min(1,pe/Ke.totalTime):1;Ke.setPosition(_t)})}getPosition(){const ge=this.players.reduce((pe,Ke)=>null===pe||Ke.totalTime>pe.totalTime?Ke:pe,null);return null!=ge?ge.getPosition():0}beforeDestroy(){this.players.forEach(ge=>{ge.beforeDestroy&&ge.beforeDestroy()})}triggerCallback(ge){const pe="start"==ge?this._onStartFns:this._onDoneFns;pe.forEach(Ke=>Ke()),pe.length=0}}const lt="!"},2693:(_n,Ye,D)=>{D.d(Ye,{rt:()=>Qe,Em:()=>ht,tE:()=>Le,qm:()=>ln,X6:()=>Mt,yG:()=>zt});var c=D(6895),A=D(4650),g=D(3353),fe=D(7579),O=D(727),Te=D(1135),Oe=D(9646),ue=D(9521),Ie=D(8505),ie=D(8372),ae=D(9300),re=D(4004),Ae=D(5684),Ve=D(1884),Ge=D(2722),rt=D(1281),Fe=D(9643),tt=D(9841),Re=D(7272),lt=D(9751),Se=D(5698),ge=D(8675);const Ke=new Set;let _t,Rt=(()=>{class Q{constructor(k){this._platform=k,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):un}matchMedia(k){return(this._platform.WEBKIT||this._platform.BLINK)&&function qe(Q){if(!Ke.has(Q))try{_t||(_t=document.createElement("style"),_t.setAttribute("type","text/css"),document.head.appendChild(_t)),_t.sheet&&(_t.sheet.insertRule(`@media ${Q} {body{ }}`,0),Ke.add(Q))}catch(V){console.error(V)}}(k),this._matchMedia(k)}}return Q.\u0275fac=function(k){return new(k||Q)(A.LFG(g.t4))},Q.\u0275prov=A.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();function un(Q){return{matches:"all"===Q||""===Q,media:Q,addListener:()=>{},removeListener:()=>{}}}let St=(()=>{class Q{constructor(k,Z){this._mediaMatcher=k,this._zone=Z,this._queries=new Map,this._destroySubject=new fe.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(k){return bn((0,rt.Eq)(k)).some(be=>this._registerQuery(be).mql.matches)}observe(k){const be=bn((0,rt.Eq)(k)).map(tn=>this._registerQuery(tn).observable);let st=(0,tt.a)(be);return st=(0,Re.z)(st.pipe((0,Se.q)(1)),st.pipe((0,Ae.T)(1),(0,ie.b)(0))),st.pipe((0,re.U)(tn=>{const In={matches:!1,breakpoints:{}};return tn.forEach(({matches:ei,query:It})=>{In.matches=In.matches||ei,In.breakpoints[It]=ei}),In}))}_registerQuery(k){if(this._queries.has(k))return this._queries.get(k);const Z=this._mediaMatcher.matchMedia(k),st={observable:new lt.y(tn=>{const In=ei=>this._zone.run(()=>tn.next(ei));return Z.addListener(In),()=>{Z.removeListener(In)}}).pipe((0,ge.O)(Z),(0,re.U)(({matches:tn})=>({query:k,matches:tn})),(0,Ge.R)(this._destroySubject)),mql:Z};return this._queries.set(k,st),st}}return Q.\u0275fac=function(k){return new(k||Q)(A.LFG(Rt),A.LFG(A.R0b))},Q.\u0275prov=A.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();function bn(Q){return Q.map(V=>V.split(",")).reduce((V,k)=>V.concat(k)).map(V=>V.trim())}class Je{constructor(V){this._items=V,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new fe.x,this._typeaheadSubscription=O.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=k=>k.disabled,this._pressedLetters=[],this.tabOut=new fe.x,this.change=new fe.x,V instanceof A.n_E&&(this._itemChangesSubscription=V.changes.subscribe(k=>{if(this._activeItem){const be=k.toArray().indexOf(this._activeItem);be>-1&&be!==this._activeItemIndex&&(this._activeItemIndex=be)}}))}skipPredicate(V){return this._skipPredicateFn=V,this}withWrap(V=!0){return this._wrap=V,this}withVerticalOrientation(V=!0){return this._vertical=V,this}withHorizontalOrientation(V){return this._horizontal=V,this}withAllowedModifierKeys(V){return this._allowedModifierKeys=V,this}withTypeAhead(V=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ie.b)(k=>this._pressedLetters.push(k)),(0,ie.b)(V),(0,ae.h)(()=>this._pressedLetters.length>0),(0,re.U)(()=>this._pressedLetters.join(""))).subscribe(k=>{const Z=this._getItemsArray();for(let be=1;be<Z.length+1;be++){const st=(this._activeItemIndex+be)%Z.length,tn=Z[st];if(!this._skipPredicateFn(tn)&&0===tn.getLabel().toUpperCase().trim().indexOf(k)){this.setActiveItem(st);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(V=!0){return this._homeAndEnd=V,this}withPageUpDown(V=!0,k=10){return this._pageUpAndDown={enabled:V,delta:k},this}setActiveItem(V){const k=this._activeItem;this.updateActiveItem(V),this._activeItem!==k&&this.change.next(this._activeItemIndex)}onKeydown(V){const k=V.keyCode,be=["altKey","ctrlKey","metaKey","shiftKey"].every(st=>!V[st]||this._allowedModifierKeys.indexOf(st)>-1);switch(k){case ue.Mf:return void this.tabOut.next();case ue.JH:if(this._vertical&&be){this.setNextItemActive();break}return;case ue.LH:if(this._vertical&&be){this.setPreviousItemActive();break}return;case ue.SV:if(this._horizontal&&be){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ue.oh:if(this._horizontal&&be){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ue.Sd:if(this._homeAndEnd&&be){this.setFirstItemActive();break}return;case ue.uR:if(this._homeAndEnd&&be){this.setLastItemActive();break}return;case ue.Ku:if(this._pageUpAndDown.enabled&&be){const st=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(st>0?st:0,1);break}return;case ue.VM:if(this._pageUpAndDown.enabled&&be){const st=this._activeItemIndex+this._pageUpAndDown.delta,tn=this._getItemsArray().length;this._setActiveItemByIndex(st<tn?st:tn-1,-1);break}return;default:return void((be||(0,ue.Vb)(V,"shiftKey"))&&(V.key&&1===V.key.length?this._letterKeyStream.next(V.key.toLocaleUpperCase()):(k>=ue.A&&k<=ue.Z||k>=ue.xE&&k<=ue.aO)&&this._letterKeyStream.next(String.fromCharCode(k))))}this._pressedLetters=[],V.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(V){const k=this._getItemsArray(),Z="number"==typeof V?V:k.indexOf(V);this._activeItem=k[Z]??null,this._activeItemIndex=Z}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(V){this._wrap?this._setActiveInWrapMode(V):this._setActiveInDefaultMode(V)}_setActiveInWrapMode(V){const k=this._getItemsArray();for(let Z=1;Z<=k.length;Z++){const be=(this._activeItemIndex+V*Z+k.length)%k.length;if(!this._skipPredicateFn(k[be]))return void this.setActiveItem(be)}}_setActiveInDefaultMode(V){this._setActiveItemByIndex(this._activeItemIndex+V,V)}_setActiveItemByIndex(V,k){const Z=this._getItemsArray();if(Z[V]){for(;this._skipPredicateFn(Z[V]);)if(!Z[V+=k])return;this.setActiveItem(V)}}_getItemsArray(){return this._items instanceof A.n_E?this._items.toArray():this._items}}class ht extends Je{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(V){return this._origin=V,this}setActiveItem(V){super.setActiveItem(V),this.activeItem&&this.activeItem.focus(this._origin)}}function Mt(Q){return 0===Q.buttons||0===Q.offsetX&&0===Q.offsetY}function zt(Q){const V=Q.touches&&Q.touches[0]||Q.changedTouches&&Q.changedTouches[0];return!(!V||-1!==V.identifier||null!=V.radiusX&&1!==V.radiusX||null!=V.radiusY&&1!==V.radiusY)}const $n=new A.OlP("cdk-input-modality-detector-options"),Rn={ignoreKeys:[ue.zL,ue.jx,ue.b2,ue.MW,ue.JU]},kn=(0,g.i$)({passive:!0,capture:!0});let ti=(()=>{class Q{get mostRecentModality(){return this._modality.value}constructor(k,Z,be,st){this._platform=k,this._mostRecentTarget=null,this._modality=new Te.X(null),this._lastTouchMs=0,this._onKeydown=tn=>{this._options?.ignoreKeys?.some(In=>In===tn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.sA)(tn))},this._onMousedown=tn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Mt(tn)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.sA)(tn))},this._onTouchstart=tn=>{zt(tn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.sA)(tn))},this._options={...Rn,...st},this.modalityDetected=this._modality.pipe((0,Ae.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ve.x)()),k.isBrowser&&Z.runOutsideAngular(()=>{be.addEventListener("keydown",this._onKeydown,kn),be.addEventListener("mousedown",this._onMousedown,kn),be.addEventListener("touchstart",this._onTouchstart,kn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kn),document.removeEventListener("mousedown",this._onMousedown,kn),document.removeEventListener("touchstart",this._onTouchstart,kn))}}return Q.\u0275fac=function(k){return new(k||Q)(A.LFG(g.t4),A.LFG(A.R0b),A.LFG(c.K0),A.LFG($n,8))},Q.\u0275prov=A.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();const Gn=new A.OlP("cdk-focus-monitor-default-options"),gi=(0,g.i$)({passive:!0,capture:!0});let Le=(()=>{class Q{constructor(k,Z,be,st,tn){this._ngZone=k,this._platform=Z,this._inputModalityDetector=be,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new fe.x,this._rootNodeFocusAndBlurListener=In=>{for(let It=(0,g.sA)(In);It;It=It.parentElement)"focus"===In.type?this._onFocus(In,It):this._onBlur(In,It)},this._document=st,this._detectionMode=tn?.detectionMode||0}monitor(k,Z=!1){const be=(0,rt.fI)(k);if(!this._platform.isBrowser||1!==be.nodeType)return(0,Oe.of)(null);const st=(0,g.kV)(be)||this._getDocument(),tn=this._elementInfo.get(be);if(tn)return Z&&(tn.checkChildren=!0),tn.subject;const In={checkChildren:Z,subject:new fe.x,rootNode:st};return this._elementInfo.set(be,In),this._registerGlobalListeners(In),In.subject}stopMonitoring(k){const Z=(0,rt.fI)(k),be=this._elementInfo.get(Z);be&&(be.subject.complete(),this._setClasses(Z),this._elementInfo.delete(Z),this._removeGlobalListeners(be))}focusVia(k,Z,be){const st=(0,rt.fI)(k);st===this._getDocument().activeElement?this._getClosestElementsInfo(st).forEach(([In,ei])=>this._originChanged(In,Z,ei)):(this._setOrigin(Z),"function"==typeof st.focus&&st.focus(be))}ngOnDestroy(){this._elementInfo.forEach((k,Z)=>this.stopMonitoring(Z))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(k){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(k)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:k&&this._isLastInteractionFromInputLabel(k)?"mouse":"program"}_shouldBeAttributedToTouch(k){return 1===this._detectionMode||!!k?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(k,Z){k.classList.toggle("cdk-focused",!!Z),k.classList.toggle("cdk-touch-focused","touch"===Z),k.classList.toggle("cdk-keyboard-focused","keyboard"===Z),k.classList.toggle("cdk-mouse-focused","mouse"===Z),k.classList.toggle("cdk-program-focused","program"===Z)}_setOrigin(k,Z=!1){this._ngZone.runOutsideAngular(()=>{this._origin=k,this._originFromTouchInteraction="touch"===k&&Z,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(k,Z){const be=this._elementInfo.get(Z),st=(0,g.sA)(k);!be||!be.checkChildren&&Z!==st||this._originChanged(Z,this._getFocusOrigin(st),be)}_onBlur(k,Z){const be=this._elementInfo.get(Z);!be||be.checkChildren&&k.relatedTarget instanceof Node&&Z.contains(k.relatedTarget)||(this._setClasses(Z),this._emitOrigin(be,null))}_emitOrigin(k,Z){k.subject.observers.length&&this._ngZone.run(()=>k.subject.next(Z))}_registerGlobalListeners(k){if(!this._platform.isBrowser)return;const Z=k.rootNode,be=this._rootNodeFocusListenerCount.get(Z)||0;be||this._ngZone.runOutsideAngular(()=>{Z.addEventListener("focus",this._rootNodeFocusAndBlurListener,gi),Z.addEventListener("blur",this._rootNodeFocusAndBlurListener,gi)}),this._rootNodeFocusListenerCount.set(Z,be+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ge.R)(this._stopInputModalityDetector)).subscribe(st=>{this._setOrigin(st,!0)}))}_removeGlobalListeners(k){const Z=k.rootNode;if(this._rootNodeFocusListenerCount.has(Z)){const be=this._rootNodeFocusListenerCount.get(Z);be>1?this._rootNodeFocusListenerCount.set(Z,be-1):(Z.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gi),Z.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gi),this._rootNodeFocusListenerCount.delete(Z))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(k,Z,be){this._setClasses(k,Z),this._emitOrigin(be,Z),this._lastFocusOrigin=Z}_getClosestElementsInfo(k){const Z=[];return this._elementInfo.forEach((be,st)=>{(st===k||be.checkChildren&&st.contains(k))&&Z.push([st,be])}),Z}_isLastInteractionFromInputLabel(k){const{_mostRecentTarget:Z,mostRecentModality:be}=this._inputModalityDetector;if("mouse"!==be||!Z||Z===k||"INPUT"!==k.nodeName&&"TEXTAREA"!==k.nodeName||k.disabled)return!1;const st=k.labels;if(st)for(let tn=0;tn<st.length;tn++)if(st[tn].contains(Z))return!0;return!1}}return Q.\u0275fac=function(k){return new(k||Q)(A.LFG(A.R0b),A.LFG(g.t4),A.LFG(ti),A.LFG(c.K0,8),A.LFG(Gn,8))},Q.\u0275prov=A.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();const He="cdk-high-contrast-black-on-white",$t="cdk-high-contrast-white-on-black",Et="cdk-high-contrast-active";let ln=(()=>{class Q{constructor(k,Z){this._platform=k,this._document=Z,this._breakpointSubscription=(0,A.f3M)(St).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const k=this._document.createElement("div");k.style.backgroundColor="rgb(1,2,3)",k.style.position="absolute",this._document.body.appendChild(k);const Z=this._document.defaultView||window,be=Z&&Z.getComputedStyle?Z.getComputedStyle(k):null,st=(be&&be.backgroundColor||"").replace(/ /g,"");switch(k.remove(),st){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const k=this._document.body.classList;k.remove(Et,He,$t),this._hasCheckedHighContrastMode=!0;const Z=this.getHighContrastMode();1===Z?k.add(Et,He):2===Z&&k.add(Et,$t)}}}return Q.\u0275fac=function(k){return new(k||Q)(A.LFG(g.t4),A.LFG(c.K0))},Q.\u0275prov=A.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),Qe=(()=>{class Q{constructor(k){k._applyBodyHighContrastModeCssClasses()}}return Q.\u0275fac=function(k){return new(k||Q)(A.LFG(ln))},Q.\u0275mod=A.oAB({type:Q}),Q.\u0275inj=A.cJS({imports:[Fe.Q8]}),Q})()},445:(_n,Ye,D)=>{D.d(Ye,{Is:()=>Oe,vT:()=>Ie});var c=D(4650),A=D(6895);const g=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function fe(){return(0,c.f3M)(A.K0)}}),O=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Oe=(()=>{class ie{constructor(re){this.value="ltr",this.change=new c.vpe,re&&(this.value=function Te(ie){const ae=ie?.toLowerCase()||"";return"auto"===ae&&typeof navigator<"u"&&navigator?.language?O.test(navigator.language)?"rtl":"ltr":"rtl"===ae?"rtl":"ltr"}((re.body?re.body.dir:null)||(re.documentElement?re.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return ie.\u0275fac=function(re){return new(re||ie)(c.LFG(g,8))},ie.\u0275prov=c.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),Ie=(()=>{class ie{}return ie.\u0275fac=function(re){return new(re||ie)},ie.\u0275mod=c.oAB({type:ie}),ie.\u0275inj=c.cJS({}),ie})()},1281:(_n,Ye,D)=>{D.d(Ye,{Eq:()=>O,HM:()=>Te,Ig:()=>A,fI:()=>Oe,su:()=>g});var c=D(4650);function A(Ie){return null!=Ie&&"false"!=`${Ie}`}function g(Ie,ie=0){return function fe(Ie){return!isNaN(parseFloat(Ie))&&!isNaN(Number(Ie))}(Ie)?Number(Ie):ie}function O(Ie){return Array.isArray(Ie)?Ie:[Ie]}function Te(Ie){return null==Ie?"":"string"==typeof Ie?Ie:`${Ie}px`}function Oe(Ie){return Ie instanceof c.SBq?Ie.nativeElement:Ie}},9521:(_n,Ye,D)=>{D.d(Ye,{A:()=>vt,JH:()=>lt,JU:()=>Te,K5:()=>O,Ku:()=>Ae,LH:()=>tt,L_:()=>re,MW:()=>Fi,Mf:()=>g,SV:()=>Re,Sd:()=>rt,VM:()=>Ve,Vb:()=>On,Z:()=>Ln,aO:()=>Tt,b2:()=>Cn,hY:()=>ae,jx:()=>Oe,oh:()=>Fe,uR:()=>Ge,xE:()=>_t,zL:()=>ue});const g=9,O=13,Te=16,Oe=17,ue=18,ae=27,re=32,Ae=33,Ve=34,Ge=35,rt=36,Fe=37,tt=38,Re=39,lt=40,_t=48,Tt=57,vt=65,Ln=90,Fi=91,Cn=224;function On(Nn,...Si){return Si.length?Si.some(Er=>Nn[Er]):Nn.altKey||Nn.shiftKey||Nn.ctrlKey||Nn.metaKey}},9643:(_n,Ye,D)=>{D.d(Ye,{Q8:()=>Ie,wD:()=>ue});var c=D(1281),A=D(4650),g=D(9751),fe=D(7579),O=D(8372);let Te=(()=>{class ie{create(re){return typeof MutationObserver>"u"?null:new MutationObserver(re)}}return ie.\u0275fac=function(re){return new(re||ie)},ie.\u0275prov=A.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),Oe=(()=>{class ie{constructor(re){this._mutationObserverFactory=re,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((re,Ae)=>this._cleanupObserver(Ae))}observe(re){const Ae=(0,c.fI)(re);return new g.y(Ve=>{const rt=this._observeElement(Ae).subscribe(Ve);return()=>{rt.unsubscribe(),this._unobserveElement(Ae)}})}_observeElement(re){if(this._observedElements.has(re))this._observedElements.get(re).count++;else{const Ae=new fe.x,Ve=this._mutationObserverFactory.create(Ge=>Ae.next(Ge));Ve&&Ve.observe(re,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(re,{observer:Ve,stream:Ae,count:1})}return this._observedElements.get(re).stream}_unobserveElement(re){this._observedElements.has(re)&&(this._observedElements.get(re).count--,this._observedElements.get(re).count||this._cleanupObserver(re))}_cleanupObserver(re){if(this._observedElements.has(re)){const{observer:Ae,stream:Ve}=this._observedElements.get(re);Ae&&Ae.disconnect(),Ve.complete(),this._observedElements.delete(re)}}}return ie.\u0275fac=function(re){return new(re||ie)(A.LFG(Te))},ie.\u0275prov=A.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),ue=(()=>{class ie{get disabled(){return this._disabled}set disabled(re){this._disabled=(0,c.Ig)(re),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(re){this._debounce=(0,c.su)(re),this._subscribe()}constructor(re,Ae,Ve){this._contentObserver=re,this._elementRef=Ae,this._ngZone=Ve,this.event=new A.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const re=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?re.pipe((0,O.b)(this.debounce)):re).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return ie.\u0275fac=function(re){return new(re||ie)(A.Y36(Oe),A.Y36(A.SBq),A.Y36(A.R0b))},ie.\u0275dir=A.lG2({type:ie,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ie})(),Ie=(()=>{class ie{}return ie.\u0275fac=function(re){return new(re||ie)},ie.\u0275mod=A.oAB({type:ie}),ie.\u0275inj=A.cJS({providers:[Te]}),ie})()},3353:(_n,Ye,D)=>{D.d(Ye,{Mq:()=>Ve,Oy:()=>Se,_i:()=>Ge,i$:()=>ae,kV:()=>tt,qK:()=>ue,sA:()=>lt,t4:()=>fe});var c=D(4650),A=D(6895);let g;try{g=typeof Intl<"u"&&Intl.v8BreakIterator}catch{g=!1}let Te,fe=(()=>{class ge{constructor(Ke){this._platformId=Ke,this.isBrowser=this._platformId?(0,A.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ge.\u0275fac=function(Ke){return new(Ke||ge)(c.LFG(c.Lbi))},ge.\u0275prov=c.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();const Oe=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ue(){if(Te)return Te;if("object"!=typeof document||!document)return Te=new Set(Oe),Te;let ge=document.createElement("input");return Te=new Set(Oe.filter(pe=>(ge.setAttribute("type",pe),ge.type===pe))),Te}let Ie,re,Ae,rt;function ae(ge){return function ie(){if(null==Ie&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ie=!0}))}finally{Ie=Ie||!1}return Ie}()?ge:!!ge.capture}function Ve(){if(null==Ae){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ae=!1,Ae;if("scrollBehavior"in document.documentElement.style)Ae=!0;else{const ge=Element.prototype.scrollTo;Ae=!!ge&&!/\{\s*\[native code\]\s*\}/.test(ge.toString())}}return Ae}function Ge(){if("object"!=typeof document||!document)return 0;if(null==re){const ge=document.createElement("div"),pe=ge.style;ge.dir="rtl",pe.width="1px",pe.overflow="auto",pe.visibility="hidden",pe.pointerEvents="none",pe.position="absolute";const Ke=document.createElement("div"),_t=Ke.style;_t.width="2px",_t.height="1px",ge.appendChild(Ke),document.body.appendChild(ge),re=0,0===ge.scrollLeft&&(ge.scrollLeft=1,re=0===ge.scrollLeft?1:2),ge.remove()}return re}function tt(ge){if(function Fe(){if(null==rt){const ge=typeof document<"u"?document.head:null;rt=!(!ge||!ge.createShadowRoot&&!ge.attachShadow)}return rt}()){const pe=ge.getRootNode?ge.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&pe instanceof ShadowRoot)return pe}return null}function lt(ge){return ge.composedPath?ge.composedPath()[0]:ge.target}function Se(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(_n,Ye,D)=>{D.d(Ye,{UE:()=>ie,eL:()=>lt,u0:()=>Ve});var c=D(4650);class ue{attach(pe){return this._attachedHost=pe,pe.attach(this)}detach(){let pe=this._attachedHost;null!=pe&&(this._attachedHost=null,pe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(pe){this._attachedHost=pe}}class Ie extends ue{constructor(pe,Ke,_t,Rt,qe){super(),this.component=pe,this.viewContainerRef=Ke,this.injector=_t,this.componentFactoryResolver=Rt,this.projectableNodes=qe}}class ie extends ue{constructor(pe,Ke,_t,Rt){super(),this.templateRef=pe,this.viewContainerRef=Ke,this.context=_t,this.injector=Rt}get origin(){return this.templateRef.elementRef}attach(pe,Ke=this.context){return this.context=Ke,super.attach(pe)}detach(){return this.context=void 0,super.detach()}}class ae extends ue{constructor(pe){super(),this.element=pe instanceof c.SBq?pe.nativeElement:pe}}class re{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(pe){return pe instanceof Ie?(this._attachedPortal=pe,this.attachComponentPortal(pe)):pe instanceof ie?(this._attachedPortal=pe,this.attachTemplatePortal(pe)):this.attachDomPortal&&pe instanceof ae?(this._attachedPortal=pe,this.attachDomPortal(pe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(pe){this._disposeFn=pe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ve extends re{constructor(pe,Ke,_t,Rt,qe){super(),this.outletElement=pe,this._componentFactoryResolver=Ke,this._appRef=_t,this._defaultInjector=Rt,this.attachDomPortal=un=>{const St=un.element,bn=this._document.createComment("dom-portal");St.parentNode.insertBefore(bn,St),this.outletElement.appendChild(St),this._attachedPortal=un,super.setDisposeFn(()=>{bn.parentNode&&bn.parentNode.replaceChild(St,bn)})},this._document=qe}attachComponentPortal(pe){const _t=(pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(pe.component);let Rt;return pe.viewContainerRef?(Rt=pe.viewContainerRef.createComponent(_t,pe.viewContainerRef.length,pe.injector||pe.viewContainerRef.injector,pe.projectableNodes||void 0),this.setDisposeFn(()=>Rt.destroy())):(Rt=_t.create(pe.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(Rt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Rt.hostView),Rt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Rt)),this._attachedPortal=pe,Rt}attachTemplatePortal(pe){let Ke=pe.viewContainerRef,_t=Ke.createEmbeddedView(pe.templateRef,pe.context,{injector:pe.injector});return _t.rootNodes.forEach(Rt=>this.outletElement.appendChild(Rt)),_t.detectChanges(),this.setDisposeFn(()=>{let Rt=Ke.indexOf(_t);-1!==Rt&&Ke.remove(Rt)}),this._attachedPortal=pe,_t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(pe){return pe.hostView.rootNodes[0]}}let lt=(()=>{class ge{}return ge.\u0275fac=function(Ke){return new(Ke||ge)},ge.\u0275mod=c.oAB({type:ge}),ge.\u0275inj=c.cJS({}),ge})()},5589:(_n,Ye,D)=>{D.d(Ye,{ZD:()=>Ue,mF:()=>wt,Cl:()=>Zt,rL:()=>vt});var c=D(1281),A=D(4650),g=D(7579),fe=D(9646),O=D(9751),Te=D(4968),Oe=D(4408),ue=D(727);const Ie={schedule(yt){let Ht=requestAnimationFrame,xe=cancelAnimationFrame;const{delegate:ct}=Ie;ct&&(Ht=ct.requestAnimationFrame,xe=ct.cancelAnimationFrame);const bt=Ht(rn=>{xe=void 0,yt(rn)});return new ue.w0(()=>xe?.(bt))},requestAnimationFrame(...yt){const{delegate:Ht}=Ie;return(Ht?.requestAnimationFrame||requestAnimationFrame)(...yt)},cancelAnimationFrame(...yt){const{delegate:Ht}=Ie;return(Ht?.cancelAnimationFrame||cancelAnimationFrame)(...yt)},delegate:void 0};var ae=D(7565);const Ae=new class re extends ae.v{flush(Ht){this._active=!0;const xe=this._scheduled;this._scheduled=void 0;const{actions:ct}=this;let bt;Ht=Ht||ct.shift();do{if(bt=Ht.execute(Ht.state,Ht.delay))break}while((Ht=ct[0])&&Ht.id===xe&&ct.shift());if(this._active=!1,bt){for(;(Ht=ct[0])&&Ht.id===xe&&ct.shift();)Ht.unsubscribe();throw bt}}}(class ie extends Oe.o{constructor(Ht,xe){super(Ht,xe),this.scheduler=Ht,this.work=xe}requestAsyncId(Ht,xe,ct=0){return null!==ct&&ct>0?super.requestAsyncId(Ht,xe,ct):(Ht.actions.push(this),Ht._scheduled||(Ht._scheduled=Ie.requestAnimationFrame(()=>Ht.flush(void 0))))}recycleAsyncId(Ht,xe,ct=0){var bt;if(null!=ct?ct>0:this.delay>0)return super.recycleAsyncId(Ht,xe,ct);const{actions:rn}=Ht;null!=xe&&(null===(bt=rn[rn.length-1])||void 0===bt?void 0:bt.id)!==xe&&(Ie.cancelAnimationFrame(xe),Ht._scheduled=void 0)}});var Ge=D(3101),rt=D(4986),Fe=D(4482),tt=D(8421),Re=D(5403),Se=D(5963);function ge(yt,Ht=rt.z){return function lt(yt){return(0,Fe.e)((Ht,xe)=>{let ct=!1,bt=null,rn=null,Zn=!1;const hi=()=>{if(rn?.unsubscribe(),rn=null,ct){ct=!1;const Ii=bt;bt=null,xe.next(Ii)}Zn&&xe.complete()},Qn=()=>{rn=null,Zn&&xe.complete()};Ht.subscribe((0,Re.x)(xe,Ii=>{ct=!0,bt=Ii,rn||(0,tt.Xf)(yt(Ii)).subscribe(rn=(0,Re.x)(xe,hi,Qn))},()=>{Zn=!0,(!ct||!rn||rn.closed)&&xe.complete()}))})}(()=>(0,Se.H)(yt,Ht))}var pe=D(9300),Ke=D(2722),_t=D(8675),Rt=D(3353),qe=D(6895),un=D(445);const St=["contentWrapper"],bn=["*"],yn=new A.OlP("VIRTUAL_SCROLL_STRATEGY");let wt=(()=>{class yt{constructor(xe,ct,bt){this._ngZone=xe,this._platform=ct,this._scrolled=new g.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=bt}register(xe){this.scrollContainers.has(xe)||this.scrollContainers.set(xe,xe.elementScrolled().subscribe(()=>this._scrolled.next(xe)))}deregister(xe){const ct=this.scrollContainers.get(xe);ct&&(ct.unsubscribe(),this.scrollContainers.delete(xe))}scrolled(xe=20){return this._platform.isBrowser?new O.y(ct=>{this._globalSubscription||this._addGlobalListener();const bt=xe>0?this._scrolled.pipe(ge(xe)).subscribe(ct):this._scrolled.subscribe(ct);return this._scrolledCount++,()=>{bt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,fe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((xe,ct)=>this.deregister(ct)),this._scrolled.complete()}ancestorScrolled(xe,ct){const bt=this.getAncestorScrollContainers(xe);return this.scrolled(ct).pipe((0,pe.h)(rn=>!rn||bt.indexOf(rn)>-1))}getAncestorScrollContainers(xe){const ct=[];return this.scrollContainers.forEach((bt,rn)=>{this._scrollableContainsElement(rn,xe)&&ct.push(rn)}),ct}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(xe,ct){let bt=(0,c.fI)(ct),rn=xe.getElementRef().nativeElement;do{if(bt==rn)return!0}while(bt=bt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const xe=this._getWindow();return(0,Te.R)(xe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return yt.\u0275fac=function(xe){return new(xe||yt)(A.LFG(A.R0b),A.LFG(Rt.t4),A.LFG(qe.K0,8))},yt.\u0275prov=A.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})(),kt=(()=>{class yt{constructor(xe,ct,bt,rn){this.elementRef=xe,this.scrollDispatcher=ct,this.ngZone=bt,this.dir=rn,this._destroyed=new g.x,this._elementScrolled=new O.y(Zn=>this.ngZone.runOutsideAngular(()=>(0,Te.R)(this.elementRef.nativeElement,"scroll").pipe((0,Ke.R)(this._destroyed)).subscribe(Zn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(xe){const ct=this.elementRef.nativeElement,bt=this.dir&&"rtl"==this.dir.value;null==xe.left&&(xe.left=bt?xe.end:xe.start),null==xe.right&&(xe.right=bt?xe.start:xe.end),null!=xe.bottom&&(xe.top=ct.scrollHeight-ct.clientHeight-xe.bottom),bt&&0!=(0,Rt._i)()?(null!=xe.left&&(xe.right=ct.scrollWidth-ct.clientWidth-xe.left),2==(0,Rt._i)()?xe.left=xe.right:1==(0,Rt._i)()&&(xe.left=xe.right?-xe.right:xe.right)):null!=xe.right&&(xe.left=ct.scrollWidth-ct.clientWidth-xe.right),this._applyScrollToOptions(xe)}_applyScrollToOptions(xe){const ct=this.elementRef.nativeElement;(0,Rt.Mq)()?ct.scrollTo(xe):(null!=xe.top&&(ct.scrollTop=xe.top),null!=xe.left&&(ct.scrollLeft=xe.left))}measureScrollOffset(xe){const ct="left",rn=this.elementRef.nativeElement;if("top"==xe)return rn.scrollTop;if("bottom"==xe)return rn.scrollHeight-rn.clientHeight-rn.scrollTop;const Zn=this.dir&&"rtl"==this.dir.value;return"start"==xe?xe=Zn?"right":ct:"end"==xe&&(xe=Zn?ct:"right"),Zn&&2==(0,Rt._i)()?xe==ct?rn.scrollWidth-rn.clientWidth-rn.scrollLeft:rn.scrollLeft:Zn&&1==(0,Rt._i)()?xe==ct?rn.scrollLeft+rn.scrollWidth-rn.clientWidth:-rn.scrollLeft:xe==ct?rn.scrollLeft:rn.scrollWidth-rn.clientWidth-rn.scrollLeft}}return yt.\u0275fac=function(xe){return new(xe||yt)(A.Y36(A.SBq),A.Y36(wt),A.Y36(A.R0b),A.Y36(un.Is,8))},yt.\u0275dir=A.lG2({type:yt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),yt})(),vt=(()=>{class yt{constructor(xe,ct,bt){this._platform=xe,this._change=new g.x,this._changeListener=rn=>{this._change.next(rn)},this._document=bt,ct.runOutsideAngular(()=>{if(xe.isBrowser){const rn=this._getWindow();rn.addEventListener("resize",this._changeListener),rn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const xe=this._getWindow();xe.removeEventListener("resize",this._changeListener),xe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const xe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),xe}getViewportRect(){const xe=this.getViewportScrollPosition(),{width:ct,height:bt}=this.getViewportSize();return{top:xe.top,left:xe.left,bottom:xe.top+bt,right:xe.left+ct,height:bt,width:ct}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const xe=this._document,ct=this._getWindow(),bt=xe.documentElement,rn=bt.getBoundingClientRect();return{top:-rn.top||xe.body.scrollTop||ct.scrollY||bt.scrollTop||0,left:-rn.left||xe.body.scrollLeft||ct.scrollX||bt.scrollLeft||0}}change(xe=20){return xe>0?this._change.pipe(ge(xe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const xe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:xe.innerWidth,height:xe.innerHeight}:{width:0,height:0}}}return yt.\u0275fac=function(xe){return new(xe||yt)(A.LFG(Rt.t4),A.LFG(A.R0b),A.LFG(qe.K0,8))},yt.\u0275prov=A.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})();const jt=new A.OlP("VIRTUAL_SCROLLABLE");let an=(()=>{class yt extends kt{constructor(xe,ct,bt,rn){super(xe,ct,bt,rn)}measureViewportSize(xe){const ct=this.elementRef.nativeElement;return"horizontal"===xe?ct.clientWidth:ct.clientHeight}}return yt.\u0275fac=function(xe){return new(xe||yt)(A.Y36(A.SBq),A.Y36(wt),A.Y36(A.R0b),A.Y36(un.Is,8))},yt.\u0275dir=A.lG2({type:yt,features:[A.qOj]}),yt})();const Je=typeof requestAnimationFrame<"u"?Ae:Ge.E;let wn=(()=>{class yt extends an{get orientation(){return this._orientation}set orientation(xe){this._orientation!==xe&&(this._orientation=xe,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(xe){this._appendOnly=(0,c.Ig)(xe)}constructor(xe,ct,bt,rn,Zn,hi,Qn,Ii){super(xe,hi,bt,Zn),this.elementRef=xe,this._changeDetectorRef=ct,this._scrollStrategy=rn,this.scrollable=Ii,this._platform=(0,A.f3M)(Rt.t4),this._detachedSubject=new g.x,this._renderedRangeSubject=new g.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new O.y(_i=>this._scrollStrategy.scrolledIndexChange.subscribe(di=>Promise.resolve().then(()=>this.ngZone.run(()=>_i.next(di))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ue.w0.EMPTY,this._viewportChanges=Qn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,_t.O)(null),ge(0,Je)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(xe){this.ngZone.runOutsideAngular(()=>{this._forOf=xe,this._forOf.dataStream.pipe((0,Ke.R)(this._detachedSubject)).subscribe(ct=>{const bt=ct.length;bt!==this._dataLength&&(this._dataLength=bt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(xe){return this.getElementRef().nativeElement.getBoundingClientRect()[xe]}setTotalContentSize(xe){this._totalContentSize!==xe&&(this._totalContentSize=xe,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(xe){(function Vt(yt,Ht){return yt.start==Ht.start&&yt.end==Ht.end})(this._renderedRange,xe)||(this.appendOnly&&(xe={start:0,end:Math.max(this._renderedRange.end,xe.end)}),this._renderedRangeSubject.next(this._renderedRange=xe),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(xe,ct="to-start"){xe=this.appendOnly&&"to-start"===ct?0:xe;const rn="horizontal"==this.orientation,Zn=rn?"X":"Y";let Qn=`translate${Zn}(${Number((rn&&this.dir&&"rtl"==this.dir.value?-1:1)*xe)}px)`;this._renderedContentOffset=xe,"to-end"===ct&&(Qn+=` translate${Zn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Qn&&(this._renderedContentTransform=Qn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(xe,ct="auto"){const bt={behavior:ct};"horizontal"===this.orientation?bt.start=xe:bt.top=xe,this.scrollable.scrollTo(bt)}scrollToIndex(xe,ct="auto"){this._scrollStrategy.scrollToIndex(xe,ct)}measureScrollOffset(xe){let ct;return ct=this.scrollable==this?bt=>super.measureScrollOffset(bt):bt=>this.scrollable.measureScrollOffset(bt),Math.max(0,ct(xe??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(xe){let ct;const Zn="rtl"==this.dir?.value;ct="start"==xe?Zn?"right":"left":"end"==xe?Zn?"left":"right":xe||("horizontal"===this.orientation?"left":"top");const hi=this.scrollable.measureBoundingClientRectWithScrollOffset(ct);return this.elementRef.nativeElement.getBoundingClientRect()[ct]-hi}measureRenderedContentSize(){const xe=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?xe.offsetWidth:xe.offsetHeight}measureRangeSize(xe){return this._forOf?this._forOf.measureRangeSize(xe,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(xe){xe&&this._runAfterChangeDetection.push(xe),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const xe=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const ct of xe)ct()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return yt.\u0275fac=function(xe){return new(xe||yt)(A.Y36(A.SBq),A.Y36(A.sBO),A.Y36(A.R0b),A.Y36(yn,8),A.Y36(un.Is,8),A.Y36(wt),A.Y36(vt),A.Y36(jt,8))},yt.\u0275cmp=A.Xpm({type:yt,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(xe,ct){if(1&xe&&A.Gf(St,7),2&xe){let bt;A.iGM(bt=A.CRH())&&(ct._contentWrapper=bt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(xe,ct){2&xe&&A.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===ct.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==ct.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[A._Bn([{provide:kt,useFactory:(Ht,xe)=>Ht||xe,deps:[[new A.FiY,new A.tBr(jt)],yt]}]),A.qOj,A.jDz],ngContentSelectors:bn,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(xe,ct){1&xe&&(A.F$t(),A.TgZ(0,"div",0,1),A.Hsn(2),A.qZA(),A._UZ(3,"div",2)),2&xe&&(A.xp6(3),A.Udp("width",ct._totalContentWidth)("height",ct._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),yt})(),Ue=(()=>{class yt{}return yt.\u0275fac=function(xe){return new(xe||yt)},yt.\u0275mod=A.oAB({type:yt}),yt.\u0275inj=A.cJS({}),yt})(),Zt=(()=>{class yt{}return yt.\u0275fac=function(xe){return new(xe||yt)},yt.\u0275mod=A.oAB({type:yt}),yt.\u0275inj=A.cJS({imports:[un.vT,Ue,wn,un.vT,Ue]}),yt})()},6895:(_n,Ye,D)=>{D.d(Ye,{Do:()=>Re,EM:()=>os,HT:()=>fe,JF:()=>Ms,K0:()=>Te,Mx:()=>ze,NF:()=>Us,O5:()=>Er,Ov:()=>nn,PC:()=>So,PM:()=>Ir,RF:()=>zr,S$:()=>rt,V_:()=>Ie,Ye:()=>lt,b0:()=>tt,bD:()=>Uo,ez:()=>Ur,mk:()=>De,n9:()=>hr,q:()=>g,rS:()=>yi,sg:()=>On,tP:()=>qi,w_:()=>O});var c=D(4650);let A=null;function g(){return A}function fe(N){A||(A=N)}class O{}const Te=new c.OlP("DocumentToken");let Oe=(()=>{class N{historyGo(H){throw new Error("Not implemented")}}return N.\u0275fac=function(H){return new(H||N)},N.\u0275prov=c.Yz7({token:N,factory:function(){return function ue(){return(0,c.LFG)(ie)}()},providedIn:"platform"}),N})();const Ie=new c.OlP("Location Initialized");let ie=(()=>{class N extends Oe{constructor(H){super(),this._doc=H,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(H){const he=g().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",H,!1),()=>he.removeEventListener("popstate",H)}onHashChange(H){const he=g().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",H,!1),()=>he.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,he,je){ae()?this._history.pushState(H,he,je):this._location.hash=je}replaceState(H,he,je){ae()?this._history.replaceState(H,he,je):this._location.hash=je}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return N.\u0275fac=function(H){return new(H||N)(c.LFG(Te))},N.\u0275prov=c.Yz7({token:N,factory:function(){return function re(){return new ie((0,c.LFG)(Te))}()},providedIn:"platform"}),N})();function ae(){return!!window.history.pushState}function Ae(N,X){if(0==N.length)return X;if(0==X.length)return N;let H=0;return N.endsWith("/")&&H++,X.startsWith("/")&&H++,2==H?N+X.substring(1):1==H?N+X:N+"/"+X}function Ve(N){const X=N.match(/#|\?|$/),H=X&&X.index||N.length;return N.slice(0,H-("/"===N[H-1]?1:0))+N.slice(H)}function Ge(N){return N&&"?"!==N[0]?"?"+N:N}let rt=(()=>{class N{historyGo(H){throw new Error("Not implemented")}}return N.\u0275fac=function(H){return new(H||N)},N.\u0275prov=c.Yz7({token:N,factory:function(){return(0,c.f3M)(tt)},providedIn:"root"}),N})();const Fe=new c.OlP("appBaseHref");let tt=(()=>{class N extends rt{constructor(H,he){super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=he??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return Ae(this._baseHref,H)}path(H=!1){const he=this._platformLocation.pathname+Ge(this._platformLocation.search),je=this._platformLocation.hash;return je&&H?`${he}${je}`:he}pushState(H,he,je,Jt){const fn=this.prepareExternalUrl(je+Ge(Jt));this._platformLocation.pushState(H,he,fn)}replaceState(H,he,je,Jt){const fn=this.prepareExternalUrl(je+Ge(Jt));this._platformLocation.replaceState(H,he,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return N.\u0275fac=function(H){return new(H||N)(c.LFG(Oe),c.LFG(Fe,8))},N.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Re=(()=>{class N extends rt{constructor(H,he){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let he=this._platformLocation.hash;return null==he&&(he="#"),he.length>0?he.substring(1):he}prepareExternalUrl(H){const he=Ae(this._baseHref,H);return he.length>0?"#"+he:he}pushState(H,he,je,Jt){let fn=this.prepareExternalUrl(je+Ge(Jt));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.pushState(H,he,fn)}replaceState(H,he,je,Jt){let fn=this.prepareExternalUrl(je+Ge(Jt));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.replaceState(H,he,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return N.\u0275fac=function(H){return new(H||N)(c.LFG(Oe),c.LFG(Fe,8))},N.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac}),N})(),lt=(()=>{class N{constructor(H){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const he=this._locationStrategy.getBaseHref();this._basePath=function Ke(N){if(new RegExp("^(https?:)?//").test(N)){const[,H]=N.split(/\/\/[^\/]+/);return H}return N}(Ve(pe(he))),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,he=""){return this.path()==this.normalize(H+Ge(he))}normalize(H){return N.stripTrailingSlash(function ge(N,X){if(!N||!X.startsWith(N))return X;const H=X.substring(N.length);return""===H||["/",";","?","#"].includes(H[0])?H:X}(this._basePath,pe(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,he="",je=null){this._locationStrategy.pushState(je,"",H,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Ge(he)),je)}replaceState(H,he="",je=null){this._locationStrategy.replaceState(je,"",H,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Ge(he)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){this._locationStrategy.historyGo?.(H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(he=>{this._notifyUrlChangeListeners(he.url,he.state)})),()=>{const he=this._urlChangeListeners.indexOf(H);this._urlChangeListeners.splice(he,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",he){this._urlChangeListeners.forEach(je=>je(H,he))}subscribe(H,he,je){return this._subject.subscribe({next:H,error:he,complete:je})}}return N.normalizeQueryParams=Ge,N.joinWithSlash=Ae,N.stripTrailingSlash=Ve,N.\u0275fac=function(H){return new(H||N)(c.LFG(rt))},N.\u0275prov=c.Yz7({token:N,factory:function(){return function Se(){return new lt((0,c.LFG)(rt))}()},providedIn:"root"}),N})();function pe(N){return N.replace(/\/index.html$/,"")}function ze(N,X){X=encodeURIComponent(X);for(const H of N.split(";")){const he=H.indexOf("="),[je,Jt]=-1==he?[H,""]:[H.slice(0,he),H.slice(he+1)];if(je.trim()===X)return decodeURIComponent(Jt)}return null}const we=/\s+/,te=[];let De=(()=>{class N{constructor(H,he,je,Jt){this._iterableDiffers=H,this._keyValueDiffers=he,this._ngEl=je,this._renderer=Jt,this.initialClasses=te,this.stateMap=new Map}set klass(H){this.initialClasses=null!=H?H.trim().split(we):te}set ngClass(H){this.rawClass="string"==typeof H?H.trim().split(we):H}ngDoCheck(){for(const he of this.initialClasses)this._updateState(he,!0);const H=this.rawClass;if(Array.isArray(H)||H instanceof Set)for(const he of H)this._updateState(he,!0);else if(null!=H)for(const he of Object.keys(H))this._updateState(he,Boolean(H[he]));this._applyStateDiff()}_updateState(H,he){const je=this.stateMap.get(H);void 0!==je?(je.enabled!==he&&(je.changed=!0,je.enabled=he),je.touched=!0):this.stateMap.set(H,{enabled:he,changed:!0,touched:!0})}_applyStateDiff(){for(const H of this.stateMap){const he=H[0],je=H[1];je.changed?(this._toggleClass(he,je.enabled),je.changed=!1):je.touched||(je.enabled&&this._toggleClass(he,!1),this.stateMap.delete(he)),je.touched=!1}}_toggleClass(H,he){(H=H.trim()).length>0&&H.split(we).forEach(je=>{he?this._renderer.addClass(this._ngEl.nativeElement,je):this._renderer.removeClass(this._ngEl.nativeElement,je)})}}return N.\u0275fac=function(H){return new(H||N)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class Cn{constructor(X,H,he,je){this.$implicit=X,this.ngForOf=H,this.index=he,this.count=je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class N{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,he,je){this._viewContainer=H,this._template=he,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const he=this._viewContainer;H.forEachOperation((je,Jt,fn)=>{if(null==je.previousIndex)he.createEmbeddedView(this._template,new Cn(je.item,this._ngForOf,-1,-1),null===fn?void 0:fn);else if(null==fn)he.remove(null===Jt?void 0:Jt);else if(null!==Jt){const Bn=he.get(Jt);he.move(Bn,fn),Nn(Bn,je)}});for(let je=0,Jt=he.length;je<Jt;je++){const Bn=he.get(je).context;Bn.index=je,Bn.count=Jt,Bn.ngForOf=this._ngForOf}H.forEachIdentityChange(je=>{Nn(he.get(je.currentIndex),je)})}static ngTemplateContextGuard(H,he){return!0}}return N.\u0275fac=function(H){return new(H||N)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function Nn(N,X){N.context.$implicit=X.item}let Er=(()=>{class N{constructor(H,he){this._viewContainer=H,this._context=new Yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){Mr("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){Mr("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,he){return!0}}return N.\u0275fac=function(H){return new(H||N)(c.Y36(c.s_b),c.Y36(c.Rgc))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class Yn{constructor(){this.$implicit=null,this.ngIf=null}}function Mr(N,X){if(X&&!X.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,c.AaK)(X)}'.`)}class dr{constructor(X,H){this._viewContainerRef=X,this._templateRef=H,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(X){X&&!this._created?this.create():!X&&this._created&&this.destroy()}}let zr=(()=>{class N{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(H){this._ngSwitch=H,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(H){this._defaultViews.push(H)}_matchCase(H){const he=H==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||he,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),he}_updateDefaultCases(H){if(this._defaultViews.length>0&&H!==this._defaultUsed){this._defaultUsed=H;for(const he of this._defaultViews)he.enforceState(H)}}}return N.\u0275fac=function(H){return new(H||N)},N.\u0275dir=c.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),hr=(()=>{class N{constructor(H,he,je){this.ngSwitch=je,je._addCase(),this._view=new dr(H,he)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(H){return new(H||N)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(zr,9))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})(),So=(()=>{class N{constructor(H,he,je){this._ngEl=H,this._differs=he,this._renderer=je,this._ngStyle=null,this._differ=null}set ngStyle(H){this._ngStyle=H,!this._differ&&H&&(this._differ=this._differs.find(H).create())}ngDoCheck(){if(this._differ){const H=this._differ.diff(this._ngStyle);H&&this._applyChanges(H)}}_setStyle(H,he){const[je,Jt]=H.split("."),fn=-1===je.indexOf("-")?void 0:c.JOm.DashCase;null!=he?this._renderer.setStyle(this._ngEl.nativeElement,je,Jt?`${he}${Jt}`:he,fn):this._renderer.removeStyle(this._ngEl.nativeElement,je,fn)}_applyChanges(H){H.forEachRemovedItem(he=>this._setStyle(he.key,null)),H.forEachAddedItem(he=>this._setStyle(he.key,he.currentValue)),H.forEachChangedItem(he=>this._setStyle(he.key,he.currentValue))}}return N.\u0275fac=function(H){return new(H||N)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),N})(),qi=(()=>{class N{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(H.ngTemplateOutlet||H.ngTemplateOutletInjector){const he=this._viewContainerRef;if(this._viewRef&&he.remove(he.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:je,ngTemplateOutletContext:Jt,ngTemplateOutletInjector:fn}=this;this._viewRef=he.createEmbeddedView(je,Jt,fn?{injector:fn}:void 0)}else this._viewRef=null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(H){return new(H||N)(c.Y36(c.s_b))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),N})();function Br(N,X){return new c.vHH(2100,!1)}class so{createSubscription(X,H){return X.subscribe({next:H,error:he=>{throw he}})}dispose(X){X.unsubscribe()}}class mt{createSubscription(X,H){return X.then(H,he=>{throw he})}dispose(X){}}const at=new mt,Ut=new so;let nn=(()=>{class N{constructor(H){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=H}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(H){return this._obj?H!==this._obj?(this._dispose(),this.transform(H)):this._latestValue:(H&&this._subscribe(H),this._latestValue)}_subscribe(H){this._obj=H,this._strategy=this._selectStrategy(H),this._subscription=this._strategy.createSubscription(H,he=>this._updateLatestValue(H,he))}_selectStrategy(H){if((0,c.QGY)(H))return at;if((0,c.F4k)(H))return Ut;throw Br()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(H,he){H===this._obj&&(this._latestValue=he,this._ref.markForCheck())}}return N.\u0275fac=function(H){return new(H||N)(c.Y36(c.sBO,16))},N.\u0275pipe=c.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})();const ci=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let yi=(()=>{class N{transform(H){if(null==H)return null;if("string"!=typeof H)throw Br();return H.replace(ci,he=>he[0].toUpperCase()+he.slice(1).toLowerCase())}}return N.\u0275fac=function(H){return new(H||N)},N.\u0275pipe=c.Yjl({name:"titlecase",type:N,pure:!0,standalone:!0}),N})(),Ur=(()=>{class N{}return N.\u0275fac=function(H){return new(H||N)},N.\u0275mod=c.oAB({type:N}),N.\u0275inj=c.cJS({}),N})();const Uo="browser",ps="server";function Us(N){return N===Uo}function Ir(N){return N===ps}let os=(()=>{class N{}return N.\u0275prov=(0,c.Yz7)({token:N,providedIn:"root",factory:()=>new ss((0,c.LFG)(Te),window)}),N})();class ss{constructor(X,H){this.document=X,this.window=H,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const H=function po(N,X){const H=N.getElementById(X)||N.getElementsByName(X)[0];if(H)return H;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const he=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let je=he.currentNode;for(;je;){const Jt=je.shadowRoot;if(Jt){const fn=Jt.getElementById(X)||Jt.querySelector(`[name="${X}"]`);if(fn)return fn}je=he.nextNode()}}return null}(this.document,X);H&&(this.scrollToElement(H),H.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=X)}}scrollToElement(X){const H=X.getBoundingClientRect(),he=H.left+this.window.pageXOffset,je=H.top+this.window.pageYOffset,Jt=this.offset();this.window.scrollTo(he-Jt[0],je-Jt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ms(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Ms{}},4650:(_n,Ye,D)=>{D.d(Ye,{$8M:()=>Ma,$WT:()=>ee,$Z:()=>bf,AFp:()=>e0,ALo:()=>Eb,AaK:()=>ue,CHM:()=>Xn,CRH:()=>Rb,CZH:()=>S_,CqO:()=>Td,D6c:()=>Dw,EJc:()=>zE,EiD:()=>Cs,EpF:()=>$f,F$t:()=>Ng,F4k:()=>Pg,FYo:()=>Ep,FiY:()=>Rl,Gf:()=>Mb,GfV:()=>uf,Gpc:()=>ae,Hsn:()=>Fg,Ikx:()=>kh,JOm:()=>ca,JVY:()=>Yd,JZr:()=>rt,Jf7:()=>xp,KtG:()=>vi,L6k:()=>Qd,LAX:()=>ha,LFG:()=>Lt,LSH:()=>xl,Lbi:()=>UE,Lck:()=>L0,MAs:()=>jf,MMx:()=>fv,NdJ:()=>um,O4$:()=>es,OlP:()=>Qi,Oqu:()=>ku,P3R:()=>bu,PXZ:()=>rw,Q6J:()=>am,QGY:()=>Ch,QbO:()=>VE,Qsj:()=>B_,R0b:()=>Xl,RDi:()=>ho,Rgc:()=>Lm,SBq:()=>Il,Sil:()=>GE,Suo:()=>Ab,TTD:()=>Ss,TgZ:()=>Id,Tol:()=>Wg,Udp:()=>ll,VKq:()=>pb,W1O:()=>Nb,WLB:()=>mb,X6Q:()=>cw,XFs:()=>bt,Xpm:()=>tn,Xts:()=>Eu,Y36:()=>cd,YKP:()=>ob,YNc:()=>Hf,Yjl:()=>li,Yz7:()=>Je,Z0I:()=>Bt,ZZ4:()=>Bv,_Bn:()=>rb,_UZ:()=>lm,_Vd:()=>th,_c5:()=>Iw,_uU:()=>xm,aQg:()=>Uv,c2e:()=>HE,cJS:()=>ht,cg1:()=>a_,dDg:()=>ew,dqk:()=>_i,eBb:()=>Xh,eFA:()=>p0,eJc:()=>wv,ekj:()=>Em,eoX:()=>u0,f3M:()=>z,g9A:()=>n0,h0i:()=>cp,hGG:()=>Tw,hij:()=>Xf,iGM:()=>Sb,ifc:()=>$t,ip1:()=>Jb,jDz:()=>ab,kL8:()=>c_,lG2:()=>Wn,lcZ:()=>wb,lqb:()=>za,lri:()=>l0,mCW:()=>kc,n5z:()=>wo,n_E:()=>C_,oAB:()=>Ot,oJD:()=>vu,oxw:()=>kg,pB0:()=>Fo,q3G:()=>Ki,q4F:()=>df,qLn:()=>jc,qOj:()=>tm,qZA:()=>Eh,qzn:()=>wl,rWj:()=>c0,s9C:()=>Dd,sBO:()=>uw,s_b:()=>I_,soG:()=>M_,tBr:()=>fl,tb:()=>h0,tp0:()=>bc,uIk:()=>om,vHH:()=>Fe,vpe:()=>ru,wAp:()=>Oi,xp6:()=>ig,z2F:()=>A_,z3N:()=>Go,zSh:()=>rf,zs3:()=>Tu});var c=D(7579),A=D(727),g=D(9751),fe=D(6451),O=D(3099);function Te(n){for(let r in n)if(n[r]===Te)return r;throw Error("Could not find renamed property on target object.")}function Oe(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ie(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ie=Te({__forward_ref__:Te});function ae(n){return n.__forward_ref__=ae,n.toString=function(){return ue(this())},n}function re(n){return Ae(n)?n():n}function Ae(n){return"function"==typeof n&&n.hasOwnProperty(ie)&&n.__forward_ref__===ae}function Ve(n){return n&&!!n.\u0275providers}const rt="https://g.co/ng/security#xss";class Fe extends Error{constructor(r,s){super(tt(r,s)),this.code=r}}function tt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function Re(n){return"string"==typeof n?n:null==n?"":String(n)}function Ke(n,r){throw new Fe(-201,!1)}function gt(n,r){null==n&&function vt(n,r,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}(r,n,null,"!=")}function Je(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function En(n){return mn(n,yt)||mn(n,xe)}function Bt(n){return null!==En(n)}function mn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Zt(n){return n&&(n.hasOwnProperty(Ht)||n.hasOwnProperty(ct))?n[Ht]:null}const yt=Te({\u0275prov:Te}),Ht=Te({\u0275inj:Te}),xe=Te({ngInjectableDef:Te}),ct=Te({ngInjectorDef:Te});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let rn;function hi(n){const r=rn;return rn=n,r}function Qn(n,r,s){const l=En(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&bt.Optional?null:void 0!==r?r:void Ke(ue(n))}const _i=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fi={},Dt="__NG_DI_FLAG__",Tn="ngTempTokenPath",Mt="ngTokenPath",zt=/\n/gm,$n="\u0275",Rn="__source";let Mi;function kn(n){const r=Mi;return Mi=n,r}function ti(n,r=bt.Default){if(void 0===Mi)throw new Fe(-203,!1);return null===Mi?Qn(n,void 0,r):Mi.get(n,r&bt.Optional?null:void 0,r)}function Lt(n,r=bt.Default){return(function Zn(){return rn}()||ti)(re(n),r)}function z(n,r=bt.Default){return Lt(n,ce(r))}function ce(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function nt(n){const r=[];for(let s=0;s<n.length;s++){const l=re(n[s]);if(Array.isArray(l)){if(0===l.length)throw new Fe(900,!1);let u,p=bt.Default;for(let x=0;x<l.length;x++){const P=l[x],U=Gn(P);"number"==typeof U?-1===U?u=P.token:p|=U:u=P}r.push(Lt(u,p))}else r.push(Lt(l))}return r}function Qt(n,r){return n[Dt]=r,n.prototype[Dt]=r,n}function Gn(n){return n[Dt]}function Ne(n){return{toString:n}.toString()}var He=(()=>((He=He||{})[He.OnPush=0]="OnPush",He[He.Default=1]="Default",He))(),$t=(()=>{return(n=$t||($t={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$t;var n})();const Et={},ln=[],Qe=Te({\u0275cmp:Te}),Q=Te({\u0275dir:Te}),V=Te({\u0275pipe:Te}),k=Te({\u0275mod:Te}),Z=Te({\u0275fac:Te}),be=Te({__NG_ELEMENT_ID__:Te});let st=0;function tn(n){return Ne(()=>{const r=ot(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===He.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||$t.Emulated,id:"c"+st++,styles:n.styles||ln,_:null,schemas:n.schemas||null,tView:null};Nt(s);const l=n.dependencies;return s.directiveDefs=ze(l,!1),s.pipeDefs=ze(l,!0),s})}function ei(n){return zn(n)||ft(n)}function It(n){return null!==n}function Ot(n){return Ne(()=>({type:n.type,bootstrap:n.bootstrap||ln,declarations:n.declarations||ln,imports:n.imports||ln,exports:n.exports||ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Mn(n,r){if(null==n)return Et;const s={};for(const l in n)if(n.hasOwnProperty(l)){let u=n[l],p=u;Array.isArray(u)&&(p=u[1],u=u[0]),s[u]=l,r&&(r[u]=p)}return s}function Wn(n){return Ne(()=>{const r=ot(n);return Nt(r),r})}function li(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function zn(n){return n[Qe]||null}function ft(n){return n[Q]||null}function oe(n){return n[V]||null}function ee(n){const r=zn(n)||ft(n)||oe(n);return null!==r&&r.standalone}function Ce(n,r){const s=n[k]||null;if(!s&&!0===r)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return s}function ot(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ln,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mn(n.inputs,r),outputs:Mn(n.outputs)}}function Nt(n){n.features?.forEach(r=>r(n))}function ze(n,r){if(!n)return null;const s=r?oe:ei;return()=>("function"==typeof n?n():n).map(l=>s(l)).filter(It)}const we=0,te=1,De=2,et=3,Wt=4,on=5,Cn=6,On=7,Nn=8,Si=9,Er=10,Yn=11,Mr=12,dr=13,zr=14,hr=15,sr=16,Lo=17,oo=18,qr=19,So=20,qi=21,Wi=22,so=1,mt=2,at=7,Ut=8,nn=9,gn=10;function yi(n){return Array.isArray(n)&&"object"==typeof n[so]}function fi(n){return Array.isArray(n)&&!0===n[so]}function Ci(n){return 0!=(4&n.flags)}function wr(n){return n.componentOffset>-1}function yo(n){return 1==(1&n.flags)}function tr(n){return!!n.template}function nr(n){return 0!=(256&n[De])}function fo(n,r){return n.hasOwnProperty(Z)?n[Z]:null}class lo{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ss(){return os}function os(n){return n.type.prototype.ngOnChanges&&(n.setInput=ms),ss}function ss(){const n=ea(this),r=n?.current;if(r){const s=n.previous;if(s===Et)n.previous=r;else for(let l in r)s[l]=r[l];n.current=null,this.ngOnChanges(r)}}function ms(n,r,s,l){const u=this.declaredInputs[s],p=ea(n)||function Ms(n,r){return n[po]=r}(n,{previous:Et,current:null}),x=p.current||(p.current={}),P=p.previous,U=P[u];x[u]=new lo(U&&U.currentValue,r,P===Et),n[l]=r}Ss.ngInherit=!0;const po="__ngSimpleChanges__";function ea(n){return n[po]||null}const Ar=function(n,r,s){},Vr="svg";function vr(n){for(;Array.isArray(n);)n=n[we];return n}function Ro(n,r){return vr(r[n])}function Di(n,r){return vr(r[n.index])}function Hs(n,r){return n.data[r]}function Nr(n,r){return n[r]}function br(n,r){const s=r[n];return yi(s)?s:s[we]}function mo(n){return 64==(64&n[De])}function mr(n,r){return null==r?null:n[r]}function Yo(n){n[oo]=0}function $r(n,r){n[on]+=r;let s=n,l=n[et];for(;null!==l&&(1===r&&1===s[on]||-1===r&&0===s[on]);)l[on]+=r,s=l,l=l[et]}const mi={lFrame:zs(null),bindingsEnabled:!0};function _e(){return mi.bindingsEnabled}function ut(){return mi.lFrame.lView}function pn(){return mi.lFrame.tView}function Xn(n){return mi.lFrame.contextLView=n,n[Nn]}function vi(n){return mi.lFrame.contextLView=null,n}function ki(){let n=ir();for(;null!==n&&64===n.type;)n=n.parent;return n}function ir(){return mi.lFrame.currentTNode}function zi(n,r){const s=mi.lFrame;s.currentTNode=n,s.isParent=r}function co(){return mi.lFrame.isParent}function lr(){mi.lFrame.isParent=!1}function Bi(){const n=mi.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function jo(){return mi.lFrame.bindingIndex++}function Rr(n){const r=mi.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Rs(n,r){const s=mi.lFrame;s.bindingIndex=s.bindingRootIndex=n,eo(r)}function eo(n){mi.lFrame.currentDirectiveIndex=n}function na(){return mi.lFrame.currentQueryIndex}function Xi(n){mi.lFrame.currentQueryIndex=n}function ga(n){const r=n[te];return 2===r.type?r.declTNode:1===r.type?n[Cn]:null}function gs(n,r,s){if(s&bt.SkipSelf){let u=r,p=n;for(;!(u=u.parent,null!==u||s&bt.Host||(u=ga(p),null===u||(p=p[hr],10&u.type))););if(null===u)return!1;r=u,n=p}const l=mi.lFrame=hs();return l.currentTNode=r,l.lView=n,!0}function Po(n){const r=hs(),s=n[te];mi.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function hs(){const n=mi.lFrame,r=null===n?null:n.child;return null===r?zs(n):r}function zs(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Xo(){const n=mi.lFrame;return mi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _a=Xo;function ya(){const n=Xo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rr(){return mi.lFrame.selectedIndex}function Jo(n){mi.lFrame.selectedIndex=n}function xr(){const n=mi.lFrame;return Hs(n.tView,n.selectedIndex)}function es(){mi.lFrame.currentNamespace=Vr}function ra(n,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const p=n.data[s].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:P,ngAfterViewInit:U,ngAfterViewChecked:Y,ngOnDestroy:me}=p;x&&(n.contentHooks??(n.contentHooks=[])).push(-s,x),P&&((n.contentHooks??(n.contentHooks=[])).push(s,P),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,P)),U&&(n.viewHooks??(n.viewHooks=[])).push(-s,U),Y&&((n.viewHooks??(n.viewHooks=[])).push(s,Y),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,Y)),null!=me&&(n.destroyHooks??(n.destroyHooks=[])).push(s,me)}}function Ta(n,r,s){X(n,r,3,s)}function Da(n,r,s,l){(3&n[De])===s&&X(n,r,s,l)}function N(n,r){let s=n[De];(3&s)===r&&(s&=2047,s+=1,n[De]=s)}function X(n,r,s,l){const p=l??-1,x=r.length-1;let P=0;for(let U=void 0!==l?65535&n[oo]:0;U<x;U++)if("number"==typeof r[U+1]){if(P=r[U],null!=l&&P>=l)break}else r[U]<0&&(n[oo]+=65536),(P<p||-1==p)&&(H(n,s,r,U),n[oo]=(4294901760&n[oo])+U+2),U++}function H(n,r,s,l){const u=s[l]<0,p=s[l+1],P=n[u?-s[l]:s[l]];if(u){if(n[De]>>11<n[oo]>>16&&(3&n[De])===r){n[De]+=2048,Ar(4,P,p);try{p.call(P)}finally{Ar(5,P,p)}}}else{Ar(4,P,p);try{p.call(P)}finally{Ar(5,P,p)}}}const he=-1;class je{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function w(n,r,s){let l=0;for(;l<s.length;){const u=s[l];if("number"==typeof u){if(0!==u)break;l++;const p=s[l++],x=s[l++],P=s[l++];n.setAttribute(r,x,P,p)}else{const p=u,x=s[++l];ne(p)?n.setProperty(r,p,x):n.setAttribute(r,p,x),l++}}return l}function L(n){return 3===n||4===n||6===n}function ne(n){return 64===n.charCodeAt(0)}function se(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const u=r[l];"number"==typeof u?s=u:0===s||Me(n,s,u,null,-1===s||2===s?r[++l]:null)}}return n}function Me(n,r,s,l,u){let p=0,x=n.length;if(-1===r)x=-1;else for(;p<n.length;){const P=n[p++];if("number"==typeof P){if(P===r){x=-1;break}if(P>r){x=p-1;break}}}for(;p<n.length;){const P=n[p];if("number"==typeof P)break;if(P===s){if(null===l)return void(null!==u&&(n[p+1]=u));if(l===n[p+1])return void(n[p+2]=u)}p++,null!==l&&p++,null!==u&&p++}-1!==x&&(n.splice(x,0,r),p=x+1),n.splice(p++,0,s),null!==l&&n.splice(p++,0,l),null!==u&&n.splice(p++,0,u)}function Xe(n){return n!==he}function $e(n){return 32767&n}function Ct(n,r){let s=function ke(n){return n>>16}(n),l=r;for(;s>0;)l=l[hr],s--;return l}let An=!0;function Vi(n){const r=An;return An=n,r}const bi=255,Ai=5;let or=0;const Yi={};function vo(n,r){const s=Os(n,r);if(-1!==s)return s;const l=r[te];l.firstCreatePass&&(n.injectorIndex=r.length,ro(l.data,n),ro(r,null),ro(l.blueprint,null));const u=Or(n,r),p=n.injectorIndex;if(Xe(u)){const x=$e(u),P=Ct(u,r),U=P[te].data;for(let Y=0;Y<8;Y++)r[p+Y]=P[x+Y]|U[x+Y]}return r[p+8]=u,p}function ro(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Os(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Or(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,u=r;for(;null!==u;){if(l=Tr(u),null===l)return he;if(s++,u=u[hr],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return he}function Fn(n,r,s){!function Pr(n,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(be)&&(l=s[be]),null==l&&(l=s[be]=or++);const u=l&bi;r.data[n+(u>>Ai)]|=1<<u}(n,r,s)}function ls(n,r,s){if(s&bt.Optional||void 0!==n)return n;Ke()}function cr(n,r,s,l){if(s&bt.Optional&&void 0===l&&(l=null),!(s&(bt.Self|bt.Host))){const u=n[Si],p=hi(void 0);try{return u?u.get(r,l,s&bt.Optional):Qn(r,l,s&bt.Optional)}finally{hi(p)}}return ls(l,0,s)}function ri(n,r,s,l=bt.Default,u){if(null!==n){if(1024&r[De]){const x=function ko(n,r,s,l,u){let p=n,x=r;for(;null!==p&&null!==x&&1024&x[De]&&!(256&x[De]);){const P=ys(p,x,s,l|bt.Self,Yi);if(P!==Yi)return P;let U=p.parent;if(!U){const Y=x[qi];if(Y){const me=Y.get(s,Yi,l);if(me!==Yi)return me}U=Tr(x),x=x[hr]}p=U}return u}(n,r,s,l,Yi);if(x!==Yi)return x}const p=ys(n,r,s,l,Yi);if(p!==Yi)return p}return cr(r,s,l,u)}function ys(n,r,s,l,u){const p=function en(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(be)?n[be]:void 0;return"number"==typeof r?r>=0?r&bi:Eo:r}(s);if("function"==typeof p){if(!gs(r,n,l))return l&bt.Host?ls(u,0,l):cr(r,s,l,u);try{const x=p(l);if(null!=x||l&bt.Optional)return x;Ke()}finally{_a()}}else if("number"==typeof p){let x=null,P=Os(n,r),U=he,Y=l&bt.Host?r[sr][Cn]:null;for((-1===P||l&bt.SkipSelf)&&(U=-1===P?Or(n,r):r[P+8],U!==he&&wi(l,!1)?(x=r[te],P=$e(U),r=Ct(U,r)):P=-1);-1!==P;){const me=r[te];if(Jn(p,P,me.data)){const Be=Ei(P,r,s,x,l,Y);if(Be!==Yi)return Be}U=r[P+8],U!==he&&wi(l,r[te].data[P+8]===Y)&&Jn(p,P,r)?(x=me,P=$e(U),r=Ct(U,r)):P=-1}}return u}function Ei(n,r,s,l,u,p){const x=r[te],P=x.data[n+8],me=Sa(P,x,s,null==l?wr(P)&&An:l!=x&&0!=(3&P.type),u&bt.Host&&p===P);return null!==me?Ri(r,x,me,P):Yi}function Sa(n,r,s,l,u){const p=n.providerIndexes,x=r.data,P=1048575&p,U=n.directiveStart,me=p>>20,xt=u?P+me:n.directiveEnd;for(let Yt=l?P:P+me;Yt<xt;Yt++){const vn=x[Yt];if(Yt<U&&s===vn||Yt>=U&&vn.type===s)return Yt}if(u){const Yt=x[U];if(Yt&&tr(Yt)&&Yt.type===s)return U}return null}function Ri(n,r,s,l){let u=n[s];const p=r.data;if(function Jt(n){return n instanceof je}(u)){const x=u;x.resolving&&function Se(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${n}${s}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Re(n)}(p[s]));const P=Vi(x.canSeeViewProviders);x.resolving=!0;const U=x.injectImpl?hi(x.injectImpl):null;gs(n,l,bt.Default);try{u=n[s]=x.factory(void 0,p,n,l),r.firstCreatePass&&s>=l.directiveStart&&function ul(n,r,s){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:p}=r.type.prototype;if(l){const x=os(r);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,x),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,x)}u&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,u),p&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,p),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,p))}(s,p[s],r)}finally{null!==U&&hi(U),Vi(P),x.resolving=!1,_a()}}return u}function Jn(n,r,s){return!!(s[r+(n>>Ai)]&1<<n)}function wi(n,r){return!(n&bt.Self||n&bt.Host&&r)}class Ti{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return ri(this._tNode,this._lView,r,ce(l),s)}}function Eo(){return new Ti(ki(),ut())}function wo(n){return Ne(()=>{const r=n.prototype.constructor,s=r[Z]||kr(r),l=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==l;){const p=u[Z]||kr(u);if(p&&p!==s)return p;u=Object.getPrototypeOf(u)}return p=>new p})}function kr(n){return Ae(n)?()=>{const r=kr(re(n));return r&&r()}:fo(n)}function Tr(n){const r=n[te],s=r.type;return 2===s?r.declTNode:1===s?n[Cn]:null}function Ma(n){return function bo(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const l=s.length;let u=0;for(;u<l;){const p=s[u];if(L(p))break;if(0===p)u+=2;else if("number"==typeof p)for(u++;u<l&&"string"==typeof s[u];)u++;else{if(p===r)return s[u+1];u+=2}}}return null}(ki(),n)}const Fr="__parameters__";function vs(n,r,s){return Ne(()=>{const l=function _o(n){return function(...s){if(n){const l=n(...s);for(const u in l)this[u]=l[u]}}}(r);function u(...p){if(this instanceof u)return l.apply(this,p),this;const x=new u(...p);return P.annotation=x,P;function P(U,Y,me){const Be=U.hasOwnProperty(Fr)?U[Fr]:Object.defineProperty(U,Fr,{value:[]})[Fr];for(;Be.length<=me;)Be.push(null);return(Be[me]=Be[me]||[]).push(x),U}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class Qi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Je({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ks(n,r){n.forEach(s=>Array.isArray(s)?ks(s,r):r(s))}function sa(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function I(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function S(n,r){const s=[];for(let l=0;l<n;l++)s.push(r);return s}function ve(n,r,s){let l=hn(n,r);return l>=0?n[1|l]=s:(l=~l,function W(n,r,s,l){let u=n.length;if(u==r)n.push(s,l);else if(1===u)n.push(l,n[0]),n[0]=s;else{for(u--,n.push(n[u-1],n[u]);u>r;)n[u]=n[u-2],u--;n[r]=s,n[r+1]=l}}(n,l,r,s)),l}function At(n,r){const s=hn(n,r);if(s>=0)return n[1|s]}function hn(n,r){return function qn(n,r,s){let l=0,u=n.length>>s;for(;u!==l;){const p=l+(u-l>>1),x=n[p<<s];if(r===x)return p<<s;x>r?u=p:l=p+1}return~(u<<s)}(n,r,1)}const fl=Qt(vs("Inject",n=>({token:n})),-1),Rl=Qt(vs("Optional"),8),bc=Qt(vs("SkipSelf"),4);var ca=(()=>((ca=ca||{})[ca.Important=1]="Important",ca[ca.DashCase=2]="DashCase",ca))();const ns=new Map;let lu=0;const pt="__ngContext__";function Xt(n,r){yi(r)?(n[pt]=r[So],function Ja(n){ns.set(n[So],n)}(r)):n[pt]=r}let wa;function nc(n,r){return wa(n,r)}function cu(n){const r=n[et];return fi(r)?r[et]:r}function el(n){return Mc(n[dr])}function tl(n){return Mc(n[Wt])}function Mc(n){for(;null!==n&&!fi(n);)n=n[Wt];return n}function nl(n,r,s,l,u){if(null!=l){let p,x=!1;fi(l)?p=l:yi(l)&&(x=!0,l=l[we]);const P=vr(l);0===n&&null!==s?null==u?qu(r,s,P):Vl(r,s,P,u||null,!0):1===n&&null!==s?Vl(r,s,P,u||null,!0):2===n?function Xu(n,r,s){const l=hu(n,r);l&&function hp(n,r,s,l){n.removeChild(r,s,l)}(n,l,r,s)}(r,P,x):3===n&&r.destroyNode(P),null!=p&&function fp(n,r,s,l,u){const p=s[at];p!==vr(s)&&nl(r,n,l,p,u);for(let P=gn;P<s.length;P++){const U=s[P];Pc(U[te],U,n,r,l,p)}}(r,n,p,s,u)}}function Zu(n,r,s){return n.createElement(r,s)}function Ls(n,r){const s=n[nn],l=s.indexOf(r),u=r[et];512&r[De]&&(r[De]&=-513,$r(u,-1)),s.splice(l,1)}function rc(n,r){if(n.length<=gn)return;const s=gn+r,l=n[s];if(l){const u=l[Lo];null!==u&&u!==n&&Ls(u,l),r>0&&(n[s-1][Wt]=l[Wt]);const p=I(n,gn+r);!function Ac(n,r){Pc(n,r,r[Yn],2,null,null),r[we]=null,r[Cn]=null}(l[te],l);const x=p[qr];null!==x&&x.detachView(p[te]),l[et]=null,l[Wt]=null,l[De]&=-65}return l}function du(n,r){if(!(128&r[De])){const s=r[Yn];s.destroyNode&&Pc(n,r,s,3,null,null),function Hd(n){let r=n[dr];if(!r)return bl(n[te],n);for(;r;){let s=null;if(yi(r))s=r[dr];else{const l=r[gn];l&&(s=l)}if(!s){for(;r&&!r[Wt]&&r!==n;)yi(r)&&bl(r[te],r),r=r[et];null===r&&(r=n),yi(r)&&bl(r[te],r),s=r&&r[Wt]}r=s}}(r)}}function bl(n,r){if(!(128&r[De])){r[De]&=-65,r[De]|=128,function jd(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const u=r[s[l]];if(!(u instanceof je)){const p=s[l+1];if(Array.isArray(p))for(let x=0;x<p.length;x+=2){const P=u[p[x]],U=p[x+1];Ar(4,P,U);try{U.call(P)}finally{Ar(5,P,U)}}else{Ar(4,u,p);try{p.call(u)}finally{Ar(5,u,p)}}}}}(n,r),function $h(n,r){const s=n.cleanup,l=r[On];let u=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const x=s[p+3];x>=0?l[u=x]():l[u=-x].unsubscribe(),p+=2}else{const x=l[u=s[p+1]];s[p].call(x)}if(null!==l){for(let p=u+1;p<l.length;p++)(0,l[p])();r[On]=null}}(n,r),1===r[te].type&&r[Yn].destroy();const s=r[Lo];if(null!==s&&fi(r[et])){s!==r[et]&&Ls(s,r);const l=r[qr];null!==l&&l.detachView(n)}!function M(n){ns.delete(n[So])}(r)}}function Ul(n,r,s){return function zd(n,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[we];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:p}=n.data[l.directiveStart+u];if(p===$t.None||p===$t.Emulated)return null}return Di(l,s)}}(n,r.parent,s)}function Vl(n,r,s,l,u){n.insertBefore(r,s,l,u)}function qu(n,r,s){n.appendChild(r,s)}function il(n,r,s,l,u){null!==l?Vl(n,r,s,l,u):qu(n,r,s)}function hu(n,r){return n.parentNode(r)}function Yu(n,r,s){return $d(n,r,s)}let oc,Va,gu,El,$d=function xa(n,r,s){return 40&n.type?Di(n,s):null};function Rc(n,r,s,l){const u=Ul(n,l,r),p=r[Yn],P=Yu(l.parent||r[Cn],l,r);if(null!=u)if(Array.isArray(s))for(let U=0;U<s.length;U++)il(p,u,s[U],P,!1);else il(p,u,s,P,!1);void 0!==oc&&oc(p,l,r,s,u)}function Gi(n,r){if(null!==r){const s=r.type;if(3&s)return Di(r,n);if(4&s)return Hl(-1,n[r.index]);if(8&s){const l=r.child;if(null!==l)return Gi(n,l);{const u=n[r.index];return fi(u)?Hl(-1,u):vr(u)}}if(32&s)return nc(r,n)()||vr(n[r.index]);{const l=Gh(n,r);return null!==l?Array.isArray(l)?l[0]:Gi(cu(n[sr]),l):Gi(n,r.next)}}return null}function Gh(n,r){return null!==r?n[sr][Cn].projection[r.projection]:null}function Hl(n,r){const s=gn+n+1;if(s<r.length){const l=r[s],u=l[te].firstChild;if(null!==u)return Gi(l,u)}return r[at]}function Ju(n,r,s,l,u,p,x){for(;null!=s;){const P=l[s.index],U=s.type;if(x&&0===r&&(P&&Xt(vr(P),l),s.flags|=2),32!=(32&s.flags))if(8&U)Ju(n,r,s.child,l,u,p,!1),nl(r,n,u,P,p);else if(32&U){const Y=nc(s,l);let me;for(;me=Y();)nl(r,n,u,me,p);nl(r,n,u,P,p)}else 16&U?Wh(n,r,l,s,u,p):nl(r,n,u,P,p);s=x?s.projectionNext:s.next}}function Pc(n,r,s,l,u,p){Ju(s,l,n.firstChild,r,u,p,!1)}function Wh(n,r,s,l,u,p){const x=s[sr],U=x[Cn].projection[l.projection];if(Array.isArray(U))for(let Y=0;Y<U.length;Y++)nl(r,n,u,U[Y],p);else Ju(n,r,U,x[et],u,p,!0)}function Oa(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Gd(n,r,s){const{mergedAttrs:l,classes:u,styles:p}=s;null!==l&&w(n,r,l),null!==u&&Oa(n,r,u),null!==p&&function Oc(n,r,s){n.setAttribute(r,"style",s)}(n,r,p)}function Ha(n){return function ed(){if(void 0===Va&&(Va=null,_i.trustedTypes))try{Va=_i.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Va}()?.createHTML(n)||n}function ho(n){gu=n}function td(){if(void 0===El&&(El=null,_i.trustedTypes))try{El=_i.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return El}function da(n){return td()?.createHTML(n)||n}function Kd(n){return td()?.createScriptURL(n)||n}class jl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}class zl extends jl{getTypeName(){return"HTML"}}class ja extends jl{getTypeName(){return"Style"}}class Yh extends jl{getTypeName(){return"Script"}}class Zd extends jl{getTypeName(){return"URL"}}class Qh extends jl{getTypeName(){return"ResourceURL"}}function Go(n){return n instanceof jl?n.changingThisBreaksApplicationSecurity:n}function wl(n,r){const s=function qd(n){return n instanceof jl&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${rt})`)}return s===r}function Yd(n){return new zl(n)}function Qd(n){return new ja(n)}function Xh(n){return new Yh(n)}function ha(n){return new Zd(n)}function Fo(n){return new Qh(n)}class Jh{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Ha(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class ol{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=Ha(r),s}}const yu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kc(n){return(n=String(n)).match(yu)?n:"unsafe:"+n}function Cl(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function $l(...n){const r={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(r[l]=!0);return r}const Xd=Cl("area,br,col,hr,img,wbr"),nd=Cl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nc=Cl("rp,rt"),f=$l(Xd,$l(nd,Cl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$l(Nc,Cl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$l(Nc,nd)),T=Cl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),it=$l(T,Cl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gt=Cl("script,style,template");class xn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!f.hasOwnProperty(s))return this.sanitizedSomething=!0,!Gt.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=r.attributes;for(let u=0;u<l.length;u++){const p=l.item(u),x=p.name,P=x.toLowerCase();if(!it.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let U=p.value;T[P]&&(U=kc(U)),this.buf.push(" ",x,'="',ai(U),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();f.hasOwnProperty(s)&&!Xd.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(ai(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const jn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oi=/([^\#-~ |!])/g;function ai(n){return n.replace(/&/g,"&amp;").replace(jn,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(oi,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zr;function Cs(n,r){let s=null;try{Zr=Zr||function gr(n){const r=new ol(n);return function sc(){try{return!!(new window.DOMParser).parseFromString(Ha(""),"text/html")}catch{return!1}}()?new Jh(r):r}(n);let l=r?String(r):"";s=Zr.getInertBodyElement(l);let u=5,p=l;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,l=p,p=s.innerHTML,s=Zr.getInertBodyElement(l)}while(l!==p);return Ha((new xn).sanitizeChildren(ac(s)||s))}finally{if(s){const l=ac(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ac(n){return"content"in n&&function ef(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ki=(()=>((Ki=Ki||{})[Ki.NONE=0]="NONE",Ki[Ki.HTML=1]="HTML",Ki[Ki.STYLE=2]="STYLE",Ki[Ki.SCRIPT=3]="SCRIPT",Ki[Ki.URL=4]="URL",Ki[Ki.RESOURCE_URL=5]="RESOURCE_URL",Ki))();function vu(n){const r=eh();return r?da(r.sanitize(Ki.HTML,n)||""):wl(n,"HTML")?da(Go(n)):Cs(function _u(){return void 0!==gu?gu:typeof document<"u"?document:void 0}(),Re(n))}function xl(n){const r=eh();return r?r.sanitize(Ki.URL,n)||"":wl(n,"URL")?Go(n):kc(Re(n))}function ka(n){const r=eh();if(r)return Kd(r.sanitize(Ki.RESOURCE_URL,n)||"");if(wl(n,"ResourceURL"))return Kd(Go(n));throw new Fe(904,!1)}function bu(n,r,s){return function tf(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?ka:xl}(r,s)(n)}function eh(){const n=ut();return n&&n[Mr]}const Eu=new Qi("ENVIRONMENT_INITIALIZER"),nf=new Qi("INJECTOR",-1),Vm=new Qi("INJECTOR_DEF_TYPES");class mp{get(r,s=Fi){if(s===Fi){const l=new Error(`NullInjectorError: No provider for ${ue(r)}!`);throw l.name="NullInjectorError",l}return s}}function jm(...n){return{\u0275providers:zm(0,n),\u0275fromNgModule:!0}}function zm(n,...r){const s=[],l=new Set;let u;return ks(r,p=>{const x=p;_p(x,s,[],l)&&(u||(u=[]),u.push(x))}),void 0!==u&&gp(u,s),s}function gp(n,r){for(let s=0;s<n.length;s++){const{providers:u}=n[s];yp(u,p=>{r.push(p)})}}function _p(n,r,s,l){if(!(n=re(n)))return!1;let u=null,p=Zt(n);const x=!p&&zn(n);if(p||x){if(x&&!x.standalone)return!1;u=n}else{const U=n.ngModule;if(p=Zt(U),!p)return!1;u=U}const P=l.has(u);if(x){if(P)return!1;if(l.add(u),x.dependencies){const U="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const Y of U)_p(Y,r,s,l)}}else{if(!p)return!1;{if(null!=p.imports&&!P){let Y;l.add(u);try{ks(p.imports,me=>{_p(me,r,s,l)&&(Y||(Y=[]),Y.push(me))})}finally{}void 0!==Y&&gp(Y,r)}if(!P){const Y=fo(u)||(()=>new u);r.push({provide:u,useFactory:Y,deps:ln},{provide:Vm,useValue:u,multi:!0},{provide:Eu,useValue:()=>Lt(u),multi:!0})}const U=p.providers;null==U||P||yp(U,me=>{r.push(me)})}}return u!==n&&void 0!==n.providers}function yp(n,r){for(let s of n)Ve(s)&&(s=s.\u0275providers),Array.isArray(s)?yp(s,r):r(s)}const Lc=Te({provide:String,useValue:Te});function Bc(n){return null!==n&&"object"==typeof n&&Lc in n}function Uc(n){return"function"==typeof n}const rf=new Qi("Set Injector scope."),sf={},Gm={};let sd;function Gl(){return void 0===sd&&(sd=new mp),sd}class za{}class Vc extends za{get destroyed(){return this._destroyed}constructor(r,s,l,u){super(),this.parent=s,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lf(r,x=>this.processProvider(x)),this.records.set(nf,Cu(void 0,this)),u.has("environment")&&this.records.set(za,Cu(void 0,this));const p=this.records.get(rf);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Vm.multi,ln,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=kn(this),l=hi(void 0);try{return r()}finally{kn(s),hi(l)}}get(r,s=Fi,l=bt.Default){this.assertNotDestroyed(),l=ce(l);const u=kn(this),p=hi(void 0);try{if(!(l&bt.SkipSelf)){let P=this.records.get(r);if(void 0===P){const U=function Zm(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qi}(r)&&En(r);P=U&&this.injectableDefInScope(U)?Cu(wu(r),sf):null,this.records.set(r,P)}if(null!=P)return this.hydrate(r,P)}return(l&bt.Self?Gl():this.parent).get(r,s=l&bt.Optional&&s===Fi?null:s)}catch(x){if("NullInjectorError"===x.name){if((x[Tn]=x[Tn]||[]).unshift(ue(r)),u)throw x;return function gi(n,r,s,l){const u=n[Tn];throw r[Rn]&&u.unshift(r[Rn]),n.message=function Le(n,r,s,l=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==$n?n.slice(2):n;let u=ue(r);if(Array.isArray(r))u=r.map(ue).join(" -> ");else if("object"==typeof r){let p=[];for(let x in r)if(r.hasOwnProperty(x)){let P=r[x];p.push(x+":"+("string"==typeof P?JSON.stringify(P):ue(P)))}u=`{${p.join(", ")}}`}return`${s}${l?"("+l+")":""}[${u}]: ${n.replace(zt,"\n  ")}`}("\n"+n.message,u,s,l),n[Mt]=u,n[Tn]=null,n}(x,r,"R3InjectorError",this.source)}throw x}finally{hi(p),kn(u)}}resolveInjectorInitializers(){const r=kn(this),s=hi(void 0);try{const l=this.get(Eu.multi,ln,bt.Self);for(const u of l)u()}finally{kn(r),hi(s)}}toString(){const r=[],s=this.records;for(const l of s.keys())r.push(ue(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(r){let s=Uc(r=re(r))?r:re(r&&r.provide);const l=function bp(n){return Bc(n)?Cu(void 0,n.useValue):Cu(af(n),sf)}(r);if(Uc(r)||!0!==r.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=Cu(void 0,sf,!0),u.factory=()=>nt(u.multi),this.records.set(s,u)),s=r,u.multi.push(r)}this.records.set(s,l)}hydrate(r,s){return s.value===sf&&(s.value=Gm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function k_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=re(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function wu(n){const r=En(n),s=null!==r?r.factory:fo(n);if(null!==s)return s;if(n instanceof Qi)throw new Fe(204,!1);if(n instanceof Function)return function Wm(n){const r=n.length;if(r>0)throw S(r,"?"),new Fe(204,!1);const s=function Ue(n){return n&&(n[yt]||n[xe])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Fe(204,!1)}function af(n,r,s){let l;if(Uc(n)){const u=re(n);return fo(u)||wu(u)}if(Bc(n))l=()=>re(n.useValue);else if(function $m(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...nt(n.deps||[]));else if(function vp(n){return!(!n||!n.useExisting)}(n))l=()=>Lt(re(n.useExisting));else{const u=re(n&&(n.useClass||n.provide));if(!function Km(n){return!!n.deps}(n))return fo(u)||wu(u);l=()=>new u(...nt(n.deps))}return l}function Cu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function lf(n,r){for(const s of n)Array.isArray(s)?lf(s,r):s&&Ve(s)?lf(s.\u0275providers,r):r(s)}class cf{}class ad{}class F_{resolveComponentFactory(r){throw function xu(n){const r=Error(`No component factory found for ${ue(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let th=(()=>{class n{}return n.NULL=new F_,n})();function L_(){return Wl(ki(),ut())}function Wl(n,r){return new Il(Di(n,r))}let Il=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=L_,n})();function Hc(n){return n instanceof Il?n.nativeElement:n}class Ep{}let B_=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ym(){const n=ut(),s=br(ki().index,n);return(yi(s)?s:n)[Yn]}(),n})(),U_=(()=>{class n{}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>null}),n})();class uf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const df=new uf("15.2.9"),hf={},nh="ngOriginalError";function ff(n){return n[nh]}class jc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ff(r);for(;s&&ff(s);)s=ff(s);return s||null}}function xp(n){return n.ownerDocument.defaultView}function Zl(n){return n instanceof Function?n():n}function cc(n,r,s){let l=n.length;for(;;){const u=n.indexOf(r,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const p=r.length;if(u+p===l||n.charCodeAt(u+p)<=32)return u}s=u+1}}const Iu="ng-template";function Xm(n,r,s){let l=0,u=!0;for(;l<n.length;){let p=n[l++];if("string"==typeof p&&u){const x=n[l++];if(s&&"class"===p&&-1!==cc(x.toLowerCase(),r,0))return!0}else{if(1===p){for(;l<n.length&&"string"==typeof(p=n[l++]);)if(p.toLowerCase()===r)return!0;return!1}"number"==typeof p&&(u=!1)}}return!1}function zc(n){return 4===n.type&&n.value!==Iu}function $_(n,r,s){return r===(4!==n.type||s?n.value:Iu)}function ld(n,r,s){let l=4;const u=n.attrs||[],p=function Jm(n){for(let r=0;r<n.length;r++)if(L(n[r]))return r;return n.length}(u);let x=!1;for(let P=0;P<r.length;P++){const U=r[P];if("number"!=typeof U){if(!x)if(4&l){if(l=2|1&l,""!==U&&!$_(n,U,s)||""===U&&1===r.length){if(sl(l))return!1;x=!0}}else{const Y=8&l?U:r[++P];if(8&l&&null!==n.attrs){if(!Xm(n.attrs,Y,s)){if(sl(l))return!1;x=!0}continue}const Be=$c(8&l?"class":U,u,zc(n),s);if(-1===Be){if(sl(l))return!1;x=!0;continue}if(""!==Y){let xt;xt=Be>p?"":u[Be+1].toLowerCase();const Yt=8&l?xt:null;if(Yt&&-1!==cc(Yt,Y,0)||2&l&&Y!==xt){if(sl(l))return!1;x=!0}}}}else{if(!x&&!sl(l)&&!sl(U))return!1;if(x&&sl(U))continue;x=!1,l=U|1&l}}return sl(l)||x}function sl(n){return 0==(1&n)}function $c(n,r,s,l){if(null===r)return-1;let u=0;if(l||!s){let p=!1;for(;u<r.length;){const x=r[u];if(x===n)return u;if(3===x||6===x)p=!0;else{if(1===x||2===x){let P=r[++u];for(;"string"==typeof P;)P=r[++u];continue}if(4===x)break;if(0===x){u+=4;continue}}u+=p?1:2}return-1}return function W_(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,n)}function Tp(n,r,s=!1){for(let l=0;l<r.length;l++)if(ld(n,r[l],s))return!0;return!1}function eg(n,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(n.length===l.length){for(let u=0;u<n.length;u++)if(n[u]!==l[u])continue e;return!0}}return!1}function tg(n,r){return n?":not("+r.trim()+")":r}function gf(n){let r=n[0],s=1,l=2,u="",p=!1;for(;s<n.length;){let x=n[s];if("string"==typeof x)if(2&l){const P=n[++s];u+="["+x+(P.length>0?'="'+P+'"':"")+"]"}else 8&l?u+="."+x:4&l&&(u+=" "+x);else""!==u&&!sl(x)&&(r+=tg(p,u),u=""),l=x,p=p||!sl(l);s++}return""!==u&&(r+=tg(p,u)),r}const Zi={};function ig(n){Dp(pn(),ut(),rr()+n,!1)}function Dp(n,r,s,l){if(!l)if(3==(3&r[De])){const p=n.preOrderCheckHooks;null!==p&&Ta(r,p,s)}else{const p=n.preOrderHooks;null!==p&&Da(r,p,0,s)}Jo(s)}function xs(n,r=null,s=null,l){const u=sg(n,r,s,l);return u.resolveInjectorInitializers(),u}function sg(n,r=null,s=null,l,u=new Set){const p=[s||ln,jm(n)];return l=l||("object"==typeof n?void 0:ue(n)),new Vc(p,r||Gl(),l||null,u)}let Tu=(()=>{class n{static create(s,l){if(Array.isArray(s))return xs({name:""},l,s,"");{const u=s.name??"";return xs({name:u},s.parent,s.providers,u)}}}return n.THROW_IF_NOT_FOUND=Fi,n.NULL=new mp,n.\u0275prov=Je({token:n,providedIn:"any",factory:()=>Lt(nf)}),n.__NG_ELEMENT_ID__=-1,n})();function cd(n,r=bt.Default){const s=ut();return null===s?Lt(n,r):ri(ki(),s,re(n),r)}function bf(){throw new Error("invalid")}function Ef(n,r){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const p=s[l+1];if(-1!==p){const x=n.data[p];Xi(s[l]),x.contentQueries(2,r[p],p)}}}function ud(n,r,s,l,u,p,x,P,U,Y,me){const Be=r.blueprint.slice();return Be[we]=u,Be[De]=76|l,(null!==me||n&&1024&n[De])&&(Be[De]|=1024),Yo(Be),Be[et]=Be[hr]=n,Be[Nn]=s,Be[Er]=x||n&&n[Er],Be[Yn]=P||n&&n[Yn],Be[Mr]=U||n&&n[Mr]||null,Be[Si]=Y||n&&n[Si]||null,Be[Cn]=p,Be[So]=function io(){return lu++}(),Be[qi]=me,Be[sr]=2==r.type?n[sr]:Be,Be}function dc(n,r,s,l,u){let p=n.data[r];if(null===p)p=function Mu(n,r,s,l,u){const p=ir(),x=co(),U=n.data[r]=function ay(n,r,s,l,u,p){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?p:p&&p.parent,s,r,l,u);return null===n.firstChild&&(n.firstChild=U),null!==p&&(x?null==p.child&&null!==U.parent&&(p.child=U):null===p.next&&(p.next=U,U.prev=p)),U}(n,r,s,l,u),function jr(){return mi.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=s,p.value=l,p.attrs=u;const x=function ar(){const n=mi.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();p.injectorIndex=null===x?-1:x.injectorIndex}return zi(p,!0),p}function Wc(n,r,s,l){if(0===s)return-1;const u=r.length;for(let p=0;p<s;p++)r.push(l),n.blueprint.push(l),n.data.push(null);return u}function uh(n,r,s){Po(r);try{const l=n.viewQuery;null!==l&&Mf(1,l,s);const u=n.template;null!==u&&wf(n,r,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ef(n,r),n.staticViewQueries&&Mf(2,n.viewQuery,s);const p=n.components;null!==p&&function fg(n,r){for(let s=0;s<r.length;s++)qp(n,r[s])}(r,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[De]&=-5,ya()}}function dd(n,r,s,l){const u=r[De];if(128!=(128&u)){Po(r);try{Yo(r),function Wr(n){return mi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&wf(n,r,s,2,l);const x=3==(3&u);if(x){const Y=n.preOrderCheckHooks;null!==Y&&Ta(r,Y,null)}else{const Y=n.preOrderHooks;null!==Y&&Da(r,Y,0,null),N(r,0)}if(function fy(n){for(let r=el(n);null!==r;r=tl(r)){if(!r[mt])continue;const s=r[nn];for(let l=0;l<s.length;l++){const u=s[l];512&u[De]||$r(u[et],1),u[De]|=512}}}(r),function Kp(n){for(let r=el(n);null!==r;r=tl(r))for(let s=gn;s<r.length;s++){const l=r[s],u=l[te];mo(l)&&dd(u,l,u.template,l[Nn])}}(r),null!==n.contentQueries&&Ef(n,r),x){const Y=n.contentCheckHooks;null!==Y&&Ta(r,Y)}else{const Y=n.contentHooks;null!==Y&&Da(r,Y,1),N(r,1)}!function ry(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const u=s[l];if(u<0)Jo(~u);else{const p=u,x=s[++l],P=s[++l];Rs(x,p),P(2,r[p])}}}finally{Jo(-1)}}(n,r);const P=n.components;null!==P&&function hg(n,r){for(let s=0;s<r.length;s++)Zp(n,r[s])}(r,P);const U=n.viewQuery;if(null!==U&&Mf(2,U,l),x){const Y=n.viewCheckHooks;null!==Y&&Ta(r,Y)}else{const Y=n.viewHooks;null!==Y&&Da(r,Y,2),N(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[De]&=-41,512&r[De]&&(r[De]&=-513,$r(r[et],-1))}finally{ya()}}}function wf(n,r,s,l,u){const p=rr(),x=2&l;try{Jo(-1),x&&r.length>Wi&&Dp(n,r,Wi,!1),Ar(x?2:0,u),s(l,u)}finally{Jo(p),Ar(x?3:1,u)}}function Cf(n,r,s){if(Ci(r)){const u=r.directiveEnd;for(let p=r.directiveStart;p<u;p++){const x=n.data[p];x.contentQueries&&x.contentQueries(1,s[p],p)}}}function Bp(n,r,s){_e()&&(function mh(n,r,s,l){const u=s.directiveStart,p=s.directiveEnd;wr(s)&&function Gp(n,r,s){const l=Di(r,n),u=dh(s),p=n[Er],x=hc(n,ud(n,u,null,s.onPush?32:16,l,r,p,p.createRenderer(l,s),null,null,null));n[r.index]=x}(r,s,n.data[u+s.componentOffset]),n.firstCreatePass||vo(s,r),Xt(l,r);const x=s.initialInputs;for(let P=u;P<p;P++){const U=n.data[P],Y=Ri(r,n,P,s);Xt(Y,r),null!==x&&hy(0,P-u,Y,U,0,x),tr(U)&&(br(s.index,r)[Nn]=Ri(r,n,P,s))}}(n,r,s,Di(s,r)),64==(64&s.flags)&&Tf(n,r,s))}function xf(n,r,s=Di){const l=r.localNames;if(null!==l){let u=r.index+1;for(let p=0;p<l.length;p+=2){const x=l[p+1],P=-1===x?s(r,n):n[x];n[u++]=P}}}function dh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=hh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function hh(n,r,s,l,u,p,x,P,U,Y){const me=Wi+l,Be=me+u,xt=function oy(n,r){const s=[];for(let l=0;l<r;l++)s.push(l<n?null:Zi);return s}(me,Be),Yt="function"==typeof Y?Y():Y;return xt[te]={type:n,blueprint:xt,template:s,queries:null,viewQuery:P,declTNode:r,data:xt.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:U,consts:Yt,incompleteFirstPass:!1}}function Ys(n,r,s,l){const u=_g(r);null===s?u.push(l):(u.push(s),n.firstCreatePass&&Af(n).push(l,u.length-1))}function Up(n,r,s,l){for(let u in n)if(n.hasOwnProperty(u)){s=null===s?{}:s;const p=n[u];null===l?fh(s,r,u,p):l.hasOwnProperty(u)&&fh(s,r,l[u],p)}return s}function fh(n,r,s,l){n.hasOwnProperty(s)?n[s].push(r,l):n[s]=[r,l]}function Na(n,r,s,l,u,p,x,P){const U=Di(r,s);let me,Y=r.inputs;!P&&null!=Y&&(me=Y[l])?(Yp(n,s,me,l,u),wr(r)&&function ly(n,r){const s=br(r,n);16&s[De]||(s[De]|=32)}(s,r.index)):3&r.type&&(l=function Vp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),u=null!=x?x(u,r.value||"",l):u,p.setProperty(U,l,u))}function Hp(n,r,s,l){if(_e()){const u=null===l?null:{"":-1},p=function jp(n,r){const s=n.directiveRegistry;let l=null,u=null;if(s)for(let p=0;p<s.length;p++){const x=s[p];if(Tp(r,x.selectors,!1))if(l||(l=[]),tr(x))if(null!==x.findHostDirectiveDefs){const P=[];u=u||new Map,x.findHostDirectiveDefs(x,P,u),l.unshift(...P,x),fd(n,r,P.length)}else l.unshift(x),fd(n,r,0);else u=u||new Map,x.findHostDirectiveDefs?.(x,l,u),l.push(x)}return null===l?null:[l,u]}(n,s);let x,P;null===p?x=P=null:[x,P]=p,null!==x&&If(n,r,s,x,u,P),u&&function gh(n,r,s){if(r){const l=n.localNames=[];for(let u=0;u<r.length;u+=2){const p=s[r[u+1]];if(null==p)throw new Fe(-301,!1);l.push(r[u],p)}}}(s,l,u)}s.mergedAttrs=se(s.mergedAttrs,s.attrs)}function If(n,r,s,l,u,p){for(let Y=0;Y<l.length;Y++)Fn(vo(s,r),n,l[Y].type);!function pg(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,l.length);for(let Y=0;Y<l.length;Y++){const me=l[Y];me.providersResolver&&me.providersResolver(me)}let x=!1,P=!1,U=Wc(n,r,l.length,null);for(let Y=0;Y<l.length;Y++){const me=l[Y];s.mergedAttrs=se(s.mergedAttrs,me.hostAttrs),$p(n,s,r,U,me),zp(U,me,u),null!==me.contentQueries&&(s.flags|=4),(null!==me.hostBindings||null!==me.hostAttrs||0!==me.hostVars)&&(s.flags|=64);const Be=me.type.prototype;!x&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),x=!0),!P&&(Be.ngOnChanges||Be.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),P=!0),U++}!function ph(n,r,s){const u=r.directiveEnd,p=n.data,x=r.attrs,P=[];let U=null,Y=null;for(let me=r.directiveStart;me<u;me++){const Be=p[me],xt=s?s.get(Be):null,vn=xt?xt.outputs:null;U=Up(Be.inputs,me,U,xt?xt.inputs:null),Y=Up(Be.outputs,me,Y,vn);const Vn=null===U||null===x||zc(r)?null:Wp(U,me,x);P.push(Vn)}null!==U&&(U.hasOwnProperty("class")&&(r.flags|=8),U.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=P,r.inputs=U,r.outputs=Y}(n,s,p)}function Tf(n,r,s){const l=s.directiveStart,u=s.directiveEnd,p=s.index,x=function ta(){return mi.lFrame.currentDirectiveIndex}();try{Jo(p);for(let P=l;P<u;P++){const U=n.data[P],Y=r[P];eo(P),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&hd(U,Y)}}finally{Jo(-1),eo(x)}}function hd(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function fd(n,r,s){r.componentOffset=s,(n.components??(n.components=[])).push(r.index)}function zp(n,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=n;tr(r)&&(s[""]=n)}}function $p(n,r,s,l,u){n.data[l]=u;const p=u.factory||(u.factory=fo(u.type)),x=new je(p,tr(u),cd);n.blueprint[l]=x,s[l]=x,function uy(n,r,s,l,u){const p=u.hostBindings;if(p){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const P=~r.index;(function dy(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(x)!=P&&x.push(P),x.push(s,l,p)}}(n,r,l,Wc(n,s,u.hostVars,Zi),u)}function Qs(n,r,s,l,u,p){const x=Di(n,r);!function Df(n,r,s,l,u,p,x){if(null==p)n.removeAttribute(r,u,s);else{const P=null==x?Re(p):x(p,l||"",u);n.setAttribute(r,u,P,s)}}(r[Yn],x,p,n.value,s,l,u)}function hy(n,r,s,l,u,p){const x=p[r];if(null!==x){const P=l.setInput;for(let U=0;U<x.length;){const Y=x[U++],me=x[U++],Be=x[U++];null!==P?l.setInput(s,Be,Y,me):s[me]=Be}}}function Wp(n,r,s){let l=null,u=0;for(;u<s.length;){const p=s[u];if(0!==p)if(5!==p){if("number"==typeof p)break;if(n.hasOwnProperty(p)){null===l&&(l=[]);const x=n[p];for(let P=0;P<x.length;P+=2)if(x[P]===r){l.push(p,x[P+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function mg(n,r,s,l){return[n,!0,!1,r,null,0,l,s,null,null]}function Zp(n,r){const s=br(r,n);if(mo(s)){const l=s[te];48&s[De]?dd(l,s,l.template,s[Nn]):s[on]>0&&pd(s)}}function pd(n){for(let l=el(n);null!==l;l=tl(l))for(let u=gn;u<l.length;u++){const p=l[u];if(mo(p))if(512&p[De]){const x=p[te];dd(x,p,x.template,p[Nn])}else p[on]>0&&pd(p)}const s=n[te].components;if(null!==s)for(let l=0;l<s.length;l++){const u=br(s[l],n);mo(u)&&u[on]>0&&pd(u)}}function qp(n,r){const s=br(r,n),l=s[te];(function gg(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(l,s),uh(l,s,s[Nn])}function hc(n,r){return n[dr]?n[zr][Wt]=r:n[dr]=r,n[zr]=r,r}function md(n){for(;n;){n[De]|=32;const r=cu(n);if(nr(n)&&!r)return n;n=r}return null}function Sf(n,r,s,l=!0){const u=r[Er];u.begin&&u.begin();try{dd(n,r,n.template,s)}catch(x){throw l&&Rf(r,x),x}finally{u.end&&u.end()}}function Mf(n,r,s){Xi(0),r(n,s)}function _g(n){return n[On]||(n[On]=[])}function Af(n){return n.cleanup||(n.cleanup=[])}function Rf(n,r){const s=n[Si],l=s?s.get(jc,null):null;l&&l.handleError(r)}function Yp(n,r,s,l,u){for(let p=0;p<s.length;){const x=s[p++],P=s[p++],U=r[x],Y=n.data[x];null!==Y.setInput?Y.setInput(U,u,l,P):U[P]=u}}function Pf(n,r,s){let l=s?n.styles:null,u=s?n.classes:null,p=0;if(null!==r)for(let x=0;x<r.length;x++){const P=r[x];"number"==typeof P?p=P:1==p?u=Ie(u,P):2==p&&(l=Ie(l,P+": "+r[++x]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=u:n.classesWithoutHost=u}function gd(n,r,s,l,u=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&l.push(vr(p)),fi(p))for(let P=gn;P<p.length;P++){const U=p[P],Y=U[te].firstChild;null!==Y&&gd(U[te],U,Y,l)}const x=s.type;if(8&x)gd(n,r,s.child,l);else if(32&x){const P=nc(s,r);let U;for(;U=P();)l.push(U)}else if(16&x){const P=Gh(r,s);if(Array.isArray(P))l.push(...P);else{const U=cu(r[sr]);gd(U[te],U,P,l,!0)}}s=u?s.projectionNext:s.next}return l}class _d{get rootNodes(){const r=this._lView,s=r[te];return gd(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(r){this._lView[Nn]=r}get destroyed(){return 128==(128&this._lView[De])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[et];if(fi(r)){const s=r[Ut],l=s?s.indexOf(this):-1;l>-1&&(rc(r,l),I(s,l))}this._attachedToViewContainer=!1}du(this._lView[te],this._lView)}onDestroy(r){Ys(this._lView[te],this._lView,null,r)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[De]&=-65}reattach(){this._lView[De]|=64}detectChanges(){Sf(this._lView[te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vd(n,r){Pc(n,r,r[Yn],2,null,null)}(this._lView[te],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=r}}class Qp extends _d{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Sf(r[te],r,r[Nn],!1)}checkNoChanges(){}get context(){return null}}class Of extends th{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=zn(r);return new Au(s,this.ngModule)}}function kf(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Kc{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,l){l=ce(l);const u=this.injector.get(r,hf,l);return u!==hf||s===hf?u:this.parentInjector.get(r,s,l)}}class Au extends ad{get inputs(){return kf(this.componentDef.inputs)}get outputs(){return kf(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ng(n){return n.map(gf).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,l,u){let p=(u=u||this.ngModule)instanceof za?u:u?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const x=p?new Kc(r,p):r,P=x.get(Ep,null);if(null===P)throw new Fe(407,!1);const U=x.get(U_,null),Y=P.createRenderer(null,this.componentDef),me=this.componentDef.selectors[0][0]||"div",Be=l?function sy(n,r,s){return n.selectRootElement(r,s===$t.ShadowDom)}(Y,l,this.componentDef.encapsulation):Zu(Y,me,function yd(n){const r=n.toLowerCase();return"svg"===r?Vr:"math"===r?"math":null}(me)),xt=this.componentDef.onPush?288:272,Yt=hh(0,null,null,1,0,null,null,null,null,null),vn=ud(null,Yt,null,xt,null,null,P,Y,U,x,null);let Vn,ii;Po(vn);try{const xi=this.componentDef;let ji,Sn=null;xi.findHostDirectiveDefs?(ji=[],Sn=new Map,xi.findHostDirectiveDefs(xi,ji,Sn),ji.push(xi)):ji=[xi];const er=function vg(n,r){const s=n[te],l=Wi;return n[l]=r,dc(s,l,2,"#host",null)}(vn,Be),is=function bd(n,r,s,l,u,p,x,P){const U=u[te];!function my(n,r,s,l){for(const u of n)r.mergedAttrs=se(r.mergedAttrs,u.hostAttrs);null!==r.mergedAttrs&&(Pf(r,r.mergedAttrs,!0),null!==s&&Gd(l,s,r))}(l,n,r,x);const Y=p.createRenderer(r,s),me=ud(u,dh(s),null,s.onPush?32:16,u[n.index],n,p,Y,P||null,null,null);return U.firstCreatePass&&fd(U,n,l.length-1),hc(u,me),u[n.index]=me}(er,Be,xi,ji,vn,P,Y);ii=Hs(Yt,Wi),Be&&function Xp(n,r,s,l){if(l)w(n,s,["ng-version",df.full]);else{const{attrs:u,classes:p}=function K_(n){const r=[],s=[];let l=1,u=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===u?""!==p&&r.push(p,n[++l]):8===u&&s.push(p);else{if(!sl(u))break;u=p}l++}return{attrs:r,classes:s}}(r.selectors[0]);u&&w(n,s,u),p&&p.length>0&&Oa(n,s,p.join(" "))}}(Y,xi,Be,l),void 0!==s&&function Jp(n,r,s){const l=n.projection=[];for(let u=0;u<r.length;u++){const p=s[u];l.push(null!=p?Array.from(p):null)}}(ii,this.ngContentSelectors,s),Vn=function gy(n,r,s,l,u,p){const x=ki(),P=u[te],U=Di(x,u);If(P,u,x,s,null,l);for(let me=0;me<s.length;me++)Xt(Ri(u,P,x.directiveStart+me,x),u);Tf(P,u,x),U&&Xt(U,u);const Y=Ri(u,P,x.directiveStart+x.componentOffset,x);if(n[Nn]=u[Nn]=Y,null!==p)for(const me of p)me(Y,r);return Cf(P,x,n),Y}(is,xi,ji,Sn,vn,[em]),uh(Yt,vn,null)}finally{ya()}return new vd(this.componentType,Vn,Wl(ii,vn),vn,ii)}}class vd extends cf{constructor(r,s,l,u,p){super(),this.location=l,this._rootLView=u,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new Qp(u),this.componentType=r}setInput(r,s){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[r])){const p=this._rootLView;Yp(p[te],p,u,r,s),md(br(this._tNode.index,p))}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function em(){const n=ki();ra(ut()[te],n)}function tm(n){let r=function Nf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;r;){let u;if(tr(n))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Fe(903,!1);u=r.\u0275dir}if(u){if(s){l.push(u);const x=n;x.inputs=yh(n.inputs),x.declaredInputs=yh(n.declaredInputs),x.outputs=yh(n.outputs);const P=u.hostBindings;P&&bg(n,P);const U=u.viewQuery,Y=u.contentQueries;if(U&&nm(n,U),Y&&yy(n,Y),Oe(n.inputs,u.inputs),Oe(n.declaredInputs,u.declaredInputs),Oe(n.outputs,u.outputs),tr(u)&&u.data.animation){const me=n.data;me.animation=(me.animation||[]).concat(u.data.animation)}}const p=u.features;if(p)for(let x=0;x<p.length;x++){const P=p[x];P&&P.ngInherit&&P(n),P===tm&&(s=!1)}}r=Object.getPrototypeOf(r)}!function _y(n){let r=0,s=null;for(let l=n.length-1;l>=0;l--){const u=n[l];u.hostVars=r+=u.hostVars,u.hostAttrs=se(u.hostAttrs,s=se(s,u.hostAttrs))}}(l)}function yh(n){return n===Et?{}:n===ln?[]:n}function nm(n,r){const s=n.viewQuery;n.viewQuery=s?(l,u)=>{r(l,u),s(l,u)}:r}function yy(n,r){const s=n.contentQueries;n.contentQueries=s?(l,u,p)=>{r(l,u,p),s(l,u,p)}:r}function bg(n,r){const s=n.hostBindings;n.hostBindings=s?(l,u)=>{r(l,u),s(l,u)}:r}function Ed(n){return!!vh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function vh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function al(n,r,s){return n[r]=s}function Bs(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function om(n,r,s,l){const u=ut();return Bs(u,jo(),r)&&(pn(),Qs(xr(),u,n,r,s,l)),om}function Cd(n,r,s,l){return Bs(n,jo(),s)?r+Re(s)+l:Zi}function Hf(n,r,s,l,u,p,x,P){const U=ut(),Y=pn(),me=n+Wi,Be=Y.firstCreatePass?function Cy(n,r,s,l,u,p,x,P,U){const Y=r.consts,me=dc(r,n,4,x||null,mr(Y,P));Hp(r,s,me,mr(Y,U)),ra(r,me);const Be=me.tView=hh(2,me,l,u,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Y);return null!==r.queries&&(r.queries.template(r,me),Be.queries=r.queries.embeddedTView(me)),me}(me,Y,U,r,s,l,u,p,x):Y.data[me];zi(Be,!1);const xt=U[Yn].createComment("");Rc(Y,U,xt,Be),Xt(xt,U),hc(U,U[me]=mg(xt,U,xt,Be)),yo(Be)&&Bp(Y,U,Be),null!=x&&xf(U,Be,P)}function jf(n){return Nr(function as(){return mi.lFrame.contextLView}(),Wi+n)}function am(n,r,s){const l=ut();return Bs(l,jo(),r)&&Na(pn(),xr(),l,n,r,l[Yn],s,!1),am}function bh(n,r,s,l,u){const x=u?"class":"style";Yp(n,s,r.inputs[x],x,l)}function Id(n,r,s,l){const u=ut(),p=pn(),x=Wi+n,P=u[Yn],U=p.firstCreatePass?function Rg(n,r,s,l,u,p){const x=r.consts,U=dc(r,n,2,l,mr(x,u));return Hp(r,s,U,mr(x,p)),null!==U.attrs&&Pf(U,U.attrs,!1),null!==U.mergedAttrs&&Pf(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(x,p,u,r,s,l):p.data[x],Y=u[x]=Zu(P,r,function Wa(){return mi.lFrame.currentNamespace}()),me=yo(U);return zi(U,!0),Gd(P,Y,U),32!=(32&U.flags)&&Rc(p,u,Y,U),0===function _(){return mi.lFrame.elementDepthCount}()&&Xt(Y,u),function C(){mi.lFrame.elementDepthCount++}(),me&&(Bp(p,u,U),Cf(p,U,u)),null!==l&&xf(u,U),Id}function Eh(){let n=ki();co()?lr():(n=n.parent,zi(n,!1));const r=n;!function j(){mi.lFrame.elementDepthCount--}();const s=pn();return s.firstCreatePass&&(ra(s,n),Ci(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ui(n){return 0!=(8&n.flags)}(r)&&bh(s,r,ut(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Li(n){return 0!=(16&n.flags)}(r)&&bh(s,r,ut(),r.stylesWithoutHost,!1),Eh}function lm(n,r,s,l){return Id(n,r,s,l),Eh(),lm}function $f(){return ut()}function Ch(n){return!!n&&"function"==typeof n.then}function Pg(n){return!!n&&"function"==typeof n.subscribe}const Td=Pg;function um(n,r,s,l){const u=ut(),p=pn(),x=ki();return function Pu(n,r,s,l,u,p,x){const P=yo(l),Y=n.firstCreatePass&&Af(n),me=r[Nn],Be=_g(r);let xt=!0;if(3&l.type||x){const Vn=Di(l,r),ii=x?x(Vn):Vn,xi=Be.length,ji=x?er=>x(vr(er[l.index])):l.index;let Sn=null;if(!x&&P&&(Sn=function Og(n,r,s,l){const u=n.cleanup;if(null!=u)for(let p=0;p<u.length-1;p+=2){const x=u[p];if(x===s&&u[p+1]===l){const P=r[On],U=u[p+2];return P.length>U?P[U]:null}"string"==typeof x&&(p+=2)}return null}(n,r,u,l.index)),null!==Sn)(Sn.__ngLastListenerFn__||Sn).__ngNextListenerFn__=p,Sn.__ngLastListenerFn__=p,xt=!1;else{p=xh(l,r,me,p,!1);const er=s.listen(ii,u,p);Be.push(p,er),Y&&Y.push(u,ji,xi,xi+1)}}else p=xh(l,r,me,p,!1);const Yt=l.outputs;let vn;if(xt&&null!==Yt&&(vn=Yt[u])){const Vn=vn.length;if(Vn)for(let ii=0;ii<Vn;ii+=2){const is=r[vn[ii]][vn[ii+1]].subscribe(p),Ds=Be.length;Be.push(p,is),Y&&Y.push(u,l.index,Ds,-(Ds+1))}}}(p,u,u[Yn],x,n,r,l),um}function dm(n,r,s,l){try{return Ar(6,r,s),!1!==s(l)}catch(u){return Rf(n,u),!1}finally{Ar(7,r,s)}}function xh(n,r,s,l,u){return function p(x){if(x===Function)return l;md(n.componentOffset>-1?br(n.index,r):r);let U=dm(r,s,l,x),Y=p.__ngNextListenerFn__;for(;Y;)U=dm(r,s,Y,x)&&U,Y=Y.__ngNextListenerFn__;return u&&!1===U&&(x.preventDefault(),x.returnValue=!1),U}}function kg(n=1){return function Ps(n){return(mi.lFrame.contextLView=function Oo(n,r){for(;n>0;)r=r[hr],n--;return r}(n,mi.lFrame.contextLView))[Nn]}(n)}function Ty(n,r){let s=null;const l=function G_(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let u=0;u<r.length;u++){const p=r[u];if("*"!==p){if(null===l?Tp(n,p,!0):eg(l,p))return u}else s=u}return s}function Ng(n){const r=ut()[sr][Cn];if(!r.projection){const l=r.projection=S(n?n.length:1,null),u=l.slice();let p=r.child;for(;null!==p;){const x=n?Ty(p,n):0;null!==x&&(u[x]?u[x].projectionNext=p:l[x]=p,u[x]=p),p=p.next}}}function Fg(n,r=0,s){const l=ut(),u=pn(),p=dc(u,Wi+n,16,null,s||null);null===p.projection&&(p.projection=r),lr(),32!=(32&p.flags)&&function pu(n,r,s){Wh(r[Yn],0,r,s,Ul(n,s,r),Yu(s.parent||r[Cn],s,r))}(u,l,p)}function Dd(n,r,s){return Ih(n,"",r,"",s),Dd}function Ih(n,r,s,l,u){const p=ut(),x=Cd(p,r,s,l);return x!==Zi&&Na(pn(),xr(),p,n,x,p[Yn],u,!1),Ih}function Ou(n,r){return n<<17|r<<2}function fc(n){return n>>17&32767}function eu(n){return 2|n}function pc(n){return(131068&n)>>2}function mm(n,r){return-131069&n|r<<2}function gm(n){return 1|n}function Ug(n,r,s,l,u){const p=n[s+1],x=null===r;let P=l?fc(p):pc(p),U=!1;for(;0!==P&&(!1===U||x);){const me=n[P+1];Ay(n[P],r)&&(U=!0,n[P+1]=l?gm(me):eu(me)),P=l?fc(me):pc(me)}U&&(n[s+1]=l?eu(p):gm(p))}function Ay(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&hn(n,r)>=0}const Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _m(n){return n.substring(Is.key,Is.keyEnd)}function vm(n,r){const s=Is.textEnd;return s===r?-1:(r=Is.keyEnd=function jg(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,Is.key=r,s),ur(n,r,s))}function ur(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function ll(n,r,s){return Sl(n,r,s,!1),ll}function Em(n,r){return Sl(n,r,null,!0),Em}function Wg(n){!function $a(n,r,s,l){const u=pn(),p=Rr(2);u.firstUpdatePass&&Zg(u,null,p,l);const x=ut();if(s!==Zi&&Bs(x,p,s)){const P=u.data[rr()];if(Qg(P,l)&&!Kg(u,p)){let U=l?P.classesWithoutHost:P.stylesWithoutHost;null!==U&&(s=Ie(U,s||"")),bh(u,P,x,s,l)}else!function Oy(n,r,s,l,u,p,x,P){u===Zi&&(u=ln);let U=0,Y=0,me=0<u.length?u[0]:null,Be=0<p.length?p[0]:null;for(;null!==me||null!==Be;){const xt=U<u.length?u[U+1]:void 0,Yt=Y<p.length?p[Y+1]:void 0;let Vn,vn=null;me===Be?(U+=2,Y+=2,xt!==Yt&&(vn=Be,Vn=Yt)):null===Be||null!==me&&me<Be?(U+=2,vn=me):(Y+=2,vn=Be,Vn=Yt),null!==vn&&qg(n,r,s,l,vn,Vn,x,P),me=U<u.length?u[U]:null,Be=Y<p.length?p[Y]:null}}(u,P,x,x[Yn],x[p+1],x[p+1]=function Ry(n,r,s){if(null==s||""===s)return ln;const l=[],u=Go(s);if(Array.isArray(u))for(let p=0;p<u.length;p++)n(l,u[p],!0);else if("object"==typeof u)for(const p in u)u.hasOwnProperty(p)&&n(l,p,u[p]);else"string"==typeof u&&r(l,u);return l}(n,r,s),l,p)}}(Py,cl,n,!0)}function cl(n,r){for(let s=function ym(n){return function Dh(n){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=n.length}(n),vm(n,ur(n,0,Is.textEnd))}(r);s>=0;s=vm(r,s))ve(n,_m(r),!0)}function Sl(n,r,s,l){const u=ut(),p=pn(),x=Rr(2);p.firstUpdatePass&&Zg(p,n,x,l),r!==Zi&&Bs(u,x,r)&&qg(p,p.data[rr()],u,u[Yn],n,u[x+1]=function ky(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ue(Go(n)))),n}(r,s),l,x)}function Kg(n,r){return r>=n.expandoStartIndex}function Zg(n,r,s,l){const u=n.data;if(null===u[s+1]){const p=u[rr()],x=Kg(n,s);Qg(p,l)&&null===r&&!x&&(r=!1),r=function To(n,r,s,l){const u=function Kr(n){const r=mi.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let p=l?r.residualClasses:r.residualStyles;if(null===u)0===(l?r.classBindings:r.styleBindings)&&(s=Sh(s=Qf(null,n,r,s,l),r.attrs,l),p=null);else{const x=r.directiveStylingLast;if(-1===x||n[x]!==u)if(s=Qf(u,n,r,s,l),null===p){let U=function Kv(n,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==pc(l))return n[fc(l)]}(n,r,l);void 0!==U&&Array.isArray(U)&&(U=Qf(null,n,r,U[1],l),U=Sh(U,r.attrs,l),function Zv(n,r,s,l){n[fc(s?r.classBindings:r.styleBindings)]=l}(n,r,l,U))}else p=function cs(n,r,s){let l;const u=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<u;p++)l=Sh(l,n[p].hostAttrs,s);return Sh(l,r.attrs,s)}(n,r,l)}return void 0!==p&&(l?r.residualClasses=p:r.residualStyles=p),s}(u,p,r,l),function Bg(n,r,s,l,u,p){let x=p?r.classBindings:r.styleBindings,P=fc(x),U=pc(x);n[l]=s;let me,Y=!1;if(Array.isArray(s)?(me=s[1],(null===me||hn(s,me)>0)&&(Y=!0)):me=s,u)if(0!==U){const xt=fc(n[P+1]);n[l+1]=Ou(xt,P),0!==xt&&(n[xt+1]=mm(n[xt+1],l)),n[P+1]=function Lg(n,r){return 131071&n|r<<17}(n[P+1],l)}else n[l+1]=Ou(P,0),0!==P&&(n[P+1]=mm(n[P+1],l)),P=l;else n[l+1]=Ou(U,0),0===P?P=l:n[U+1]=mm(n[U+1],l),U=l;Y&&(n[l+1]=eu(n[l+1])),Ug(n,me,l,!0),Ug(n,me,l,!1),function My(n,r,s,l,u){const p=u?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&hn(p,r)>=0&&(s[l+1]=gm(s[l+1]))}(r,me,n,l,p),x=Ou(P,U),p?r.classBindings=x:r.styleBindings=x}(u,p,r,s,x,l)}}function Qf(n,r,s,l,u){let p=null;const x=s.directiveEnd;let P=s.directiveStylingLast;for(-1===P?P=s.directiveStart:P++;P<x&&(p=r[P],l=Sh(l,p.hostAttrs,u),p!==n);)P++;return null!==n&&(s.directiveStylingLast=P),l}function Sh(n,r,s){const l=s?1:2;let u=-1;if(null!==r)for(let p=0;p<r.length;p++){const x=r[p];"number"==typeof x?u=x:u===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ve(n,x,!!s||r[++p]))}return void 0===n?null:n}function Py(n,r,s){const l=String(r);""!==l&&!l.includes(" ")&&ve(n,l,s)}function qg(n,r,s,l,u,p,x,P){if(!(3&r.type))return;const U=n.data,Y=U[P+1],me=function Dy(n){return 1==(1&n)}(Y)?Yg(U,r,s,u,pc(Y),x):void 0;Cm(me)||(Cm(p)||function pm(n){return 2==(2&n)}(Y)&&(p=Yg(U,null,s,u,P,x)),function Kh(n,r,s,l,u){if(r)u?n.addClass(s,l):n.removeClass(s,l);else{let p=-1===l.indexOf("-")?void 0:ca.DashCase;null==u?n.removeStyle(s,l,p):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),p|=ca.Important),n.setStyle(s,l,u,p))}}(l,x,Ro(rr(),s),u,p))}function Yg(n,r,s,l,u,p){const x=null===r;let P;for(;u>0;){const U=n[u],Y=Array.isArray(U),me=Y?U[1]:U,Be=null===me;let xt=s[u+1];xt===Zi&&(xt=Be?ln:void 0);let Yt=Be?At(xt,l):me===l?xt:void 0;if(Y&&!Cm(Yt)&&(Yt=At(U,l)),Cm(Yt)&&(P=Yt,x))return P;const vn=n[u+1];u=x?fc(vn):pc(vn)}if(null!==r){let U=p?r.residualClasses:r.residualStyles;null!=U&&(P=At(U,l))}return P}function Cm(n){return void 0!==n}function Qg(n,r){return 0!=(n.flags&(r?8:16))}function xm(n,r=""){const s=ut(),l=pn(),u=n+Wi,p=l.firstCreatePass?dc(l,u,1,r,null):l.data[u],x=s[u]=function Ku(n,r){return n.createText(r)}(s[Yn],r);Rc(l,s,x,p),zi(p,!1)}function ku(n){return Xf("",n,""),ku}function Xf(n,r,s){const l=ut(),u=Cd(l,n,r,s);return u!==Zi&&function Tl(n,r,s){const l=Ro(r,n);!function Bd(n,r,s){n.setValue(r,s)}(n[Yn],l,s)}(l,rr(),u),Xf}function kh(n,r,s){const l=ut();return Bs(l,jo(),r)&&Na(pn(),xr(),l,n,r,l[Yn],s,!0),kh}const Lu=void 0;var Vy=["en",[["a","p"],["AM","PM"],Lu],[["AM","PM"],Lu,Lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lu,"{1} 'at' {0}",Lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Nh(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Ml={};function a_(n){const r=function tp(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Fh(r);if(s)return s;const l=r.split("-")[0];if(s=Fh(l),s)return s;if("en"===l)return Vy;throw new Fe(701,!1)}function c_(n){return a_(n)[Oi.PluralCase]}function Fh(n){return n in Ml||(Ml[n]=_i.ng&&_i.ng.common&&_i.ng.common.locales&&_i.ng.common.locales[n]),Ml[n]}var Oi=(()=>((Oi=Oi||{})[Oi.LocaleId=0]="LocaleId",Oi[Oi.DayPeriodsFormat=1]="DayPeriodsFormat",Oi[Oi.DayPeriodsStandalone=2]="DayPeriodsStandalone",Oi[Oi.DaysFormat=3]="DaysFormat",Oi[Oi.DaysStandalone=4]="DaysStandalone",Oi[Oi.MonthsFormat=5]="MonthsFormat",Oi[Oi.MonthsStandalone=6]="MonthsStandalone",Oi[Oi.Eras=7]="Eras",Oi[Oi.FirstDayOfWeek=8]="FirstDayOfWeek",Oi[Oi.WeekendRange=9]="WeekendRange",Oi[Oi.DateFormat=10]="DateFormat",Oi[Oi.TimeFormat=11]="TimeFormat",Oi[Oi.DateTimeFormat=12]="DateTimeFormat",Oi[Oi.NumberSymbols=13]="NumberSymbols",Oi[Oi.NumberFormats=14]="NumberFormats",Oi[Oi.CurrencyCode=15]="CurrencyCode",Oi[Oi.CurrencySymbol=16]="CurrencySymbol",Oi[Oi.CurrencyName=17]="CurrencyName",Oi[Oi.Currencies=18]="Currencies",Oi[Oi.Directionality=19]="Directionality",Oi[Oi.PluralCase=20]="PluralCase",Oi[Oi.ExtraData=21]="ExtraData",Oi))();const _c="en-US";let Pm=_c;function lp(n,r,s,l,u){if(n=re(n),Array.isArray(n))for(let p=0;p<n.length;p++)lp(n[p],r,s,l,u);else{const p=pn(),x=ut();let P=Uc(n)?n:re(n.provide),U=af(n);const Y=ki(),me=1048575&Y.providerIndexes,Be=Y.directiveStart,xt=Y.providerIndexes>>20;if(Uc(n)||!n.multi){const Yt=new je(U,u,cd),vn=uv(P,r,u?me:me+xt,Be);-1===vn?(Fn(vo(Y,x),p,P),cv(p,n,r.length),r.push(P),Y.directiveStart++,Y.directiveEnd++,u&&(Y.providerIndexes+=1048576),s.push(Yt),x.push(Yt)):(s[vn]=Yt,x[vn]=Yt)}else{const Yt=uv(P,r,me+xt,Be),vn=uv(P,r,me,me+xt),ii=vn>=0&&s[vn];if(u&&!ii||!u&&!(Yt>=0&&s[Yt])){Fn(vo(Y,x),p,P);const xi=function F0(n,r,s,l,u){const p=new je(n,s,cd);return p.multi=[],p.index=r,p.componentProviders=0,ib(p,u,l&&!s),p}(u?N0:k0,s.length,u,l,U);!u&&ii&&(s[vn].providerFactory=xi),cv(p,n,r.length,0),r.push(P),Y.directiveStart++,Y.directiveEnd++,u&&(Y.providerIndexes+=1048576),s.push(xi),x.push(xi)}else cv(p,n,Yt>-1?Yt:vn,ib(s[u?vn:Yt],U,!u&&l));!u&&l&&ii&&s[vn].componentProviders++}}}function cv(n,r,s,l){const u=Uc(r),p=function lc(n){return!!n.useClass}(r);if(u||p){const U=(p?re(r.useClass):r).prototype.ngOnDestroy;if(U){const Y=n.destroyHooks||(n.destroyHooks=[]);if(!u&&r.multi){const me=Y.indexOf(s);-1===me?Y.push(s,[l,U]):Y[me+1].push(l,U)}else Y.push(s,U)}}}function ib(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function uv(n,r,s,l){for(let u=s;u<l;u++)if(r[u]===n)return u;return-1}function k0(n,r,s,l){return dv(this.multi,[])}function N0(n,r,s,l){const u=this.multi;let p;if(this.providerFactory){const x=this.providerFactory.componentProviders,P=Ri(s,s[te],this.providerFactory.index,l);p=P.slice(0,x),dv(u,p);for(let U=x;U<P.length;U++)p.push(P[U])}else p=[],dv(u,p);return p}function dv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function rb(n,r=[]){return s=>{s.providersResolver=(l,u)=>function Vu(n,r,s){const l=pn();if(l.firstCreatePass){const u=tr(n);lp(s,l.data,l.blueprint,u,!0),lp(r,l.data,l.blueprint,u,!1)}}(l,u?u(n):n,r)}}class cp{}class ob{}function L0(n,r){return new sb(n,r??null)}class sb extends cp{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Of(this);const l=Ce(r);this._bootstrapComponents=Zl(l.bootstrap),this._r3Injector=sg(r,s,[{provide:cp,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],ue(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class hv extends ob{constructor(r){super(),this.moduleType=r}create(r){return new sb(this.moduleType,r)}}class B0 extends cp{constructor(r,s,l){super(),this.componentFactoryResolver=new Of(this),this.instance=null;const u=new Vc([...r,{provide:cp,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],s||Gl(),l,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function fv(n,r,s=null){return new B0(n,r,s).injector}let U0=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=zm(0,s.type),u=l.length>0?fv([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,u)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Je({token:n,providedIn:"environment",factory:()=>new n(Lt(za))}),n})();function ab(n){n.getStandaloneInjector=r=>r.get(U0).getOrCreateStandaloneInjector(n)}function pb(n,r,s,l){return gb(ut(),Bi(),n,r,s,l)}function mb(n,r,s,l,u){return function _b(n,r,s,l,u,p,x){const P=r+s;return function Zc(n,r,s,l){const u=Bs(n,r,s);return Bs(n,r+1,l)||u}(n,P,u,p)?al(n,P+2,x?l.call(x,u,p):l(u,p)):Nm(n,P+2)}(ut(),Bi(),n,r,s,l,u)}function Nm(n,r){const s=n[r];return s===Zi?void 0:s}function gb(n,r,s,l,u,p){const x=r+s;return Bs(n,x,u)?al(n,x+1,p?l.call(p,u):l(u)):Nm(n,x+1)}function Eb(n,r){const s=pn();let l;const u=n+Wi;s.firstCreatePass?(l=function nE(n,r){if(r)for(let s=r.length-1;s>=0;s--){const l=r[s];if(n===l.name)return l}}(r,s.pipeRegistry),s.data[u]=l,l.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(u,l.onDestroy)):l=s.data[u];const p=l.factory||(l.factory=fo(l.type)),x=hi(cd);try{const P=Vi(!1),U=p();return Vi(P),function xy(n,r,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=l}(s,ut(),u,U),U}finally{hi(x)}}function wb(n,r,s){const l=n+Wi,u=ut(),p=Nr(u,l);return function Fm(n,r){return n[te].data[r].pure}(u,l)?gb(u,Bi(),r,p.transform,s,p):p.transform(s)}function mv(n){return r=>{setTimeout(n,void 0,r)}}const ru=class aE extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){let u=r,p=s||(()=>null),x=l;if(r&&"object"==typeof r){const U=r;u=U.next?.bind(U),p=U.error?.bind(U),x=U.complete?.bind(U)}this.__isAsync&&(p=mv(p),u&&(u=mv(u)),x&&(x=mv(x)));const P=super.subscribe({next:u,error:p,complete:x});return r instanceof A.w0&&r.add(P),P}};function lE(){return this._results[Symbol.iterator]()}class C_{get changes(){return this._changes||(this._changes=new ru)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=C_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=lE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const u=function bs(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function No(n,r,s){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let u=n[l],p=r[l];if(s&&(u=s(u),p=s(p)),p!==u)return!1}return!0}(l._results,u,s))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lm=(()=>{class n{}return n.__NG_ELEMENT_ID__=dE,n})();const cE=Lm,uE=class extends cE{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(r,s){const l=this._declarationTContainer.tView,u=ud(this._declarationLView,l,r,16,null,l.declTNode,null,null,null,null,s||null);u[Lo]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[qr];return null!==x&&(u[qr]=x.createEmbeddedView(l)),uh(l,u,r),new _d(u)}};function dE(){return x_(ki(),ut())}function x_(n,r){return 4&n.type?new uE(r,n,Wl(n,r)):null}let I_=(()=>{class n{}return n.__NG_ELEMENT_ID__=hE,n})();function hE(){return Ib(ki(),ut())}const fE=I_,Cb=class extends fE{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const r=Or(this._hostTNode,this._hostLView);if(Xe(r)){const s=Ct(r,this._hostLView),l=$e(r);return new Ti(s[te].data[l+8],s)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=xb(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-gn}createEmbeddedView(r,s,l){let u,p;"number"==typeof l?u=l:null!=l&&(u=l.index,p=l.injector);const x=r.createEmbeddedView(s||{},p);return this.insert(x,u),x}createComponent(r,s,l,u,p){const x=r&&!function Za(n){return"function"==typeof n}(r);let P;if(x)P=s;else{const Be=s||{};P=Be.index,l=Be.injector,u=Be.projectableNodes,p=Be.environmentInjector||Be.ngModuleRef}const U=x?r:new Au(zn(r)),Y=l||this.parentInjector;if(!p&&null==U.ngModule){const xt=(x?Y:this.parentInjector).get(za,null);xt&&(p=xt)}const me=U.create(Y,u,void 0,p);return this.insert(me.hostView,P),me}insert(r,s){const l=r._lView,u=l[te];if(function Ho(n){return fi(n[et])}(l)){const me=this.indexOf(r);if(-1!==me)this.detach(me);else{const Be=l[et],xt=new Cb(Be,Be[Cn],Be[et]);xt.detach(xt.indexOf(r))}}const p=this._adjustIndex(s),x=this._lContainer;!function vl(n,r,s,l){const u=gn+l,p=s.length;l>0&&(s[u-1][Wt]=r),l<p-gn?(r[Wt]=s[u],sa(s,gn+l,r)):(s.push(r),r[Wt]=null),r[et]=s;const x=r[Lo];null!==x&&s!==x&&function ic(n,r){const s=n[nn];r[sr]!==r[et][et][sr]&&(n[mt]=!0),null===s?n[nn]=[r]:s.push(r)}(x,r);const P=r[qr];null!==P&&P.insertView(n),r[De]|=64}(u,l,x,p);const P=Hl(p,x),U=l[Yn],Y=hu(U,x[at]);return null!==Y&&function Ud(n,r,s,l,u,p){l[we]=u,l[Cn]=r,Pc(n,l,s,1,u,p)}(u,x[Cn],U,l,Y,P),r.attachToViewContainerRef(),sa(gv(x),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=xb(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=rc(this._lContainer,s);l&&(I(gv(this._lContainer),s),du(l[te],l))}detach(r){const s=this._adjustIndex(r,-1),l=rc(this._lContainer,s);return l&&null!=I(gv(this._lContainer),s)?new _d(l):null}_adjustIndex(r,s=0){return r??this.length+s}};function xb(n){return n[Ut]}function gv(n){return n[Ut]||(n[Ut]=[])}function Ib(n,r){let s;const l=r[n.index];if(fi(l))s=l;else{let u;if(8&n.type)u=vr(l);else{const p=r[Yn];u=p.createComment("");const x=Di(n,r);Vl(p,hu(p,x),u,function fu(n,r){return n.nextSibling(r)}(p,x),!1)}r[n.index]=s=mg(l,r,u,n),hc(r,s)}return new Cb(s,n,r)}class _v{constructor(r){this.queryList=r,this.matches=null}clone(){return new _v(this.queryList)}setDirty(){this.queryList.setDirty()}}class yv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,u=[];for(let p=0;p<l;p++){const x=s.getByIndex(p);u.push(this.queries[x.indexInDeclarationView].clone())}return new yv(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==kb(r,s).matches&&this.queries[s].setDirty()}}class Tb{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class vv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const u=null!==s?s.length:0,p=this.getByIndex(l).embeddedTView(r,u);p&&(p.indexInDeclarationView=l,null!==s?s.push(p):s=[p])}return null!==s?new vv(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class bv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new bv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const p=l[u];this.matchTNodeWithReadOption(r,s,pE(s,p)),this.matchTNodeWithReadOption(r,s,Sa(s,r,p,!1,!1))}else l===Lm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Sa(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===Il||u===I_||u===Lm&&4&s.type)this.addMatch(s.index,-2);else{const p=Sa(s,r,u,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function pE(n,r){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function gE(n,r,s,l){return-1===s?function mE(n,r){return 11&n.type?Wl(n,r):4&n.type?x_(n,r):null}(r,n):-2===s?function _E(n,r,s){return s===Il?Wl(r,n):s===Lm?x_(r,n):s===I_?Ib(r,n):void 0}(n,r,l):Ri(n,n[te],s,r)}function Db(n,r,s,l){const u=r[qr].queries[l];if(null===u.matches){const p=n.data,x=s.matches,P=[];for(let U=0;U<x.length;U+=2){const Y=x[U];P.push(Y<0?null:gE(r,p[Y],x[U+1],s.metadata.read))}u.matches=P}return u.matches}function Ev(n,r,s,l){const u=n.queries.getByIndex(s),p=u.matches;if(null!==p){const x=Db(n,r,u,s);for(let P=0;P<p.length;P+=2){const U=p[P];if(U>0)l.push(x[P/2]);else{const Y=p[P+1],me=r[-U];for(let Be=gn;Be<me.length;Be++){const xt=me[Be];xt[Lo]===xt[et]&&Ev(xt[te],xt,Y,l)}if(null!==me[nn]){const Be=me[nn];for(let xt=0;xt<Be.length;xt++){const Yt=Be[xt];Ev(Yt[te],Yt,Y,l)}}}}}return l}function Sb(n){const r=ut(),s=pn(),l=na();Xi(l+1);const u=kb(s,l);if(n.dirty&&function As(n){return 4==(4&n[De])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const p=u.crossesNgTemplate?Ev(s,r,l,[]):Db(s,r,u,l);n.reset(p,Hc),n.notifyOnChanges()}return!0}return!1}function Mb(n,r,s){const l=pn();l.firstCreatePass&&(Ob(l,new Tb(n,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),Pb(l,ut(),r)}function Ab(n,r,s,l){const u=pn();if(u.firstCreatePass){const p=ki();Ob(u,new Tb(r,s,l),p.index),function vE(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}Pb(u,ut(),s)}function Rb(){return function yE(n,r){return n[qr].queries[r].queryList}(ut(),na())}function Pb(n,r,s){const l=new C_(4==(4&s));Ys(n,r,l,l.destroy),null===r[qr]&&(r[qr]=new yv),r[qr].queries.push(new _v(l))}function Ob(n,r,s){null===n.queries&&(n.queries=new vv),n.queries.track(new bv(r,s))}function kb(n,r){return n.queries.getByIndex(r)}function Nb(n,r){return x_(n,r)}function wv(n){return!!Ce(n)}function D_(...n){}const Jb=new Qi("Application Initializer");let S_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=D_,this.reject=D_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const p=this.appInits[u]();if(Ch(p))s.push(p);else if(Td(p)){const x=new Promise((P,U)=>{p.subscribe({complete:P,error:U})});s.push(x)}}Promise.all(s).then(()=>{l()}).catch(u=>{this.reject(u)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Lt(Jb,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e0=new Qi("AppId",{providedIn:"root",factory:function t0(){return`${Dv()}${Dv()}${Dv()}`}});function Dv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const n0=new Qi("Platform Initializer"),UE=new Qi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),VE=new Qi("AnimationModuleType");let HE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const M_=new Qi("LocaleId",{providedIn:"root",factory:()=>z(M_,bt.Optional|bt.SkipSelf)||function jE(){return typeof $localize<"u"&&$localize.locale||_c}()}),zE=new Qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class $E{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let GE=(()=>{class n{compileModuleSync(s){return new hv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),p=Zl(Ce(s).declarations).reduce((x,P)=>{const U=zn(P);return U&&x.push(new Au(U)),x},[]);return new $E(l,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZE=(()=>Promise.resolve(0))();function Sv(n){typeof Zone>"u"?ZE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Xl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ru(!1),this.onMicrotaskEmpty=new ru(!1),this.onStable=new ru(!1),this.onError=new ru(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&s,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function qE(){let n=_i.requestAnimationFrame,r=_i.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XE(n){const r=()=>{!function QE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_i,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Av(n),n.isCheckStableRunning=!0,Mv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Av(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,u,p,x,P)=>{try{return s0(n),s.invokeTask(u,p,x,P)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),a0(n)}},onInvoke:(s,l,u,p,x,P,U)=>{try{return s0(n),s.invoke(u,p,x,P,U)}finally{n.shouldCoalesceRunChangeDetection&&r(),a0(n)}},onHasTask:(s,l,u,p)=>{s.hasTask(u,p),l===u&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,Av(n),Mv(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,l,u,p)=>(s.handleError(u,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xl.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(Xl.isInAngularZone())throw new Fe(909,!1)}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,u){const p=this._inner,x=p.scheduleEventTask("NgZoneEvent: "+u,r,YE,D_,D_);try{return p.runTask(x,s,l)}finally{p.cancelTask(x)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const YE={};function Mv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Av(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function s0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function a0(n){n._nesting--,Mv(n)}class JE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ru,this.onMicrotaskEmpty=new ru,this.onStable=new ru,this.onError=new ru}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,u){return r.apply(s,l)}}const l0=new Qi(""),c0=new Qi("");let Rv,ew=(()=>{class n{constructor(s,l,u){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rv||(function tw(n){Rv=n}(u),u.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xl.assertNotInAngularZone(),Sv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,u){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==p),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:u})}whenStable(s,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(Lt(Xl),Lt(u0),Lt(c0))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),u0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return Rv?.findTestabilityInTree(this,s,l)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Hu=!1;let Od=null;const d0=new Qi("AllowMultipleToken"),Pv=new Qi("PlatformDestroyListeners"),h0=new Qi("appBootstrapListener");class rw{constructor(r,s){this.name=r,this.token=s}}function p0(n,r,s=[]){const l=`Platform: ${r}`,u=new Qi(l);return(p=[])=>{let x=Ov();if(!x||x.injector.get(d0,!1)){const P=[...s,...p,{provide:u,useValue:!0}];n?n(P):function ow(n){if(Od&&!Od.get(d0,!1))throw new Fe(400,!1);Od=n;const r=n.get(g0);(function f0(n){const r=n.get(n0,null);r&&r.forEach(s=>s())})(n)}(function m0(n=[],r){return Tu.create({name:r,providers:[{provide:rf,useValue:"platform"},{provide:Pv,useValue:new Set([()=>Od=null])},...n]})}(P,l))}return function aw(n){const r=Ov();if(!r)throw new Fe(401,!1);return r}()}}function Ov(){return Od?.get(g0)??null}let g0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const u=function y0(n,r){let s;return s="noop"===n?new JE:("zone.js"===n?void 0:n)||new Xl(r),s}(l?.ngZone,function _0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Xl,useValue:u}];return u.run(()=>{const x=Tu.create({providers:p,parent:this.injector,name:s.moduleType.name}),P=s.create(x),U=P.injector.get(jc,null);if(!U)throw new Fe(402,!1);return u.runOutsideAngular(()=>{const Y=u.onError.subscribe({next:me=>{U.handleError(me)}});P.onDestroy(()=>{R_(this._modules,P),Y.unsubscribe()})}),function v0(n,r,s){try{const l=s();return Ch(l)?l.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(U,u,()=>{const Y=P.injector.get(S_);return Y.runInitializers(),Y.donePromise.then(()=>(function Om(n){gt(n,"Expected localeId to be defined"),"string"==typeof n&&(Pm=n.toLowerCase().replace(/_/g,"-"))}(P.injector.get(M_,_c)||_c),this._moduleDoBootstrap(P),P))})})}bootstrapModule(s,l=[]){const u=b0({},l);return function nw(n,r,s){const l=new hv(s);return Promise.resolve(l)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,u))}_moduleDoBootstrap(s){const l=s.injector.get(A_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Fe(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(Pv,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Lt(Tu))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function b0(n,r){return Array.isArray(r)?r.reduce(b0,n):{...n,...r}}let A_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,l,u){this._zone=s,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new g.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),x=new g.y(P=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Xl.assertNotInAngularZone(),Sv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Xl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{U.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,fe.T)(p,x.pipe((0,O.B)()))}bootstrap(s,l){const u=s instanceof ad;if(!this._injector.get(S_).done){!u&&ee(s);throw new Fe(405,Hu)}let x;x=u?s:this._injector.get(th).resolveComponentFactory(s),this.componentTypes.push(x.componentType);const P=function iw(n){return n.isBoundToModule}(x)?void 0:this._injector.get(cp),Y=x.create(Tu.NULL,[],l||x.selector,P),me=Y.location.nativeElement,Be=Y.injector.get(l0,null);return Be?.registerApplication(me),Y.onDestroy(()=>{this.detachView(Y.hostView),R_(this.components,Y),Be?.unregisterApplication(me)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;R_(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(h0,[]);l.push(...this._bootstrapListeners),l.forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>R_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Fe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Lt(Xl),Lt(za),Lt(jc))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function cw(){return!1}let uw=(()=>{class n{}return n.__NG_ELEMENT_ID__=dw,n})();function dw(n){return function hw(n,r,s){if(wr(n)&&!s){const l=br(n.index,r);return new _d(l,l)}return 47&n.type?new _d(r[sr],r):null}(ki(),ut(),16==(16&n))}class I0{constructor(){}supports(r){return Ed(r)}create(r){return new yw(r)}}const _w=(n,r)=>r;class yw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||_w}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,u=0,p=null;for(;s||l;){const x=!l||s&&s.currentIndex<D0(l,u,p)?s:l,P=D0(x,u,p),U=x.currentIndex;if(x===l)u--,l=l._nextRemoved;else if(s=s._next,null==x.previousIndex)u++;else{p||(p=[]);const Y=P-u,me=U-u;if(Y!=me){for(let xt=0;xt<Y;xt++){const Yt=xt<p.length?p[xt]:p[xt]=0,vn=Yt+xt;me<=vn&&vn<Y&&(p[xt]=Yt+1)}p[x.previousIndex]=me-Y}}P!==U&&r(x,P,U)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ed(r))throw new Fe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,p,x,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let P=0;P<this.length;P++)p=r[P],x=this._trackByFn(P,p),null!==s&&Object.is(s.trackById,x)?(l&&(s=this._verifyReinsertion(s,p,x,P)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,x,P),l=!0),s=s._next}else u=0,function Ey(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,P=>{x=this._trackByFn(u,P),null!==s&&Object.is(s.trackById,x)?(l&&(s=this._verifyReinsertion(s,P,x,u)),Object.is(s.item,P)||this._addIdentityChange(s,P)):(s=this._mismatch(s,P,x,u),l=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,u){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,u)):r=this._addAfter(new vw(s,l),p,u),r}_verifyReinsertion(r,s,l,u){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?r=this._reinsertAfter(p,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,p=r._nextRemoved;return null===u?this._removalsHead=p:u._nextRemoved=p,null===p?this._removalsTail=u:p._prevRemoved=u,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const u=null===s?this._itHead:s._next;return r._next=u,r._prev=s,null===u?this._itTail=r:u._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class vw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class T0{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new bw,this.map.set(s,l)),l.add(r)}get(r,s){const u=this.map.get(r);return u?u.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function D0(n,r,s){const l=n.previousIndex;if(null===l)return l;let u=0;return s&&l<s.length&&(u=s[l]),l+r+u}class S0{constructor(){}supports(r){return r instanceof Map||vh(r)}create(){return new Ew}}class Ew{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||vh(r)))throw new Fe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(u,l);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,s);const p=u._prev,x=u._next;return p&&(p._next=x),x&&(x._prev=p),u._next=null,u._prev=null,u}const l=new ww(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class ww{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function M0(){return new Bv([new I0])}let Bv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const u=l.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||M0()),deps:[[n,new bc,new Rl]]}}find(s){const l=this.factories.find(u=>u.supports(s));if(null!=l)return l;throw new Fe(901,!1)}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:M0}),n})();function A0(){return new Uv([new S0])}let Uv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const u=l.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||A0()),deps:[[n,new bc,new Rl]]}}find(s){const l=this.factories.find(u=>u.supports(s));if(l)return l;throw new Fe(901,!1)}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:A0}),n})();const Iw=p0(null,"core",[]);let Tw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Lt(A_))},n.\u0275mod=Ot({type:n}),n.\u0275inj=ht({}),n})();function Dw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(_n,Ye,D)=>{D.d(Ye,{EJ:()=>Ao,F:()=>Cn,Fj:()=>Ve,JJ:()=>ct,JL:()=>bt,Kr:()=>Vo,NI:()=>Si,On:()=>qi,Q7:()=>po,UX:()=>Qo,YN:()=>Qr,_Y:()=>Wi,a5:()=>Zt,kI:()=>Se,oH:()=>wr,qu:()=>Ho,sg:()=>tr,u:()=>Zo,u5:()=>mi});var c=D(4650),A=D(6895),g=D(8996),fe=D(4128),O=D(4004);let Te=(()=>{class v{constructor(C,j){this._renderer=C,this._elementRef=j,this.onChange=_e=>{},this.onTouched=()=>{}}setProperty(C,j){this._renderer.setProperty(this._elementRef.nativeElement,C,j)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(c.Qsj),c.Y36(c.SBq))},v.\u0275dir=c.lG2({type:v}),v})(),Oe=(()=>{class v extends Te{}return v.\u0275fac=function(){let _;return function(j){return(_||(_=c.n5z(v)))(j||v)}}(),v.\u0275dir=c.lG2({type:v,features:[c.qOj]}),v})();const ue=new c.OlP("NgValueAccessor"),ae={provide:ue,useExisting:(0,c.Gpc)(()=>Ve),multi:!0},Ae=new c.OlP("CompositionEventMode");let Ve=(()=>{class v extends Te{constructor(C,j,_e){super(C,j),this._compositionMode=_e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function re(){const v=(0,A.q)()?(0,A.q)().getUserAgent():"";return/android (\d+)/.test(v.toLowerCase())}())}writeValue(C){this.setProperty("value",C??"")}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ae,8))},v.\u0275dir=c.lG2({type:v,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,j){1&C&&c.NdJ("input",function(dt){return j._handleInput(dt.target.value)})("blur",function(){return j.onTouched()})("compositionstart",function(){return j._compositionStart()})("compositionend",function(dt){return j._compositionEnd(dt.target.value)})},features:[c._Bn([ae]),c.qOj]}),v})();const Ge=!1;function rt(v){return null==v||("string"==typeof v||Array.isArray(v))&&0===v.length}function Fe(v){return null!=v&&"number"==typeof v.length}const tt=new c.OlP("NgValidators"),Re=new c.OlP("NgAsyncValidators"),lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Se{static min(_){return function ge(v){return _=>{if(rt(_.value)||rt(v))return null;const C=parseFloat(_.value);return!isNaN(C)&&C<v?{min:{min:v,actual:_.value}}:null}}(_)}static max(_){return function pe(v){return _=>{if(rt(_.value)||rt(v))return null;const C=parseFloat(_.value);return!isNaN(C)&&C>v?{max:{max:v,actual:_.value}}:null}}(_)}static required(_){return Ke(_)}static requiredTrue(_){return function _t(v){return!0===v.value?null:{required:!0}}(_)}static email(_){return function Rt(v){return rt(v.value)||lt.test(v.value)?null:{email:!0}}(_)}static minLength(_){return function qe(v){return _=>rt(_.value)||!Fe(_.value)?null:_.value.length<v?{minlength:{requiredLength:v,actualLength:_.value.length}}:null}(_)}static maxLength(_){return function un(v){return _=>Fe(_.value)&&_.value.length>v?{maxlength:{requiredLength:v,actualLength:_.value.length}}:null}(_)}static pattern(_){return function St(v){if(!v)return bn;let _,C;return"string"==typeof v?(C="","^"!==v.charAt(0)&&(C+="^"),C+=v,"$"!==v.charAt(v.length-1)&&(C+="$"),_=new RegExp(C)):(C=v.toString(),_=v),j=>{if(rt(j.value))return null;const _e=j.value;return _.test(_e)?null:{pattern:{requiredPattern:C,actualValue:_e}}}}(_)}static nullValidator(_){return null}static compose(_){return kt(_)}static composeAsync(_){return vt(_)}}function Ke(v){return rt(v.value)?{required:!0}:null}function bn(v){return null}function yn(v){return null!=v}function ui(v){const _=(0,c.QGY)(v)?(0,g.D)(v):v;if(Ge&&!(0,c.CqO)(_)){let C="Expected async validator to return Promise or Observable.";throw"object"==typeof v&&(C+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,C)}return _}function Ft(v){let _={};return v.forEach(C=>{_=null!=C?{..._,...C}:_}),0===Object.keys(_).length?null:_}function Tt(v,_){return _.map(C=>C(v))}function wt(v){return v.map(_=>function Pt(v){return!v.validate}(_)?_:C=>_.validate(C))}function kt(v){if(!v)return null;const _=v.filter(yn);return 0==_.length?null:function(C){return Ft(Tt(C,_))}}function gt(v){return null!=v?kt(wt(v)):null}function vt(v){if(!v)return null;const _=v.filter(yn);return 0==_.length?null:function(C){const j=Tt(C,_).map(ui);return(0,fe.D)(j).pipe((0,O.U)(Ft))}}function jt(v){return null!=v?vt(wt(v)):null}function an(v,_){return null===v?[_]:Array.isArray(v)?[...v,_]:[v,_]}function Vt(v){return v._rawValidators}function Je(v){return v._rawAsyncValidators}function wn(v){return v?Array.isArray(v)?v:[v]:[]}function ht(v,_){return Array.isArray(v)?v.includes(_):v===_}function En(v,_){const C=wn(_);return wn(v).forEach(_e=>{ht(C,_e)||C.push(_e)}),C}function Bt(v,_){return wn(_).filter(C=>!ht(v,C))}class mn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(_){this._rawValidators=_||[],this._composedValidatorFn=gt(this._rawValidators)}_setAsyncValidators(_){this._rawAsyncValidators=_||[],this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(_){this._onDestroyCallbacks.push(_)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(_=>_()),this._onDestroyCallbacks=[]}reset(_){this.control&&this.control.reset(_)}hasError(_,C){return!!this.control&&this.control.hasError(_,C)}getError(_,C){return this.control?this.control.getError(_,C):null}}class Ue extends mn{get formDirective(){return null}get path(){return null}}class Zt extends mn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yt{constructor(_){this._cd=_}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ct=(()=>{class v extends yt{constructor(C){super(C)}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(Zt,2))},v.\u0275dir=c.lG2({type:v,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,j){2&C&&c.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)},features:[c.qOj]}),v})(),bt=(()=>{class v extends yt{constructor(C){super(C)}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(Ue,10))},v.\u0275dir=c.lG2({type:v,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,j){2&C&&c.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)("ng-submitted",j.isSubmitted)},features:[c.qOj]}),v})();function zt(v,_){return v?`with name: '${_}'`:`at index: ${_}`}const kn=!1,ti="VALID",Lt="INVALID",Ee="PENDING",z="DISABLED";function ce(v){return(gi(v)?v.validators:v)||null}function Qt(v,_){return(gi(_)?_.asyncValidators:v)||null}function gi(v){return null!=v&&!Array.isArray(v)&&"object"==typeof v}function Le(v,_,C){const j=v.controls;if(!(_?Object.keys(j):j).length)throw new c.vHH(1e3,kn?function $n(v){return`\n    There are no form controls registered with this ${v?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(_):"");if(!j[C])throw new c.vHH(1001,kn?function Rn(v,_){return`Cannot find form control ${zt(v,_)}`}(_,C):"")}function Ne(v,_,C){v._forEachChild((j,_e)=>{if(void 0===C[_e])throw new c.vHH(1002,kn?function Mi(v,_){return`Must supply a value for form control ${zt(v,_)}`}(_,_e):"")})}class He{constructor(_,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(_),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(_){this._rawValidators=this._composedValidatorFn=_}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(_){this._rawAsyncValidators=this._composedAsyncValidatorFn=_}get parent(){return this._parent}get valid(){return this.status===ti}get invalid(){return this.status===Lt}get pending(){return this.status==Ee}get disabled(){return this.status===z}get enabled(){return this.status!==z}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(_){this._assignValidators(_)}setAsyncValidators(_){this._assignAsyncValidators(_)}addValidators(_){this.setValidators(En(_,this._rawValidators))}addAsyncValidators(_){this.setAsyncValidators(En(_,this._rawAsyncValidators))}removeValidators(_){this.setValidators(Bt(_,this._rawValidators))}removeAsyncValidators(_){this.setAsyncValidators(Bt(_,this._rawAsyncValidators))}hasValidator(_){return ht(this._rawValidators,_)}hasAsyncValidator(_){return ht(this._rawAsyncValidators,_)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(_={}){this.touched=!0,this._parent&&!_.onlySelf&&this._parent.markAsTouched(_)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(_=>_.markAllAsTouched())}markAsUntouched(_={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!_.onlySelf&&this._parent._updateTouched(_)}markAsDirty(_={}){this.pristine=!1,this._parent&&!_.onlySelf&&this._parent.markAsDirty(_)}markAsPristine(_={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!_.onlySelf&&this._parent._updatePristine(_)}markAsPending(_={}){this.status=Ee,!1!==_.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!_.onlySelf&&this._parent.markAsPending(_)}disable(_={}){const C=this._parentMarkedDirty(_.onlySelf);this.status=z,this.errors=null,this._forEachChild(j=>{j.disable({..._,onlySelf:!0})}),this._updateValue(),!1!==_.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({..._,skipPristineCheck:C}),this._onDisabledChange.forEach(j=>j(!0))}enable(_={}){const C=this._parentMarkedDirty(_.onlySelf);this.status=ti,this._forEachChild(j=>{j.enable({..._,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:_.emitEvent}),this._updateAncestors({..._,skipPristineCheck:C}),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(_){this._parent&&!_.onlySelf&&(this._parent.updateValueAndValidity(_),_.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(_){this._parent=_}getRawValue(){return this.value}updateValueAndValidity(_={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ti||this.status===Ee)&&this._runAsyncValidator(_.emitEvent)),!1!==_.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!_.onlySelf&&this._parent.updateValueAndValidity(_)}_updateTreeValidity(_={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(_)),this.updateValueAndValidity({onlySelf:!0,emitEvent:_.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?z:ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(_){if(this.asyncValidator){this.status=Ee,this._hasOwnPendingAsyncValidator=!0;const C=ui(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:_})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(_,C={}){this.errors=_,this._updateControlsErrors(!1!==C.emitEvent)}get(_){let C=_;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((j,_e)=>j&&j._find(_e),this)}getError(_,C){const j=C?this.get(C):this;return j&&j.errors?j.errors[_]:null}hasError(_,C){return!!this.getError(_,C)}get root(){let _=this;for(;_._parent;)_=_._parent;return _}_updateControlsErrors(_){this.status=this._calculateStatus(),_&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(_)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?z:this.errors?Lt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ee)?Ee:this._anyControlsHaveStatus(Lt)?Lt:ti}_anyControlsHaveStatus(_){return this._anyControls(C=>C.status===_)}_anyControlsDirty(){return this._anyControls(_=>_.dirty)}_anyControlsTouched(){return this._anyControls(_=>_.touched)}_updatePristine(_={}){this.pristine=!this._anyControlsDirty(),this._parent&&!_.onlySelf&&this._parent._updatePristine(_)}_updateTouched(_={}){this.touched=this._anyControlsTouched(),this._parent&&!_.onlySelf&&this._parent._updateTouched(_)}_registerOnCollectionChange(_){this._onCollectionChange=_}_setUpdateStrategy(_){gi(_)&&null!=_.updateOn&&(this._updateOn=_.updateOn)}_parentMarkedDirty(_){return!_&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(_){return null}_assignValidators(_){this._rawValidators=Array.isArray(_)?_.slice():_,this._composedValidatorFn=function nt(v){return Array.isArray(v)?gt(v):v||null}(this._rawValidators)}_assignAsyncValidators(_){this._rawAsyncValidators=Array.isArray(_)?_.slice():_,this._composedAsyncValidatorFn=function Gn(v){return Array.isArray(v)?jt(v):v||null}(this._rawAsyncValidators)}}class $t extends He{constructor(_,C,j){super(ce(C),Qt(j,C)),this.controls=_,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(_,C){return this.controls[_]?this.controls[_]:(this.controls[_]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(_,C,j={}){this.registerControl(_,C),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(_,C={}){this.controls[_]&&this.controls[_]._registerOnCollectionChange(()=>{}),delete this.controls[_],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(_,C,j={}){this.controls[_]&&this.controls[_]._registerOnCollectionChange(()=>{}),delete this.controls[_],C&&this.registerControl(_,C),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(_){return this.controls.hasOwnProperty(_)&&this.controls[_].enabled}setValue(_,C={}){Ne(this,!0,_),Object.keys(_).forEach(j=>{Le(this,!0,j),this.controls[j].setValue(_[j],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(_,C={}){null!=_&&(Object.keys(_).forEach(j=>{const _e=this.controls[j];_e&&_e.patchValue(_[j],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(_={},C={}){this._forEachChild((j,_e)=>{j.reset(_[_e],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(_,C,j)=>(_[j]=C.getRawValue(),_))}_syncPendingControls(){let _=this._reduceChildren(!1,(C,j)=>!!j._syncPendingControls()||C);return _&&this.updateValueAndValidity({onlySelf:!0}),_}_forEachChild(_){Object.keys(this.controls).forEach(C=>{const j=this.controls[C];j&&_(j,C)})}_setUpControls(){this._forEachChild(_=>{_.setParent(this),_._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(_){for(const[C,j]of Object.entries(this.controls))if(this.contains(C)&&_(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,j,_e)=>((j.enabled||this.disabled)&&(C[_e]=j.value),C))}_reduceChildren(_,C){let j=_;return this._forEachChild((_e,dt)=>{j=C(j,_e,dt)}),j}_allControlsDisabled(){for(const _ of Object.keys(this.controls))if(this.controls[_].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(_){return this.controls.hasOwnProperty(_)?this.controls[_]:null}}class Qe extends $t{}const V=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>k}),k="always";function Z(v,_){return[..._.path,v]}function be(v,_,C=k){ei(v,_),_.valueAccessor.writeValue(v.value),(v.disabled||"always"===C)&&_.valueAccessor.setDisabledState?.(v.disabled),function Ot(v,_){_.valueAccessor.registerOnChange(C=>{v._pendingValue=C,v._pendingChange=!0,v._pendingDirty=!0,"change"===v.updateOn&&Mn(v,_)})}(v,_),function Wn(v,_){const C=(j,_e)=>{_.valueAccessor.writeValue(j),_e&&_.viewToModelUpdate(j)};v.registerOnChange(C),_._registerOnDestroy(()=>{v._unregisterOnChange(C)})}(v,_),function dn(v,_){_.valueAccessor.registerOnTouched(()=>{v._pendingTouched=!0,"blur"===v.updateOn&&v._pendingChange&&Mn(v,_),"submit"!==v.updateOn&&v.markAsTouched()})}(v,_),function In(v,_){if(_.valueAccessor.setDisabledState){const C=j=>{_.valueAccessor.setDisabledState(j)};v.registerOnDisabledChange(C),_._registerOnDestroy(()=>{v._unregisterOnDisabledChange(C)})}}(v,_)}function st(v,_,C=!0){const j=()=>{};_.valueAccessor&&(_.valueAccessor.registerOnChange(j),_.valueAccessor.registerOnTouched(j)),It(v,_),v&&(_._invokeOnDestroyCallbacks(),v._registerOnCollectionChange(()=>{}))}function tn(v,_){v.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(_)})}function ei(v,_){const C=Vt(v);null!==_.validator?v.setValidators(an(C,_.validator)):"function"==typeof C&&v.setValidators([C]);const j=Je(v);null!==_.asyncValidator?v.setAsyncValidators(an(j,_.asyncValidator)):"function"==typeof j&&v.setAsyncValidators([j]);const _e=()=>v.updateValueAndValidity();tn(_._rawValidators,_e),tn(_._rawAsyncValidators,_e)}function It(v,_){let C=!1;if(null!==v){if(null!==_.validator){const _e=Vt(v);if(Array.isArray(_e)&&_e.length>0){const dt=_e.filter(sn=>sn!==_.validator);dt.length!==_e.length&&(C=!0,v.setValidators(dt))}}if(null!==_.asyncValidator){const _e=Je(v);if(Array.isArray(_e)&&_e.length>0){const dt=_e.filter(sn=>sn!==_.asyncValidator);dt.length!==_e.length&&(C=!0,v.setAsyncValidators(dt))}}}const j=()=>{};return tn(_._rawValidators,j),tn(_._rawAsyncValidators,j),C}function Mn(v,_){v._pendingDirty&&v.markAsDirty(),v.setValue(v._pendingValue,{emitModelToViewChange:!1}),_.viewToModelUpdate(v._pendingValue),v._pendingChange=!1}function li(v,_){ei(v,_)}function Nt(v,_){if(!v.hasOwnProperty("model"))return!1;const C=v.model;return!!C.isFirstChange()||!Object.is(_,C.currentValue)}function we(v,_){v._syncPendingControls(),_.forEach(C=>{const j=C.control;"submit"===j.updateOn&&j._pendingChange&&(C.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}function te(v,_){if(!_)return null;let C,j,_e;return Array.isArray(_),_.forEach(dt=>{dt.constructor===Ve?C=dt:function ze(v){return Object.getPrototypeOf(v.constructor)===Oe}(dt)?j=dt:_e=dt}),_e||j||C||null}const Wt={provide:Ue,useExisting:(0,c.Gpc)(()=>Cn)},on=(()=>Promise.resolve())();let Cn=(()=>{class v extends Ue{constructor(C,j,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new $t({},gt(C),jt(j))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(C){on.then(()=>{const j=this._findContainer(C.path);C.control=j.registerControl(C.name,C.control),be(C.control,C,this.callSetDisabledState),C.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(C)})}getControl(C){return this.form.get(C.path)}removeControl(C){on.then(()=>{const j=this._findContainer(C.path);j&&j.removeControl(C.name),this._directives.delete(C)})}addFormGroup(C){on.then(()=>{const j=this._findContainer(C.path),_e=new $t({});li(_e,C),j.registerControl(C.name,_e),_e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(C){on.then(()=>{const j=this._findContainer(C.path);j&&j.removeControl(C.name)})}getFormGroup(C){return this.form.get(C.path)}updateModel(C,j){on.then(()=>{this.form.get(C.path).setValue(j)})}setValue(C){this.control.setValue(C)}onSubmit(C){return this.submitted=!0,we(this.form,this._directives),this.ngSubmit.emit(C),"dialog"===C?.target?.method}onReset(){this.resetForm()}resetForm(C){this.form.reset(C),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(C){return C.pop(),C.length?this.form.get(C):this.form}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(tt,10),c.Y36(Re,10),c.Y36(V,8))},v.\u0275dir=c.lG2({type:v,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(C,j){1&C&&c.NdJ("submit",function(dt){return j.onSubmit(dt)})("reset",function(){return j.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Wt]),c.qOj]}),v})();function On(v,_){const C=v.indexOf(_);C>-1&&v.splice(C,1)}function Nn(v){return"object"==typeof v&&null!==v&&2===Object.keys(v).length&&"value"in v&&"disabled"in v}const Si=class extends He{constructor(_=null,C,j){super(ce(C),Qt(j,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(_),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gi(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=Nn(_)?_.value:_)}setValue(_,C={}){this.value=this._pendingValue=_,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(_,C={}){this.setValue(_,C)}reset(_=this.defaultValue,C={}){this._applyFormState(_),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(_){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(_){this._onChange.push(_)}_unregisterOnChange(_){On(this._onChange,_)}registerOnDisabledChange(_){this._onDisabledChange.push(_)}_unregisterOnDisabledChange(_){On(this._onDisabledChange,_)}_forEachChild(_){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(_){Nn(_)?(this.value=this._pendingValue=_.value,_.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=_}},qr={provide:Zt,useExisting:(0,c.Gpc)(()=>qi)},So=(()=>Promise.resolve())();let qi=(()=>{class v extends Zt{constructor(C,j,_e,dt,sn,ut){super(),this._changeDetectorRef=sn,this.callSetDisabledState=ut,this.control=new Si,this._registered=!1,this.update=new c.vpe,this._parent=C,this._setValidators(j),this._setAsyncValidators(_e),this.valueAccessor=te(0,dt)}ngOnChanges(C){if(this._checkForErrors(),!this._registered||"name"in C){if(this._registered&&(this._checkName(),this.formDirective)){const j=C.name.previousValue;this.formDirective.removeControl({name:j,path:this._getPath(j)})}this._setUpControl()}"isDisabled"in C&&this._updateDisabled(C),Nt(C,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){be(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(C){So.then(()=>{this.control.setValue(C,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(C){const j=C.isDisabled.currentValue,_e=0!==j&&(0,c.D6c)(j);So.then(()=>{_e&&!this.control.disabled?this.control.disable():!_e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(C){return this._parent?Z(C,this._parent):[C]}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(Ue,9),c.Y36(tt,10),c.Y36(Re,10),c.Y36(ue,10),c.Y36(c.sBO,8),c.Y36(V,8))},v.\u0275dir=c.lG2({type:v,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([qr]),c.qOj,c.TTD]}),v})(),Wi=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275dir=c.lG2({type:v,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),v})(),Ut=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=c.oAB({type:v}),v.\u0275inj=c.cJS({}),v})();const fi=new c.OlP("NgModelWithFormControlWarning"),Ci={provide:Zt,useExisting:(0,c.Gpc)(()=>wr)};let wr=(()=>{class v extends Zt{set isDisabled(C){}constructor(C,j,_e,dt,sn){super(),this._ngModelWarningConfig=dt,this.callSetDisabledState=sn,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(C),this._setAsyncValidators(j),this.valueAccessor=te(0,_e)}ngOnChanges(C){if(this._isControlChanged(C)){const j=C.form.previousValue;j&&st(j,this,!1),be(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Nt(C,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&st(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_isControlChanged(C){return C.hasOwnProperty("form")}}return v._ngModelWarningSentOnce=!1,v.\u0275fac=function(C){return new(C||v)(c.Y36(tt,10),c.Y36(Re,10),c.Y36(ue,10),c.Y36(fi,8),c.Y36(V,8))},v.\u0275dir=c.lG2({type:v,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([Ci]),c.qOj,c.TTD]}),v})();const yo={provide:Ue,useExisting:(0,c.Gpc)(()=>tr)};let tr=(()=>{class v extends Ue{constructor(C,j,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(C),this._setAsyncValidators(j)}ngOnChanges(C){this._checkFormPresent(),C.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(It(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(C){const j=this.form.get(C.path);return be(j,C,this.callSetDisabledState),j.updateValueAndValidity({emitEvent:!1}),this.directives.push(C),j}getControl(C){return this.form.get(C.path)}removeControl(C){st(C.control||null,C,!1),function De(v,_){const C=v.indexOf(_);C>-1&&v.splice(C,1)}(this.directives,C)}addFormGroup(C){this._setUpFormContainer(C)}removeFormGroup(C){this._cleanUpFormContainer(C)}getFormGroup(C){return this.form.get(C.path)}addFormArray(C){this._setUpFormContainer(C)}removeFormArray(C){this._cleanUpFormContainer(C)}getFormArray(C){return this.form.get(C.path)}updateModel(C,j){this.form.get(C.path).setValue(j)}onSubmit(C){return this.submitted=!0,we(this.form,this.directives),this.ngSubmit.emit(C),"dialog"===C?.target?.method}onReset(){this.resetForm()}resetForm(C){this.form.reset(C),this.submitted=!1}_updateDomValue(){this.directives.forEach(C=>{const j=C.control,_e=this.form.get(C.path);j!==_e&&(st(j||null,C),(v=>v instanceof Si)(_e)&&(be(_e,C,this.callSetDisabledState),C.control=_e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(C){const j=this.form.get(C.path);li(j,C),j.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(C){if(this.form){const j=this.form.get(C.path);j&&function zn(v,_){return It(v,_)}(j,C)&&j.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ei(this.form,this),this._oldForm&&It(this._oldForm,this)}_checkFormPresent(){}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(tt,10),c.Y36(Re,10),c.Y36(V,8))},v.\u0275dir=c.lG2({type:v,selectors:[["","formGroup",""]],hostBindings:function(C,j){1&C&&c.NdJ("submit",function(dt){return j.onSubmit(dt)})("reset",function(){return j.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([yo]),c.qOj,c.TTD]}),v})();const rs={provide:Zt,useExisting:(0,c.Gpc)(()=>Zo)};let Zo=(()=>{class v extends Zt{set isDisabled(C){}constructor(C,j,_e,dt,sn){super(),this._ngModelWarningConfig=sn,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=C,this._setValidators(j),this._setAsyncValidators(_e),this.valueAccessor=te(0,dt)}ngOnChanges(C){this._added||this._setUpControl(),Nt(C,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}get path(){return Z(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return v._ngModelWarningSentOnce=!1,v.\u0275fac=function(C){return new(C||v)(c.Y36(Ue,13),c.Y36(tt,10),c.Y36(Re,10),c.Y36(ue,10),c.Y36(fi,8))},v.\u0275dir=c.lG2({type:v,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([rs]),c.qOj,c.TTD]}),v})();const Xs={provide:ue,useExisting:(0,c.Gpc)(()=>Ao),multi:!0};function ds(v,_){return null==v?`${_}`:(_&&"object"==typeof _&&(_="Object"),`${v}: ${_}`.slice(0,50))}let Ao=(()=>{class v extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(C){this._compareWith=C}writeValue(C){this.value=C;const _e=ds(this._getOptionId(C),C);this.setProperty("value",_e)}registerOnChange(C){this.onChange=j=>{this.value=this._getOptionValue(j),C(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(C){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j),C))return j;return null}_getOptionValue(C){const j=function ma(v){return v.split(":")[0]}(C);return this._optionMap.has(j)?this._optionMap.get(j):C}}return v.\u0275fac=function(){let _;return function(j){return(_||(_=c.n5z(v)))(j||v)}}(),v.\u0275dir=c.lG2({type:v,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(C,j){1&C&&c.NdJ("change",function(dt){return j.onChange(dt.target.value)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Xs]),c.qOj]}),v})(),Qr=(()=>{class v{constructor(C,j,_e){this._element=C,this._renderer=j,this._select=_e,this._select&&(this.id=this._select._registerOption())}set ngValue(C){null!=this._select&&(this._select._optionMap.set(this.id,C),this._setElementValue(ds(this.id,C)),this._select.writeValue(this._select.value))}set value(C){this._setElementValue(C),this._select&&this._select.writeValue(this._select.value)}_setElementValue(C){this._renderer.setProperty(this._element.nativeElement,"value",C)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ao,9))},v.\u0275dir=c.lG2({type:v,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),v})();const Ia={provide:ue,useExisting:(0,c.Gpc)(()=>ps),multi:!0};function Bo(v,_){return null==v?`${_}`:("string"==typeof _&&(_=`'${_}'`),_&&"object"==typeof _&&(_="Object"),`${v}: ${_}`.slice(0,50))}let ps=(()=>{class v extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(C){this._compareWith=C}writeValue(C){let j;if(this.value=C,Array.isArray(C)){const _e=C.map(dt=>this._getOptionId(dt));j=(dt,sn)=>{dt._setSelected(_e.indexOf(sn.toString())>-1)}}else j=(_e,dt)=>{_e._setSelected(!1)};this._optionMap.forEach(j)}registerOnChange(C){this.onChange=j=>{const _e=[],dt=j.selectedOptions;if(void 0!==dt){const sn=dt;for(let ut=0;ut<sn.length;ut++){const Xn=this._getOptionValue(sn[ut].value);_e.push(Xn)}}else{const sn=j.options;for(let ut=0;ut<sn.length;ut++){const pn=sn[ut];if(pn.selected){const Xn=this._getOptionValue(pn.value);_e.push(Xn)}}}this.value=_e,C(_e)}}_registerOption(C){const j=(this._idCounter++).toString();return this._optionMap.set(j,C),j}_getOptionId(C){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j)._value,C))return j;return null}_getOptionValue(C){const j=function Ur(v){return v.split(":")[0]}(C);return this._optionMap.has(j)?this._optionMap.get(j)._value:C}}return v.\u0275fac=function(){let _;return function(j){return(_||(_=c.n5z(v)))(j||v)}}(),v.\u0275dir=c.lG2({type:v,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(C,j){1&C&&c.NdJ("change",function(dt){return j.onChange(dt.target)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ia]),c.qOj]}),v})(),Vo=(()=>{class v{constructor(C,j,_e){this._element=C,this._renderer=j,this._select=_e,this._select&&(this.id=this._select._registerOption(this))}set ngValue(C){null!=this._select&&(this._value=C,this._setElementValue(Bo(this.id,C)),this._select.writeValue(this._select.value))}set value(C){this._select?(this._value=C,this._setElementValue(Bo(this.id,C)),this._select.writeValue(this._select.value)):this._setElementValue(C)}_setElementValue(C){this._renderer.setProperty(this._element.nativeElement,"value",C)}_setSelected(C){this._renderer.setProperty(this._element.nativeElement,"selected",C)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return v.\u0275fac=function(C){return new(C||v)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ps,9))},v.\u0275dir=c.lG2({type:v,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),v})(),Ir=(()=>{class v{constructor(){this._validator=bn}ngOnChanges(C){if(this.inputName in C){const j=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(j),this._validator=this._enabled?this.createValidator(j):bn,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275dir=c.lG2({type:v,features:[c.TTD]}),v})();const ss={provide:tt,useExisting:(0,c.Gpc)(()=>po),multi:!0};let po=(()=>{class v extends Ir{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=C=>Ke}enabled(C){return C}}return v.\u0275fac=function(){let _;return function(j){return(_||(_=c.n5z(v)))(j||v)}}(),v.\u0275dir=c.lG2({type:v,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(C,j){2&C&&c.uIk("required",j._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([ss]),c.qOj]}),v})(),Hs=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=c.oAB({type:v}),v.\u0275inj=c.cJS({imports:[Ut]}),v})();class Nr extends He{constructor(_,C,j){super(ce(C),Qt(j,C)),this.controls=_,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(_){return this.controls[this._adjustIndex(_)]}push(_,C={}){this.controls.push(_),this._registerControl(_),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}insert(_,C,j={}){this.controls.splice(_,0,C),this._registerControl(C),this.updateValueAndValidity({emitEvent:j.emitEvent})}removeAt(_,C={}){let j=this._adjustIndex(_);j<0&&(j=0),this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:C.emitEvent})}setControl(_,C,j={}){let _e=this._adjustIndex(_);_e<0&&(_e=0),this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),this.controls.splice(_e,1),C&&(this.controls.splice(_e,0,C),this._registerControl(C)),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(_,C={}){Ne(this,!1,_),_.forEach((j,_e)=>{Le(this,!1,_e),this.at(_e).setValue(j,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(_,C={}){null!=_&&(_.forEach((j,_e)=>{this.at(_e)&&this.at(_e).patchValue(j,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(_=[],C={}){this._forEachChild((j,_e)=>{j.reset(_[_e],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this.controls.map(_=>_.getRawValue())}clear(_={}){this.controls.length<1||(this._forEachChild(C=>C._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:_.emitEvent}))}_adjustIndex(_){return _<0?_+this.length:_}_syncPendingControls(){let _=this.controls.reduce((C,j)=>!!j._syncPendingControls()||C,!1);return _&&this.updateValueAndValidity({onlySelf:!0}),_}_forEachChild(_){this.controls.forEach((C,j)=>{_(C,j)})}_updateValue(){this.value=this.controls.filter(_=>_.enabled||this.disabled).map(_=>_.value)}_anyControls(_){return this.controls.some(C=>C.enabled&&_(C))}_setUpControls(){this._forEachChild(_=>this._registerControl(_))}_allControlsDisabled(){for(const _ of this.controls)if(_.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(_){_.setParent(this),_._registerOnCollectionChange(this._onCollectionChange)}_find(_){return this.at(_)??null}}function mo(v){return!!v&&(void 0!==v.asyncValidators||void 0!==v.validators||void 0!==v.updateOn)}let Ho=(()=>{class v{constructor(){this.useNonNullable=!1}get nonNullable(){const C=new v;return C.useNonNullable=!0,C}group(C,j=null){const _e=this._reduceControls(C);let dt={};return mo(j)?dt=j:null!==j&&(dt.validators=j.validator,dt.asyncValidators=j.asyncValidator),new $t(_e,dt)}record(C,j=null){const _e=this._reduceControls(C);return new Qe(_e,j)}control(C,j,_e){let dt={};return this.useNonNullable?(mo(j)?dt=j:(dt.validators=j,dt.asyncValidators=_e),new Si(C,{...dt,nonNullable:!0})):new Si(C,j,_e)}array(C,j,_e){const dt=C.map(sn=>this._createControl(sn));return new Nr(dt,j,_e)}_reduceControls(C){const j={};return Object.keys(C).forEach(_e=>{j[_e]=this._createControl(C[_e])}),j}_createControl(C){return C instanceof Si||C instanceof He?C:Array.isArray(C)?this.control(C[0],C.length>1?C[1]:null,C.length>2?C[2]:null):this.control(C)}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),mi=(()=>{class v{static withConfig(C){return{ngModule:v,providers:[{provide:V,useValue:C.callSetDisabledState??k}]}}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=c.oAB({type:v}),v.\u0275inj=c.cJS({imports:[Hs]}),v})(),Qo=(()=>{class v{static withConfig(C){return{ngModule:v,providers:[{provide:fi,useValue:C.warnOnNgModelWithFormControl??"always"},{provide:V,useValue:C.callSetDisabledState??k}]}}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=c.oAB({type:v}),v.\u0275inj=c.cJS({imports:[Hs]}),v})()},9101:(_n,Ye,D)=>{D.d(Ye,{RK:()=>Tt,lW:()=>Ke,ot:()=>wt});var c=D(3353),A=D(4650),g=D(2693),fe=D(3238);const O=["mat-button",""],Te=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Oe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ae=["mat-icon-button",""],Ve=["*"],tt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Re=(0,fe.pj)((0,fe.Id)((0,fe.Kr)(class{constructor(kt){this._elementRef=kt}})));let lt=(()=>{class kt extends Re{constructor(vt,jt,an,Vt){super(vt),this._platform=jt,this._ngZone=an,this._animationMode=Vt,this._focusMonitor=(0,A.f3M)(g.tE),this._isFab=!1;const Je=vt.nativeElement.classList;for(const wn of tt)this._hasHostAttributes(wn.selector)&&wn.mdcClasses.forEach(ht=>{Je.add(ht)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(vt="program",jt){vt?this._focusMonitor.focusVia(this._elementRef.nativeElement,vt,jt):this._elementRef.nativeElement.focus(jt)}_hasHostAttributes(...vt){return vt.some(jt=>this._elementRef.nativeElement.hasAttribute(jt))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return kt.\u0275fac=function(vt){A.$Z()},kt.\u0275dir=A.lG2({type:kt,viewQuery:function(vt,jt){if(1&vt&&A.Gf(fe.wG,5),2&vt){let an;A.iGM(an=A.CRH())&&(jt.ripple=an.first)}},features:[A.qOj]}),kt})(),Ke=(()=>{class kt extends lt{constructor(vt,jt,an,Vt){super(vt,jt,an,Vt)}}return kt.\u0275fac=function(vt){return new(vt||kt)(A.Y36(A.SBq),A.Y36(c.t4),A.Y36(A.R0b),A.Y36(A.QbO,8))},kt.\u0275cmp=A.Xpm({type:kt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(vt,jt){2&vt&&(A.uIk("disabled",jt.disabled||null),A.ekj("_mat-animation-noopable","NoopAnimations"===jt._animationMode)("mat-unthemed",!jt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[A.qOj],attrs:O,ngContentSelectors:Oe,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(vt,jt){1&vt&&(A.F$t(Te),A._UZ(0,"span",0),A.Hsn(1),A.TgZ(2,"span",1),A.Hsn(3,1),A.qZA(),A.Hsn(4,2),A._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&vt&&(A.ekj("mdc-button__ripple",!jt._isFab)("mdc-fab__ripple",jt._isFab),A.xp6(6),A.Q6J("matRippleDisabled",jt._isRippleDisabled())("matRippleTrigger",jt._elementRef.nativeElement))},dependencies:[fe.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),kt})(),Tt=(()=>{class kt extends lt{constructor(vt,jt,an,Vt){super(vt,jt,an,Vt)}}return kt.\u0275fac=function(vt){return new(vt||kt)(A.Y36(A.SBq),A.Y36(c.t4),A.Y36(A.R0b),A.Y36(A.QbO,8))},kt.\u0275cmp=A.Xpm({type:kt,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(vt,jt){2&vt&&(A.uIk("disabled",jt.disabled||null),A.ekj("_mat-animation-noopable","NoopAnimations"===jt._animationMode)("mat-unthemed",!jt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[A.qOj],attrs:Ae,ngContentSelectors:Ve,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(vt,jt){1&vt&&(A.F$t(),A._UZ(0,"span",0),A.Hsn(1),A._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&vt&&(A.xp6(3),A.Q6J("matRippleDisabled",jt._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",jt._elementRef.nativeElement))},dependencies:[fe.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),kt})(),wt=(()=>{class kt{}return kt.\u0275fac=function(vt){return new(vt||kt)},kt.\u0275mod=A.oAB({type:kt}),kt.\u0275inj=A.cJS({imports:[fe.BQ,fe.si,fe.BQ]}),kt})()},3238:(_n,Ye,D)=>{D.d(Ye,{rD:()=>Vt,Y2:()=>Zn,BQ:()=>Se,wG:()=>hi,si:()=>Qn,pj:()=>Rt,Kr:()=>qe,Id:()=>_t,FD:()=>St,sb:()=>un});var c=D(4650),A=D(2693),g=D(445),O=D(6895),Te=D(3353),Oe=D(1281);const lt=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Re(){return!0}});let Se=(()=>{class Lt{constructor(z,ce,nt){this._sanityChecks=ce,this._document=nt,this._hasDoneGlobalChecks=!1,z._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(z){return!(0,Te.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[z])}}return Lt.\u0275fac=function(z){return new(z||Lt)(c.LFG(A.qm),c.LFG(lt,8),c.LFG(O.K0))},Lt.\u0275mod=c.oAB({type:Lt}),Lt.\u0275inj=c.cJS({imports:[g.vT,g.vT]}),Lt})();function _t(Lt){return class extends Lt{get disabled(){return this._disabled}set disabled(Ee){this._disabled=(0,Oe.Ig)(Ee)}constructor(...Ee){super(...Ee),this._disabled=!1}}}function Rt(Lt,Ee){return class extends Lt{get color(){return this._color}set color(z){const ce=z||this.defaultColor;ce!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ce&&this._elementRef.nativeElement.classList.add(`mat-${ce}`),this._color=ce)}constructor(...z){super(...z),this.defaultColor=Ee,this.color=Ee}}}function qe(Lt){return class extends Lt{get disableRipple(){return this._disableRipple}set disableRipple(Ee){this._disableRipple=(0,Oe.Ig)(Ee)}constructor(...Ee){super(...Ee),this._disableRipple=!1}}}function un(Lt,Ee=0){return class extends Lt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(z){this._tabIndex=null!=z?(0,Oe.su)(z):this.defaultTabIndex}constructor(...z){super(...z),this._tabIndex=Ee,this.defaultTabIndex=Ee}}}function St(Lt){return class extends Lt{updateErrorState(){const Ee=this.errorState,Qt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Qt!==Ee&&(this.errorState=Qt,this.stateChanges.next())}constructor(...Ee){super(...Ee),this.errorState=!1}}}let Vt=(()=>{class Lt{isErrorState(z,ce){return!!(z&&z.invalid&&(z.touched||ce&&ce.submitted))}}return Lt.\u0275fac=function(z){return new(z||Lt)},Lt.\u0275prov=c.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})();class Bt{constructor(Ee,z,ce,nt=!1){this._renderer=Ee,this.element=z,this.config=ce,this._animationForciblyDisabledThroughCss=nt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mn=(0,Te.i$)({passive:!0,capture:!0});class Ue{constructor(){this._events=new Map,this._delegateEventHandler=Ee=>{const z=(0,Te.sA)(Ee);z&&this._events.get(Ee.type)?.forEach((ce,nt)=>{(nt===z||nt.contains(z))&&ce.forEach(Qt=>Qt.handleEvent(Ee))})}}addHandler(Ee,z,ce,nt){const Qt=this._events.get(z);if(Qt){const Gn=Qt.get(ce);Gn?Gn.add(nt):Qt.set(ce,new Set([nt]))}else this._events.set(z,new Map([[ce,new Set([nt])]])),Ee.runOutsideAngular(()=>{document.addEventListener(z,this._delegateEventHandler,mn)})}removeHandler(Ee,z,ce){const nt=this._events.get(Ee);if(!nt)return;const Qt=nt.get(z);Qt&&(Qt.delete(ce),0===Qt.size&&nt.delete(z),0===nt.size&&(this._events.delete(Ee),document.removeEventListener(Ee,this._delegateEventHandler,mn)))}}const Zt={enterDuration:225,exitDuration:150},Ht=(0,Te.i$)({passive:!0,capture:!0}),xe=["mousedown","touchstart"],ct=["mouseup","mouseleave","touchend","touchcancel"];class bt{constructor(Ee,z,ce,nt){this._target=Ee,this._ngZone=z,this._platform=nt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,nt.isBrowser&&(this._containerElement=(0,Oe.fI)(ce))}fadeInRipple(Ee,z,ce={}){const nt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Qt={...Zt,...ce.animation};ce.centered&&(Ee=nt.left+nt.width/2,z=nt.top+nt.height/2);const Gn=ce.radius||function rn(Lt,Ee,z){const ce=Math.max(Math.abs(Lt-z.left),Math.abs(Lt-z.right)),nt=Math.max(Math.abs(Ee-z.top),Math.abs(Ee-z.bottom));return Math.sqrt(ce*ce+nt*nt)}(Ee,z,nt),gi=Ee-nt.left,Le=z-nt.top,Ne=Qt.enterDuration,He=document.createElement("div");He.classList.add("mat-ripple-element"),He.style.left=gi-Gn+"px",He.style.top=Le-Gn+"px",He.style.height=2*Gn+"px",He.style.width=2*Gn+"px",null!=ce.color&&(He.style.backgroundColor=ce.color),He.style.transitionDuration=`${Ne}ms`,this._containerElement.appendChild(He);const $t=window.getComputedStyle(He),ln=$t.transitionDuration,Qe="none"===$t.transitionProperty||"0s"===ln||"0s, 0s"===ln||0===nt.width&&0===nt.height,Q=new Bt(this,He,ce,Qe);He.style.transform="scale3d(1, 1, 1)",Q.state=0,ce.persistent||(this._mostRecentTransientRipple=Q);let V=null;return!Qe&&(Ne||Qt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(Q),Z=()=>this._destroyRipple(Q);He.addEventListener("transitionend",k),He.addEventListener("transitioncancel",Z),V={onTransitionEnd:k,onTransitionCancel:Z}}),this._activeRipples.set(Q,V),(Qe||!Ne)&&this._finishRippleTransition(Q),Q}fadeOutRipple(Ee){if(2===Ee.state||3===Ee.state)return;const z=Ee.element,ce={...Zt,...Ee.config.animation};z.style.transitionDuration=`${ce.exitDuration}ms`,z.style.opacity="0",Ee.state=2,(Ee._animationForciblyDisabledThroughCss||!ce.exitDuration)&&this._finishRippleTransition(Ee)}fadeOutAll(){this._getActiveRipples().forEach(Ee=>Ee.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ee=>{Ee.config.persistent||Ee.fadeOut()})}setupTriggerEvents(Ee){const z=(0,Oe.fI)(Ee);!this._platform.isBrowser||!z||z===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=z,xe.forEach(ce=>{bt._eventManager.addHandler(this._ngZone,ce,z,this)}))}handleEvent(Ee){"mousedown"===Ee.type?this._onMousedown(Ee):"touchstart"===Ee.type?this._onTouchStart(Ee):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ct.forEach(z=>{this._triggerElement.addEventListener(z,this,Ht)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ee){0===Ee.state?this._startFadeOutTransition(Ee):2===Ee.state&&this._destroyRipple(Ee)}_startFadeOutTransition(Ee){const z=Ee===this._mostRecentTransientRipple,{persistent:ce}=Ee.config;Ee.state=1,!ce&&(!z||!this._isPointerDown)&&Ee.fadeOut()}_destroyRipple(Ee){const z=this._activeRipples.get(Ee)??null;this._activeRipples.delete(Ee),this._activeRipples.size||(this._containerRect=null),Ee===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ee.state=3,null!==z&&(Ee.element.removeEventListener("transitionend",z.onTransitionEnd),Ee.element.removeEventListener("transitioncancel",z.onTransitionCancel)),Ee.element.remove()}_onMousedown(Ee){const z=(0,A.X6)(Ee),ce=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!z&&!ce&&(this._isPointerDown=!0,this.fadeInRipple(Ee.clientX,Ee.clientY,this._target.rippleConfig))}_onTouchStart(Ee){if(!this._target.rippleDisabled&&!(0,A.yG)(Ee)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const z=Ee.changedTouches;for(let ce=0;ce<z.length;ce++)this.fadeInRipple(z[ce].clientX,z[ce].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Ee=>{!Ee.config.persistent&&(1===Ee.state||Ee.config.terminateOnPointerUp&&0===Ee.state)&&Ee.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Ee=this._triggerElement;Ee&&(xe.forEach(z=>bt._eventManager.removeHandler(z,Ee,this)),this._pointerUpEventsRegistered&&ct.forEach(z=>Ee.removeEventListener(z,this,Ht)))}}bt._eventManager=new Ue;const Zn=new c.OlP("mat-ripple-global-options");let hi=(()=>{class Lt{get disabled(){return this._disabled}set disabled(z){z&&this.fadeOutAllNonPersistent(),this._disabled=z,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(z){this._trigger=z,this._setupTriggerEventsIfEnabled()}constructor(z,ce,nt,Qt,Gn){this._elementRef=z,this._animationMode=Gn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Qt||{},this._rippleRenderer=new bt(this,ce,z,nt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(z,ce=0,nt){return"number"==typeof z?this._rippleRenderer.fadeInRipple(z,ce,{...this.rippleConfig,...nt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...z})}}return Lt.\u0275fac=function(z){return new(z||Lt)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Te.t4),c.Y36(Zn,8),c.Y36(c.QbO,8))},Lt.\u0275dir=c.lG2({type:Lt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(z,ce){2&z&&c.ekj("mat-ripple-unbounded",ce.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Lt})(),Qn=(()=>{class Lt{}return Lt.\u0275fac=function(z){return new(z||Lt)},Lt.\u0275mod=c.oAB({type:Lt}),Lt.\u0275inj=c.cJS({imports:[Se,Se]}),Lt})()},9549:(_n,Ye,D)=>{D.d(Ye,{Eo:()=>xe,G_:()=>Zn,KE:()=>Ln,R9:()=>ht,TO:()=>vt,hX:()=>wt,lN:()=>Fi});var c=D(4650),A=D(445),g=D(3353),fe=D(7579),O=D(6451),Te=D(2722),Oe=D(6895),ue=D(1281),Ie=D(7340),ie=D(9643),ae=D(3238);const re=["matFormFieldNotchedOutline",""],Ae=["*"],Ve=["textField"],Ge=["iconPrefixContainer"],rt=["textPrefixContainer"];function Fe(Dt,Tn){1&Dt&&c._UZ(0,"span",19)}function tt(Dt,Tn){if(1&Dt){const Mt=c.EpF();c.TgZ(0,"label",17),c.NdJ("cdkObserveContent",function(){c.CHM(Mt);const $n=c.oxw(2);return c.KtG($n._refreshOutlineNotchWidth())}),c.Hsn(1,1),c.YNc(2,Fe,1,0,"span",18),c.qZA()}if(2&Dt){const Mt=c.oxw(2);c.Q6J("floating",Mt._shouldLabelFloat())("cdkObserveContentDisabled",!Mt._hasOutline())("id",Mt._labelId),c.uIk("for",Mt._control.id)("aria-owns",Mt._control.id),c.xp6(2),c.Q6J("ngIf",!Mt.hideRequiredMarker&&Mt._control.required)}}function Re(Dt,Tn){if(1&Dt&&c.YNc(0,tt,3,6,"label",16),2&Dt){const Mt=c.oxw();c.Q6J("ngIf",Mt._hasFloatingLabel())}}function lt(Dt,Tn){1&Dt&&c._UZ(0,"div",20)}function Se(Dt,Tn){}function ge(Dt,Tn){if(1&Dt&&c.YNc(0,Se,0,0,"ng-template",22),2&Dt){c.oxw(2);const Mt=c.MAs(1);c.Q6J("ngTemplateOutlet",Mt)}}function pe(Dt,Tn){if(1&Dt&&(c.TgZ(0,"div",21),c.YNc(1,ge,1,1,"ng-template",9),c.qZA()),2&Dt){const Mt=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",Mt._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",Mt._labelWidth),c.xp6(1),c.Q6J("ngIf",!Mt._forceDisplayInfixLabel())}}function Ke(Dt,Tn){1&Dt&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function _t(Dt,Tn){1&Dt&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function Rt(Dt,Tn){}function qe(Dt,Tn){if(1&Dt&&c.YNc(0,Rt,0,0,"ng-template",22),2&Dt){c.oxw();const Mt=c.MAs(1);c.Q6J("ngTemplateOutlet",Mt)}}function un(Dt,Tn){1&Dt&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function St(Dt,Tn){1&Dt&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function bn(Dt,Tn){1&Dt&&c._UZ(0,"div",29)}function yn(Dt,Tn){if(1&Dt&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&Dt){const Mt=c.oxw();c.Q6J("@transitionMessages",Mt._subscriptAnimationState)}}function ui(Dt,Tn){if(1&Dt&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&Dt){const Mt=c.oxw(2);c.Q6J("id",Mt._hintLabelId),c.xp6(1),c.Oqu(Mt.hintLabel)}}function Ft(Dt,Tn){if(1&Dt&&(c.TgZ(0,"div",31),c.YNc(1,ui,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&Dt){const Mt=c.oxw();c.Q6J("@transitionMessages",Mt._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",Mt.hintLabel)}}const Tt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Pt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let wt=(()=>{class Dt{}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)},Dt.\u0275dir=c.lG2({type:Dt,selectors:[["mat-label"]]}),Dt})(),kt=0;const gt=new c.OlP("MatError");let vt=(()=>{class Dt{constructor(Mt,zt){this.id="mat-mdc-error-"+kt++,Mt||zt.nativeElement.setAttribute("aria-live","polite")}}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)(c.$8M("aria-live"),c.Y36(c.SBq))},Dt.\u0275dir=c.lG2({type:Dt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Mt,zt){2&Mt&&c.Ikx("id",zt.id)},inputs:{id:"id"},features:[c._Bn([{provide:gt,useExisting:Dt}])]}),Dt})(),jt=0,an=(()=>{class Dt{constructor(){this.align="start",this.id="mat-mdc-hint-"+jt++}}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)},Dt.\u0275dir=c.lG2({type:Dt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Mt,zt){2&Mt&&(c.Ikx("id",zt.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===zt.align))},inputs:{align:"align",id:"id"}}),Dt})();const Vt=new c.OlP("MatPrefix"),wn=new c.OlP("MatSuffix");let ht=(()=>{class Dt{constructor(){this._isText=!1}set _isTextSelector(Mt){this._isText=!0}}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)},Dt.\u0275dir=c.lG2({type:Dt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:wn,useExisting:Dt}])]}),Dt})(),En=(()=>{class Dt{constructor(Mt){this._elementRef=Mt,this.floating=!1}getWidth(){return function Bt(Dt){if(null!==Dt.offsetParent)return Dt.scrollWidth;const Mt=Dt.cloneNode(!0);Mt.style.setProperty("position","absolute"),Mt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Mt);const zt=Mt.scrollWidth;return Mt.remove(),zt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)(c.Y36(c.SBq))},Dt.\u0275dir=c.lG2({type:Dt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Mt,zt){2&Mt&&c.ekj("mdc-floating-label--float-above",zt.floating)},inputs:{floating:"floating"}}),Dt})();const mn="mdc-line-ripple--active",Ue="mdc-line-ripple--deactivating";let Zt=(()=>{class Dt{constructor(Mt,zt){this._elementRef=Mt,this._handleTransitionEnd=$n=>{const Rn=this._elementRef.nativeElement.classList,Mi=Rn.contains(Ue);"opacity"===$n.propertyName&&Mi&&Rn.remove(mn,Ue)},zt.runOutsideAngular(()=>{Mt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Mt=this._elementRef.nativeElement.classList;Mt.remove(Ue),Mt.add(mn)}deactivate(){this._elementRef.nativeElement.classList.add(Ue)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)(c.Y36(c.SBq),c.Y36(c.R0b))},Dt.\u0275dir=c.lG2({type:Dt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),Dt})(),yt=(()=>{class Dt{constructor(Mt,zt){this._elementRef=Mt,this._ngZone=zt,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const Mt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Mt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Mt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Mt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)(c.Y36(c.SBq),c.Y36(c.R0b))},Dt.\u0275cmp=c.Xpm({type:Dt,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Mt,zt){2&Mt&&c.ekj("mdc-notched-outline--notched",zt.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:re,ngContentSelectors:Ae,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(Mt,zt){1&Mt&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&Mt&&(c.xp6(1),c.Udp("width",zt._getNotchWidth()))},encapsulation:2,changeDetection:0}),Dt})();const Ht={transitionMessages:(0,Ie.X$)("transitionMessages",[(0,Ie.SB)("enter",(0,Ie.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ie.eR)("void => enter",[(0,Ie.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ie.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xe=(()=>{class Dt{}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)},Dt.\u0275dir=c.lG2({type:Dt}),Dt})();const Zn=new c.OlP("MatFormField"),hi=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Qn=0,Ln=(()=>{class Dt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Mt){this._hideRequiredMarker=(0,ue.Ig)(Mt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Mt){Mt!==this._floatLabel&&(this._floatLabel=Mt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Mt){const zt=this._appearance;this._appearance=Mt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==zt&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Mt){this._subscriptSizing=Mt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Mt){this._hintLabel=Mt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Mt){this._explicitFormFieldControl=Mt}constructor(Mt,zt,$n,Rn,Mi,kn,ti,Lt){this._elementRef=Mt,this._changeDetectorRef=zt,this._ngZone=$n,this._dir=Rn,this._platform=Mi,this._defaults=kn,this._animationMode=ti,this._document=Lt,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Qn++,this._hintLabelId="mat-mdc-hint-"+Qn++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new fe.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,kn&&(kn.appearance&&(this.appearance=kn.appearance),this._hideRequiredMarker=Boolean(kn?.hideRequiredMarker),kn.color&&(this.color=kn.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const Mt=this._control;Mt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${Mt.controlType}`),Mt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Mt.ngControl&&Mt.ngControl.valueChanges&&Mt.ngControl.valueChanges.pipe((0,Te.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Mt=>!Mt._isText),this._hasTextPrefix=!!this._prefixChildren.find(Mt=>Mt._isText),this._hasIconSuffix=!!this._suffixChildren.find(Mt=>!Mt._isText),this._hasTextSuffix=!!this._suffixChildren.find(Mt=>Mt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,O.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Te.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Te.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(Mt){const zt=this._control?this._control.ngControl:null;return zt&&zt[Mt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Mt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Mt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const zt=this._hintChildren?this._hintChildren.find(Rn=>"start"===Rn.align):null,$n=this._hintChildren?this._hintChildren.find(Rn=>"end"===Rn.align):null;zt?Mt.push(zt.id):this._hintLabel&&Mt.push(this._hintLabelId),$n&&Mt.push($n.id)}else this._errorChildren&&Mt.push(...this._errorChildren.map(zt=>zt.id));this._control.setDescribedByIds(Mt)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const Mt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Mt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const zt=this._iconPrefixContainer?.nativeElement,$n=this._textPrefixContainer?.nativeElement,Rn=zt?.getBoundingClientRect().width??0,Mi=$n?.getBoundingClientRect().width??0;Mt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Rn+Mi}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Mt=this._elementRef.nativeElement;if(Mt.getRootNode){const zt=Mt.getRootNode();return zt&&zt!==Mt}return document.documentElement.contains(Mt)}}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(A.Is),c.Y36(g.t4),c.Y36(hi,8),c.Y36(c.QbO,8),c.Y36(Oe.K0))},Dt.\u0275cmp=c.Xpm({type:Dt,selectors:[["mat-form-field"]],contentQueries:function(Mt,zt,$n){if(1&Mt&&(c.Suo($n,wt,5),c.Suo($n,wt,7),c.Suo($n,xe,5),c.Suo($n,Vt,5),c.Suo($n,wn,5),c.Suo($n,gt,5),c.Suo($n,an,5)),2&Mt){let Rn;c.iGM(Rn=c.CRH())&&(zt._labelChildNonStatic=Rn.first),c.iGM(Rn=c.CRH())&&(zt._labelChildStatic=Rn.first),c.iGM(Rn=c.CRH())&&(zt._formFieldControl=Rn.first),c.iGM(Rn=c.CRH())&&(zt._prefixChildren=Rn),c.iGM(Rn=c.CRH())&&(zt._suffixChildren=Rn),c.iGM(Rn=c.CRH())&&(zt._errorChildren=Rn),c.iGM(Rn=c.CRH())&&(zt._hintChildren=Rn)}},viewQuery:function(Mt,zt){if(1&Mt&&(c.Gf(Ve,5),c.Gf(Ge,5),c.Gf(rt,5),c.Gf(En,5),c.Gf(yt,5),c.Gf(Zt,5)),2&Mt){let $n;c.iGM($n=c.CRH())&&(zt._textField=$n.first),c.iGM($n=c.CRH())&&(zt._iconPrefixContainer=$n.first),c.iGM($n=c.CRH())&&(zt._textPrefixContainer=$n.first),c.iGM($n=c.CRH())&&(zt._floatingLabel=$n.first),c.iGM($n=c.CRH())&&(zt._notchedOutline=$n.first),c.iGM($n=c.CRH())&&(zt._lineRipple=$n.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Mt,zt){2&Mt&&c.ekj("mat-mdc-form-field-label-always-float",zt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",zt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",zt._hasIconSuffix)("mat-form-field-invalid",zt._control.errorState)("mat-form-field-disabled",zt._control.disabled)("mat-form-field-autofilled",zt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===zt._animationMode)("mat-form-field-appearance-fill","fill"==zt.appearance)("mat-form-field-appearance-outline","outline"==zt.appearance)("mat-form-field-hide-placeholder",zt._hasFloatingLabel()&&!zt._shouldLabelFloat())("mat-focused",zt._control.focused)("mat-primary","accent"!==zt.color&&"warn"!==zt.color)("mat-accent","accent"===zt.color)("mat-warn","warn"===zt.color)("ng-untouched",zt._shouldForward("untouched"))("ng-touched",zt._shouldForward("touched"))("ng-pristine",zt._shouldForward("pristine"))("ng-dirty",zt._shouldForward("dirty"))("ng-valid",zt._shouldForward("valid"))("ng-invalid",zt._shouldForward("invalid"))("ng-pending",zt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:Zn,useExisting:Dt}])],ngContentSelectors:Pt,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(Mt,zt){1&Mt&&(c.F$t(Tt),c.YNc(0,Re,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(Rn){return zt._control.onContainerClick&&zt._control.onContainerClick(Rn)}),c.YNc(4,lt,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,pe,2,3,"div",5),c.YNc(7,Ke,3,0,"div",6),c.YNc(8,_t,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,qe,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,un,2,0,"div",10),c.YNc(13,St,2,0,"div",11),c.qZA(),c.YNc(14,bn,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,yn,2,1,"div",14),c.YNc(17,Ft,5,2,"div",15),c.qZA()),2&Mt&&(c.xp6(2),c.ekj("mdc-text-field--filled",!zt._hasOutline())("mdc-text-field--outlined",zt._hasOutline())("mdc-text-field--no-label",!zt._hasFloatingLabel())("mdc-text-field--disabled",zt._control.disabled)("mdc-text-field--invalid",zt._control.errorState),c.xp6(2),c.Q6J("ngIf",!zt._hasOutline()&&!zt._control.disabled),c.xp6(2),c.Q6J("ngIf",zt._hasOutline()),c.xp6(1),c.Q6J("ngIf",zt._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",zt._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!zt._hasOutline()||zt._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",zt._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",zt._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!zt._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===zt.subscriptSizing),c.Q6J("ngSwitch",zt._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[Oe.O5,Oe.tP,Oe.RF,Oe.n9,ie.wD,an,En,yt,Zt],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Ht.transitionMessages]},changeDetection:0}),Dt})(),Fi=(()=>{class Dt{}return Dt.\u0275fac=function(Mt){return new(Mt||Dt)},Dt.\u0275mod=c.oAB({type:Dt}),Dt.\u0275inj=c.cJS({imports:[ae.BQ,Oe.ez,ie.Q8,ae.BQ]}),Dt})()},3336:(_n,Ye,D)=>{D.d(Ye,{Hw:()=>ot,Ps:()=>Nt});var c=D(4650),A=D(3238),g=D(1281),fe=D(6895),O=D(9646),Te=D(2843),Oe=D(4128),ue=D(727),Ie=D(8505),ie=D(4004),ae=D(262),re=D(8746),Ae=D(3099),Ve=D(5698),Ge=D(4351),rt=D(9300);class Fe{}class Re{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?this.lazyInit="string"==typeof we?()=>{this.headers=new Map,we.split("\n").forEach(te=>{const De=te.indexOf(":");if(De>0){const et=te.slice(0,De),Wt=et.toLowerCase(),on=te.slice(De+1).trim();this.maybeSetNormalizedName(et,Wt),this.headers.has(Wt)?this.headers.get(Wt).push(on):this.headers.set(Wt,[on])}})}:()=>{this.headers=new Map,Object.entries(we).forEach(([te,De])=>{let et;if(et="string"==typeof De?[De]:"number"==typeof De?[De.toString()]:De.map(Wt=>Wt.toString()),et.length>0){const Wt=te.toLowerCase();this.headers.set(Wt,et),this.maybeSetNormalizedName(te,Wt)}})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const te=this.headers.get(we.toLowerCase());return te&&te.length>0?te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,te){return this.clone({name:we,value:te,op:"a"})}set(we,te){return this.clone({name:we,value:te,op:"s"})}delete(we,te){return this.clone({name:we,value:te,op:"d"})}maybeSetNormalizedName(we,te){this.normalizedNames.has(te)||this.normalizedNames.set(te,we)}init(){this.lazyInit&&(this.lazyInit instanceof Re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(te=>{this.headers.set(te,we.headers.get(te)),this.normalizedNames.set(te,we.normalizedNames.get(te))})}clone(we){const te=new Re;return te.lazyInit=this.lazyInit&&this.lazyInit instanceof Re?this.lazyInit:this,te.lazyUpdate=(this.lazyUpdate||[]).concat([we]),te}applyUpdate(we){const te=we.name.toLowerCase();switch(we.op){case"a":case"s":let De=we.value;if("string"==typeof De&&(De=[De]),0===De.length)return;this.maybeSetNormalizedName(we.name,te);const et=("a"===we.op?this.headers.get(te):void 0)||[];et.push(...De),this.headers.set(te,et);break;case"d":const Wt=we.value;if(Wt){let on=this.headers.get(te);if(!on)return;on=on.filter(Cn=>-1===Wt.indexOf(Cn)),0===on.length?(this.headers.delete(te),this.normalizedNames.delete(te)):this.headers.set(te,on)}else this.headers.delete(te),this.normalizedNames.delete(te)}}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(te=>we(this.normalizedNames.get(te),this.headers.get(te)))}}class Se{encodeKey(we){return _t(we)}encodeValue(we){return _t(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const pe=/%(\d[a-f0-9])/gi,Ke={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(ze){return encodeURIComponent(ze).replace(pe,(we,te)=>Ke[te]??we)}function Rt(ze){return`${ze}`}class qe{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new Se,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ge(ze,we){const te=new Map;return ze.length>0&&ze.replace(/^\?/,"").split("&").forEach(et=>{const Wt=et.indexOf("="),[on,Cn]=-1==Wt?[we.decodeKey(et),""]:[we.decodeKey(et.slice(0,Wt)),we.decodeValue(et.slice(Wt+1))],On=te.get(on)||[];On.push(Cn),te.set(on,On)}),te}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(te=>{const De=we.fromObject[te],et=Array.isArray(De)?De.map(Rt):[Rt(De)];this.map.set(te,et)})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const te=this.map.get(we);return te?te[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,te){return this.clone({param:we,value:te,op:"a"})}appendAll(we){const te=[];return Object.keys(we).forEach(De=>{const et=we[De];Array.isArray(et)?et.forEach(Wt=>{te.push({param:De,value:Wt,op:"a"})}):te.push({param:De,value:et,op:"a"})}),this.clone(te)}set(we,te){return this.clone({param:we,value:te,op:"s"})}delete(we,te){return this.clone({param:we,value:te,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const te=this.encoder.encodeKey(we);return this.map.get(we).map(De=>te+"="+this.encoder.encodeValue(De)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const te=new qe({encoder:this.encoder});return te.cloneFrom=this.cloneFrom||this,te.updates=(this.updates||[]).concat(we),te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const te=("a"===we.op?this.map.get(we.param):void 0)||[];te.push(Rt(we.value)),this.map.set(we.param,te);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let De=this.map.get(we.param)||[];const et=De.indexOf(Rt(we.value));-1!==et&&De.splice(et,1),De.length>0?this.map.set(we.param,De):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class St{constructor(){this.map=new Map}set(we,te){return this.map.set(we,te),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function yn(ze){return typeof ArrayBuffer<"u"&&ze instanceof ArrayBuffer}function ui(ze){return typeof Blob<"u"&&ze instanceof Blob}function Ft(ze){return typeof FormData<"u"&&ze instanceof FormData}class Pt{constructor(we,te,De,et){let Wt;if(this.url=te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function bn(ze){switch(ze){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||et?(this.body=void 0!==De?De:null,Wt=et):Wt=De,Wt&&(this.reportProgress=!!Wt.reportProgress,this.withCredentials=!!Wt.withCredentials,Wt.responseType&&(this.responseType=Wt.responseType),Wt.headers&&(this.headers=Wt.headers),Wt.context&&(this.context=Wt.context),Wt.params&&(this.params=Wt.params)),this.headers||(this.headers=new Re),this.context||(this.context=new St),this.params){const on=this.params.toString();if(0===on.length)this.urlWithParams=te;else{const Cn=te.indexOf("?");this.urlWithParams=te+(-1===Cn?"?":Cn<te.length-1?"&":"")+on}}else this.params=new qe,this.urlWithParams=te}serializeBody(){return null===this.body?null:yn(this.body)||ui(this.body)||Ft(this.body)||function Tt(ze){return typeof URLSearchParams<"u"&&ze instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ft(this.body)?null:ui(this.body)?this.body.type||null:yn(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){const te=we.method||this.method,De=we.url||this.url,et=we.responseType||this.responseType,Wt=void 0!==we.body?we.body:this.body,on=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,Cn=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let On=we.headers||this.headers,Nn=we.params||this.params;const Si=we.context??this.context;return void 0!==we.setHeaders&&(On=Object.keys(we.setHeaders).reduce((Er,Yn)=>Er.set(Yn,we.setHeaders[Yn]),On)),we.setParams&&(Nn=Object.keys(we.setParams).reduce((Er,Yn)=>Er.set(Yn,we.setParams[Yn]),Nn)),new Pt(te,De,Wt,{params:Nn,headers:On,context:Si,reportProgress:Cn,responseType:et,withCredentials:on})}}var wt=(()=>((wt=wt||{})[wt.Sent=0]="Sent",wt[wt.UploadProgress=1]="UploadProgress",wt[wt.ResponseHeader=2]="ResponseHeader",wt[wt.DownloadProgress=3]="DownloadProgress",wt[wt.Response=4]="Response",wt[wt.User=5]="User",wt))();class kt{constructor(we,te=200,De="OK"){this.headers=we.headers||new Re,this.status=void 0!==we.status?we.status:te,this.statusText=we.statusText||De,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class vt extends kt{constructor(we={}){super(we),this.type=wt.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new vt({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}function an(ze,we){return{body:we,headers:ze.headers,context:ze.context,observe:ze.observe,params:ze.params,reportProgress:ze.reportProgress,responseType:ze.responseType,withCredentials:ze.withCredentials}}let Vt=(()=>{class ze{constructor(te){this.handler=te}request(te,De,et={}){let Wt;if(te instanceof Pt)Wt=te;else{let On,Nn;On=et.headers instanceof Re?et.headers:new Re(et.headers),et.params&&(Nn=et.params instanceof qe?et.params:new qe({fromObject:et.params})),Wt=new Pt(te,De,void 0!==et.body?et.body:null,{headers:On,context:et.context,params:Nn,reportProgress:et.reportProgress,responseType:et.responseType||"json",withCredentials:et.withCredentials})}const on=(0,O.of)(Wt).pipe((0,Ge.b)(On=>this.handler.handle(On)));if(te instanceof Pt||"events"===et.observe)return on;const Cn=on.pipe((0,rt.h)(On=>On instanceof vt));switch(et.observe||"body"){case"body":switch(Wt.responseType){case"arraybuffer":return Cn.pipe((0,ie.U)(On=>{if(null!==On.body&&!(On.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return On.body}));case"blob":return Cn.pipe((0,ie.U)(On=>{if(null!==On.body&&!(On.body instanceof Blob))throw new Error("Response is not a Blob.");return On.body}));case"text":return Cn.pipe((0,ie.U)(On=>{if(null!==On.body&&"string"!=typeof On.body)throw new Error("Response is not a string.");return On.body}));default:return Cn.pipe((0,ie.U)(On=>On.body))}case"response":return Cn;default:throw new Error(`Unreachable: unhandled observe type ${et.observe}}`)}}delete(te,De={}){return this.request("DELETE",te,De)}get(te,De={}){return this.request("GET",te,De)}head(te,De={}){return this.request("HEAD",te,De)}jsonp(te,De){return this.request("JSONP",te,{params:(new qe).append(De,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(te,De={}){return this.request("OPTIONS",te,De)}patch(te,De,et={}){return this.request("PATCH",te,an(et,De))}post(te,De,et={}){return this.request("POST",te,an(et,De))}put(te,De,et={}){return this.request("PUT",te,an(et,De))}}return ze.\u0275fac=function(te){return new(te||ze)(c.LFG(Fe))},ze.\u0275prov=c.Yz7({token:ze,factory:ze.\u0275fac}),ze})();var Et=D(1481);const ln=["*"];let Qe;function V(ze){return function Q(){if(void 0===Qe&&(Qe=null,typeof window<"u")){const ze=window;void 0!==ze.trustedTypes&&(Qe=ze.trustedTypes.createPolicy("angular#components",{createHTML:we=>we}))}return Qe}()?.createHTML(ze)||ze}function k(ze){return Error(`Unable to find icon with the name "${ze}"`)}function be(ze){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${ze}".`)}function st(ze){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${ze}".`)}class tn{constructor(we,te,De){this.url=we,this.svgText=te,this.options=De}}let In=(()=>{class ze{constructor(te,De,et,Wt){this._httpClient=te,this._sanitizer=De,this._errorHandler=Wt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=et}addSvgIcon(te,De,et){return this.addSvgIconInNamespace("",te,De,et)}addSvgIconLiteral(te,De,et){return this.addSvgIconLiteralInNamespace("",te,De,et)}addSvgIconInNamespace(te,De,et,Wt){return this._addSvgIconConfig(te,De,new tn(et,null,Wt))}addSvgIconResolver(te){return this._resolvers.push(te),this}addSvgIconLiteralInNamespace(te,De,et,Wt){const on=this._sanitizer.sanitize(c.q3G.HTML,et);if(!on)throw st(et);const Cn=V(on);return this._addSvgIconConfig(te,De,new tn("",Cn,Wt))}addSvgIconSet(te,De){return this.addSvgIconSetInNamespace("",te,De)}addSvgIconSetLiteral(te,De){return this.addSvgIconSetLiteralInNamespace("",te,De)}addSvgIconSetInNamespace(te,De,et){return this._addSvgIconSetConfig(te,new tn(De,null,et))}addSvgIconSetLiteralInNamespace(te,De,et){const Wt=this._sanitizer.sanitize(c.q3G.HTML,De);if(!Wt)throw st(De);const on=V(Wt);return this._addSvgIconSetConfig(te,new tn("",on,et))}registerFontClassAlias(te,De=te){return this._fontCssClassesByAlias.set(te,De),this}classNameForFontAlias(te){return this._fontCssClassesByAlias.get(te)||te}setDefaultFontSetClass(...te){return this._defaultFontSetClass=te,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(te){const De=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,te);if(!De)throw be(te);const et=this._cachedIconsByUrl.get(De);return et?(0,O.of)(Ot(et)):this._loadSvgIconFromConfig(new tn(te,null)).pipe((0,Ie.b)(Wt=>this._cachedIconsByUrl.set(De,Wt)),(0,ie.U)(Wt=>Ot(Wt)))}getNamedSvgIcon(te,De=""){const et=dn(De,te);let Wt=this._svgIconConfigs.get(et);if(Wt)return this._getSvgFromConfig(Wt);if(Wt=this._getIconConfigFromResolvers(De,te),Wt)return this._svgIconConfigs.set(et,Wt),this._getSvgFromConfig(Wt);const on=this._iconSetConfigs.get(De);return on?this._getSvgFromIconSetConfigs(te,on):(0,Te._)(k(et))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(te){return te.svgText?(0,O.of)(Ot(this._svgElementFromConfig(te))):this._loadSvgIconFromConfig(te).pipe((0,ie.U)(De=>Ot(De)))}_getSvgFromIconSetConfigs(te,De){const et=this._extractIconWithNameFromAnySet(te,De);if(et)return(0,O.of)(et);const Wt=De.filter(on=>!on.svgText).map(on=>this._loadSvgIconSetFromConfig(on).pipe((0,ae.K)(Cn=>{const Nn=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,on.url)} failed: ${Cn.message}`;return this._errorHandler.handleError(new Error(Nn)),(0,O.of)(null)})));return(0,Oe.D)(Wt).pipe((0,ie.U)(()=>{const on=this._extractIconWithNameFromAnySet(te,De);if(!on)throw k(te);return on}))}_extractIconWithNameFromAnySet(te,De){for(let et=De.length-1;et>=0;et--){const Wt=De[et];if(Wt.svgText&&Wt.svgText.toString().indexOf(te)>-1){const on=this._svgElementFromConfig(Wt),Cn=this._extractSvgIconFromSet(on,te,Wt.options);if(Cn)return Cn}}return null}_loadSvgIconFromConfig(te){return this._fetchIcon(te).pipe((0,Ie.b)(De=>te.svgText=De),(0,ie.U)(()=>this._svgElementFromConfig(te)))}_loadSvgIconSetFromConfig(te){return te.svgText?(0,O.of)(null):this._fetchIcon(te).pipe((0,Ie.b)(De=>te.svgText=De))}_extractSvgIconFromSet(te,De,et){const Wt=te.querySelector(`[id="${De}"]`);if(!Wt)return null;const on=Wt.cloneNode(!0);if(on.removeAttribute("id"),"svg"===on.nodeName.toLowerCase())return this._setSvgAttributes(on,et);if("symbol"===on.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(on),et);const Cn=this._svgElementFromString(V("<svg></svg>"));return Cn.appendChild(on),this._setSvgAttributes(Cn,et)}_svgElementFromString(te){const De=this._document.createElement("DIV");De.innerHTML=te;const et=De.querySelector("svg");if(!et)throw Error("<svg> tag not found");return et}_toSvgElement(te){const De=this._svgElementFromString(V("<svg></svg>")),et=te.attributes;for(let Wt=0;Wt<et.length;Wt++){const{name:on,value:Cn}=et[Wt];"id"!==on&&De.setAttribute(on,Cn)}for(let Wt=0;Wt<te.childNodes.length;Wt++)te.childNodes[Wt].nodeType===this._document.ELEMENT_NODE&&De.appendChild(te.childNodes[Wt].cloneNode(!0));return De}_setSvgAttributes(te,De){return te.setAttribute("fit",""),te.setAttribute("height","100%"),te.setAttribute("width","100%"),te.setAttribute("preserveAspectRatio","xMidYMid meet"),te.setAttribute("focusable","false"),De&&De.viewBox&&te.setAttribute("viewBox",De.viewBox),te}_fetchIcon(te){const{url:De,options:et}=te,Wt=et?.withCredentials??!1;if(!this._httpClient)throw function Z(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==De)throw Error(`Cannot fetch icon from URL "${De}".`);const on=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,De);if(!on)throw be(De);const Cn=this._inProgressUrlFetches.get(on);if(Cn)return Cn;const On=this._httpClient.get(on,{responseType:"text",withCredentials:Wt}).pipe((0,ie.U)(Nn=>V(Nn)),(0,re.x)(()=>this._inProgressUrlFetches.delete(on)),(0,Ae.B)());return this._inProgressUrlFetches.set(on,On),On}_addSvgIconConfig(te,De,et){return this._svgIconConfigs.set(dn(te,De),et),this}_addSvgIconSetConfig(te,De){const et=this._iconSetConfigs.get(te);return et?et.push(De):this._iconSetConfigs.set(te,[De]),this}_svgElementFromConfig(te){if(!te.svgElement){const De=this._svgElementFromString(te.svgText);this._setSvgAttributes(De,te.options),te.svgElement=De}return te.svgElement}_getIconConfigFromResolvers(te,De){for(let et=0;et<this._resolvers.length;et++){const Wt=this._resolvers[et](De,te);if(Wt)return Mn(Wt)?new tn(Wt.url,null,Wt.options):new tn(Wt,null)}}}return ze.\u0275fac=function(te){return new(te||ze)(c.LFG(Vt,8),c.LFG(Et.H7),c.LFG(fe.K0,8),c.LFG(c.qLn))},ze.\u0275prov=c.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})();function Ot(ze){return ze.cloneNode(!0)}function dn(ze,we){return ze+":"+we}function Mn(ze){return!(!ze.url||!ze.options)}const Wn=(0,A.pj)(class{constructor(ze){this._elementRef=ze}}),li=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),zn=new c.OlP("mat-icon-location",{providedIn:"root",factory:function ft(){const ze=(0,c.f3M)(fe.K0),we=ze?ze.location:null;return{getPathname:()=>we?we.pathname+we.search:""}}}),oe=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ee=oe.map(ze=>`[${ze}]`).join(", "),Ce=/^url\(['"]?#(.*?)['"]?\)$/;let ot=(()=>{class ze extends Wn{get inline(){return this._inline}set inline(te){this._inline=(0,g.Ig)(te)}get svgIcon(){return this._svgIcon}set svgIcon(te){te!==this._svgIcon&&(te?this._updateSvgIcon(te):this._svgIcon&&this._clearSvgElement(),this._svgIcon=te)}get fontSet(){return this._fontSet}set fontSet(te){const De=this._cleanupFontValue(te);De!==this._fontSet&&(this._fontSet=De,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(te){const De=this._cleanupFontValue(te);De!==this._fontIcon&&(this._fontIcon=De,this._updateFontIconClasses())}constructor(te,De,et,Wt,on,Cn){super(te),this._iconRegistry=De,this._location=Wt,this._errorHandler=on,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ue.w0.EMPTY,Cn&&(Cn.color&&(this.color=this.defaultColor=Cn.color),Cn.fontSet&&(this.fontSet=Cn.fontSet)),et||te.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(te){if(!te)return["",""];const De=te.split(":");switch(De.length){case 1:return["",De[0]];case 2:return De;default:throw Error(`Invalid icon name: "${te}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const te=this._elementsWithExternalReferences;if(te&&te.size){const De=this._location.getPathname();De!==this._previousPath&&(this._previousPath=De,this._prependPathToReferences(De))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(te){this._clearSvgElement();const De=this._location.getPathname();this._previousPath=De,this._cacheChildrenWithExternalReferences(te),this._prependPathToReferences(De),this._elementRef.nativeElement.appendChild(te)}_clearSvgElement(){const te=this._elementRef.nativeElement;let De=te.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();De--;){const et=te.childNodes[De];(1!==et.nodeType||"svg"===et.nodeName.toLowerCase())&&et.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const te=this._elementRef.nativeElement,De=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(et=>et.length>0);this._previousFontSetClass.forEach(et=>te.classList.remove(et)),De.forEach(et=>te.classList.add(et)),this._previousFontSetClass=De,this.fontIcon!==this._previousFontIconClass&&!De.includes("mat-ligature-font")&&(this._previousFontIconClass&&te.classList.remove(this._previousFontIconClass),this.fontIcon&&te.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(te){return"string"==typeof te?te.trim().split(" ")[0]:te}_prependPathToReferences(te){const De=this._elementsWithExternalReferences;De&&De.forEach((et,Wt)=>{et.forEach(on=>{Wt.setAttribute(on.name,`url('${te}#${on.value}')`)})})}_cacheChildrenWithExternalReferences(te){const De=te.querySelectorAll(ee),et=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Wt=0;Wt<De.length;Wt++)oe.forEach(on=>{const Cn=De[Wt],On=Cn.getAttribute(on),Nn=On?On.match(Ce):null;if(Nn){let Si=et.get(Cn);Si||(Si=[],et.set(Cn,Si)),Si.push({name:on,value:Nn[1]})}})}_updateSvgIcon(te){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),te){const[De,et]=this._splitIconName(te);De&&(this._svgNamespace=De),et&&(this._svgName=et),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(et,De).pipe((0,Ve.q)(1)).subscribe(Wt=>this._setSvgElement(Wt),Wt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${De}:${et}! ${Wt.message}`))})}}}return ze.\u0275fac=function(te){return new(te||ze)(c.Y36(c.SBq),c.Y36(In),c.$8M("aria-hidden"),c.Y36(zn),c.Y36(c.qLn),c.Y36(li,8))},ze.\u0275cmp=c.Xpm({type:ze,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(te,De){2&te&&(c.uIk("data-mat-icon-type",De._usingFontIcon()?"font":"svg")("data-mat-icon-name",De._svgName||De.fontIcon)("data-mat-icon-namespace",De._svgNamespace||De.fontSet)("fontIcon",De._usingFontIcon()?De.fontIcon:null),c.ekj("mat-icon-inline",De.inline)("mat-icon-no-color","primary"!==De.color&&"accent"!==De.color&&"warn"!==De.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:ln,decls:1,vars:0,template:function(te,De){1&te&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),ze})(),Nt=(()=>{class ze{}return ze.\u0275fac=function(te){return new(te||ze)},ze.\u0275mod=c.oAB({type:ze}),ze.\u0275inj=c.cJS({imports:[A.BQ,A.BQ]}),ze})()},4144:(_n,Ye,D)=>{D.d(Ye,{Nt:()=>Re,c:()=>lt});var c=D(1281),A=D(3353),g=D(4650),fe=D(515),O=D(7579);const Te=(0,A.i$)({passive:!0});let Oe=(()=>{class Se{constructor(pe,Ke){this._platform=pe,this._ngZone=Ke,this._monitoredElements=new Map}monitor(pe){if(!this._platform.isBrowser)return fe.E;const Ke=(0,c.fI)(pe),_t=this._monitoredElements.get(Ke);if(_t)return _t.subject;const Rt=new O.x,qe="cdk-text-field-autofilled",un=St=>{"cdk-text-field-autofill-start"!==St.animationName||Ke.classList.contains(qe)?"cdk-text-field-autofill-end"===St.animationName&&Ke.classList.contains(qe)&&(Ke.classList.remove(qe),this._ngZone.run(()=>Rt.next({target:St.target,isAutofilled:!1}))):(Ke.classList.add(qe),this._ngZone.run(()=>Rt.next({target:St.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Ke.addEventListener("animationstart",un,Te),Ke.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Ke,{subject:Rt,unlisten:()=>{Ke.removeEventListener("animationstart",un,Te)}}),Rt}stopMonitoring(pe){const Ke=(0,c.fI)(pe),_t=this._monitoredElements.get(Ke);_t&&(_t.unlisten(),_t.subject.complete(),Ke.classList.remove("cdk-text-field-autofill-monitored"),Ke.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Ke))}ngOnDestroy(){this._monitoredElements.forEach((pe,Ke)=>this.stopMonitoring(Ke))}}return Se.\u0275fac=function(pe){return new(pe||Se)(g.LFG(A.t4),g.LFG(g.R0b))},Se.\u0275prov=g.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),ie=(()=>{class Se{}return Se.\u0275fac=function(pe){return new(pe||Se)},Se.\u0275mod=g.oAB({type:Se}),Se.\u0275inj=g.cJS({}),Se})();var ae=D(4006),re=D(3238),Ae=D(9549);const Ge=new g.OlP("MAT_INPUT_VALUE_ACCESSOR"),rt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Fe=0;const tt=(0,re.FD)(class{constructor(Se,ge,pe,Ke){this._defaultErrorStateMatcher=Se,this._parentForm=ge,this._parentFormGroup=pe,this.ngControl=Ke,this.stateChanges=new O.x}});let Re=(()=>{class Se extends tt{get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,c.Ig)(pe),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(pe){this._id=pe||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ae.kI.required)??!1}set required(pe){this._required=(0,c.Ig)(pe)}get type(){return this._type}set type(pe){this._type=pe||"text",this._validateType(),!this._isTextarea&&(0,A.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(pe){pe!==this.value&&(this._inputValueAccessor.value=pe,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(pe){this._readonly=(0,c.Ig)(pe)}constructor(pe,Ke,_t,Rt,qe,un,St,bn,yn,ui){super(un,Rt,qe,_t),this._elementRef=pe,this._platform=Ke,this._autofillMonitor=bn,this._formField=ui,this._uid="mat-input-"+Fe++,this.focused=!1,this.stateChanges=new O.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Pt=>(0,A.qK)().has(Pt)),this._iOSKeyupListener=Pt=>{const wt=Pt.target;!wt.value&&0===wt.selectionStart&&0===wt.selectionEnd&&(wt.setSelectionRange(1,1),wt.setSelectionRange(0,0))};const Ft=this._elementRef.nativeElement,Tt=Ft.nodeName.toLowerCase();this._inputValueAccessor=St||Ft,this._previousNativeValue=this.value,this.id=this.id,Ke.IOS&&yn.runOutsideAngular(()=>{pe.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Tt,this._isTextarea="textarea"===Tt,this._isInFormField=!!ui,this._isNativeSelect&&(this.controlType=Ft.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(pe=>{this.autofilled=pe.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(pe){this._elementRef.nativeElement.focus(pe)}_focusChanged(pe){pe!==this.focused&&(this.focused=pe,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const pe=this._elementRef.nativeElement.value;this._previousNativeValue!==pe&&(this._previousNativeValue=pe,this.stateChanges.next())}_dirtyCheckPlaceholder(){const pe=this._getPlaceholder();if(pe!==this._previousPlaceholder){const Ke=this._elementRef.nativeElement;this._previousPlaceholder=pe,pe?Ke.setAttribute("placeholder",pe):Ke.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){rt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let pe=this._elementRef.nativeElement.validity;return pe&&pe.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const pe=this._elementRef.nativeElement,Ke=pe.options[0];return this.focused||pe.multiple||!this.empty||!!(pe.selectedIndex>-1&&Ke&&Ke.label)}return this.focused||!this.empty}setDescribedByIds(pe){pe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",pe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const pe=this._elementRef.nativeElement;return this._isNativeSelect&&(pe.multiple||pe.size>1)}}return Se.\u0275fac=function(pe){return new(pe||Se)(g.Y36(g.SBq),g.Y36(A.t4),g.Y36(ae.a5,10),g.Y36(ae.F,8),g.Y36(ae.sg,8),g.Y36(re.rD),g.Y36(Ge,10),g.Y36(Oe),g.Y36(g.R0b),g.Y36(Ae.G_,8))},Se.\u0275dir=g.lG2({type:Se,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(pe,Ke){1&pe&&g.NdJ("focus",function(){return Ke._focusChanged(!0)})("blur",function(){return Ke._focusChanged(!1)})("input",function(){return Ke._onInput()}),2&pe&&(g.Ikx("id",Ke.id)("disabled",Ke.disabled)("required",Ke.required),g.uIk("name",Ke.name||null)("readonly",Ke.readonly&&!Ke._isNativeSelect||null)("aria-invalid",Ke.empty&&Ke.required?null:Ke.errorState)("aria-required",Ke.required)("id",Ke.id),g.ekj("mat-input-server",Ke._isServer)("mat-mdc-form-field-textarea-control",Ke._isInFormField&&Ke._isTextarea)("mat-mdc-form-field-input-control",Ke._isInFormField)("mdc-text-field__input",Ke._isInFormField)("mat-mdc-native-select-inline",Ke._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[g._Bn([{provide:Ae.Eo,useExisting:Se}]),g.qOj,g.TTD]}),Se})(),lt=(()=>{class Se{}return Se.\u0275fac=function(pe){return new(pe||Se)},Se.\u0275mod=g.oAB({type:Se}),Se.\u0275inj=g.cJS({imports:[re.BQ,Ae.lN,Ae.lN,ie,re.BQ]}),Se})()},1552:(_n,Ye,D)=>{D.d(Ye,{VK:()=>In,OP:()=>Le,Tx:()=>zn,p6:()=>li});var c=D(4650),A=D(2693),g=D(1281),fe=D(9521),O=D(7579),Te=D(6451),Oe=D(727),ue=D(9646),Ie=D(3101),ie=D(8675),ae=D(3900),re=D(5698),Ae=D(2722),Ve=D(9300),Ge=D(4986),rt=D(7272),Fe=D(4482),tt=D(5403),Re=D(5032),Se=D(9718),ge=D(5577),pe=D(8421);function Ke(ft,oe){return oe?ee=>(0,rt.z)(oe.pipe((0,re.q)(1),function lt(){return(0,Fe.e)((ft,oe)=>{ft.subscribe((0,tt.x)(oe,Re.Z))})}()),ee.pipe(Ke(ft))):(0,ge.z)((ee,Ce)=>(0,pe.Xf)(ft(ee,Ce)).pipe((0,re.q)(1),(0,Se.h)(ee)))}var _t=D(5963);function Rt(ft,oe=Ge.z){const ee=(0,_t.H)(ft,oe);return Ke(()=>ee)}var qe=D(3238),un=D(6895),St=D(4080),bn=D(7340),yn=D(445),ui=D(5589),Ft=D(3353);const Tt=(0,Ft.Mq)();class Pt{constructor(oe,ee){this._viewportRuler=oe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ee}attach(){}enable(){if(this._canBeEnabled()){const oe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=oe.style.left||"",this._previousHTMLStyles.top=oe.style.top||"",oe.style.left=(0,g.HM)(-this._previousScrollPosition.left),oe.style.top=(0,g.HM)(-this._previousScrollPosition.top),oe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const oe=this._document.documentElement,Ce=oe.style,ot=this._document.body.style,Nt=Ce.scrollBehavior||"",ze=ot.scrollBehavior||"";this._isEnabled=!1,Ce.left=this._previousHTMLStyles.left,Ce.top=this._previousHTMLStyles.top,oe.classList.remove("cdk-global-scrollblock"),Tt&&(Ce.scrollBehavior=ot.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Tt&&(Ce.scrollBehavior=Nt,ot.scrollBehavior=ze)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ee=this._document.body,Ce=this._viewportRuler.getViewportSize();return ee.scrollHeight>Ce.height||ee.scrollWidth>Ce.width}}class kt{constructor(oe,ee,Ce,ot){this._scrollDispatcher=oe,this._ngZone=ee,this._viewportRuler=Ce,this._config=ot,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(oe){this._overlayRef=oe}enable(){if(this._scrollSubscription)return;const oe=this._scrollDispatcher.scrolled(0).pipe((0,Ve.h)(ee=>!ee||!this._overlayRef.overlayElement.contains(ee.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=oe.subscribe(()=>{const ee=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ee-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=oe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gt{enable(){}disable(){}attach(){}}function vt(ft,oe){return oe.some(ee=>ft.bottom<ee.top||ft.top>ee.bottom||ft.right<ee.left||ft.left>ee.right)}function jt(ft,oe){return oe.some(ee=>ft.top<ee.top||ft.bottom>ee.bottom||ft.left<ee.left||ft.right>ee.right)}class an{constructor(oe,ee,Ce,ot){this._scrollDispatcher=oe,this._viewportRuler=ee,this._ngZone=Ce,this._config=ot,this._scrollSubscription=null}attach(oe){this._overlayRef=oe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ee=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ce,height:ot}=this._viewportRuler.getViewportSize();vt(ee,[{width:Ce,height:ot,bottom:ot,right:Ce,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Vt=(()=>{class ft{constructor(ee,Ce,ot,Nt){this._scrollDispatcher=ee,this._viewportRuler=Ce,this._ngZone=ot,this.noop=()=>new gt,this.close=ze=>new kt(this._scrollDispatcher,this._ngZone,this._viewportRuler,ze),this.block=()=>new Pt(this._viewportRuler,this._document),this.reposition=ze=>new an(this._scrollDispatcher,this._viewportRuler,this._ngZone,ze),this._document=Nt}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.LFG(ui.mF),c.LFG(ui.rL),c.LFG(c.R0b),c.LFG(un.K0))},ft.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();class Je{constructor(oe){if(this.scrollStrategy=new gt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,oe){const ee=Object.keys(oe);for(const Ce of ee)void 0!==oe[Ce]&&(this[Ce]=oe[Ce])}}}class En{constructor(oe,ee){this.connectionPair=oe,this.scrollableViewProperties=ee}}let Ue=(()=>{class ft{constructor(ee){this._attachedOverlays=[],this._document=ee}ngOnDestroy(){this.detach()}add(ee){this.remove(ee),this._attachedOverlays.push(ee)}remove(ee){const Ce=this._attachedOverlays.indexOf(ee);Ce>-1&&this._attachedOverlays.splice(Ce,1),0===this._attachedOverlays.length&&this.detach()}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.LFG(un.K0))},ft.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),Zt=(()=>{class ft extends Ue{constructor(ee,Ce){super(ee),this._ngZone=Ce,this._keydownListener=ot=>{const Nt=this._attachedOverlays;for(let ze=Nt.length-1;ze>-1;ze--)if(Nt[ze]._keydownEvents.observers.length>0){const we=Nt[ze]._keydownEvents;this._ngZone?this._ngZone.run(()=>we.next(ot)):we.next(ot);break}}}add(ee){super.add(ee),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.LFG(un.K0),c.LFG(c.R0b,8))},ft.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),yt=(()=>{class ft extends Ue{constructor(ee,Ce,ot){super(ee),this._platform=Ce,this._ngZone=ot,this._cursorStyleIsSet=!1,this._pointerDownListener=Nt=>{this._pointerDownEventTarget=(0,Ft.sA)(Nt)},this._clickListener=Nt=>{const ze=(0,Ft.sA)(Nt),we="click"===Nt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ze;this._pointerDownEventTarget=null;const te=this._attachedOverlays.slice();for(let De=te.length-1;De>-1;De--){const et=te[De];if(et._outsidePointerEvents.observers.length<1||!et.hasAttached())continue;if(et.overlayElement.contains(ze)||et.overlayElement.contains(we))break;const Wt=et._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Wt.next(Nt)):Wt.next(Nt)}}}add(ee){if(super.add(ee),!this._isAttached){const Ce=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ce)):this._addEventListeners(Ce),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ce.style.cursor,Ce.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ee=this._document.body;ee.removeEventListener("pointerdown",this._pointerDownListener,!0),ee.removeEventListener("click",this._clickListener,!0),ee.removeEventListener("auxclick",this._clickListener,!0),ee.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ee.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ee){ee.addEventListener("pointerdown",this._pointerDownListener,!0),ee.addEventListener("click",this._clickListener,!0),ee.addEventListener("auxclick",this._clickListener,!0),ee.addEventListener("contextmenu",this._clickListener,!0)}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.LFG(un.K0),c.LFG(Ft.t4),c.LFG(c.R0b,8))},ft.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),Ht=(()=>{class ft{constructor(ee,Ce){this._platform=Ce,this._document=ee}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ee="cdk-overlay-container";if(this._platform.isBrowser||(0,Ft.Oy)()){const ot=this._document.querySelectorAll(`.${ee}[platform="server"], .${ee}[platform="test"]`);for(let Nt=0;Nt<ot.length;Nt++)ot[Nt].remove()}const Ce=this._document.createElement("div");Ce.classList.add(ee),(0,Ft.Oy)()?Ce.setAttribute("platform","test"):this._platform.isBrowser||Ce.setAttribute("platform","server"),this._document.body.appendChild(Ce),this._containerElement=Ce}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.LFG(un.K0),c.LFG(Ft.t4))},ft.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();class xe{constructor(oe,ee,Ce,ot,Nt,ze,we,te,De,et=!1){this._portalOutlet=oe,this._host=ee,this._pane=Ce,this._config=ot,this._ngZone=Nt,this._keyboardDispatcher=ze,this._document=we,this._location=te,this._outsideClickDispatcher=De,this._animationsDisabled=et,this._backdropElement=null,this._backdropClick=new O.x,this._attachments=new O.x,this._detachments=new O.x,this._locationChanges=Oe.w0.EMPTY,this._backdropClickHandler=Wt=>this._backdropClick.next(Wt),this._backdropTransitionendHandler=Wt=>{this._disposeBackdrop(Wt.target)},this._keydownEvents=new O.x,this._outsidePointerEvents=new O.x,ot.scrollStrategy&&(this._scrollStrategy=ot.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ot.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(oe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ee=this._portalOutlet.attach(oe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,re.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ee?.onDestroy&&ee.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ee}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const oe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),oe}dispose(){const oe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,oe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(oe){oe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=oe,this.hasAttached()&&(oe.attach(this),this.updatePosition()))}updateSize(oe){this._config={...this._config,...oe},this._updateElementSize()}setDirection(oe){this._config={...this._config,direction:oe},this._updateElementDirection()}addPanelClass(oe){this._pane&&this._toggleClasses(this._pane,oe,!0)}removePanelClass(oe){this._pane&&this._toggleClasses(this._pane,oe,!1)}getDirection(){const oe=this._config.direction;return oe?"string"==typeof oe?oe:oe.value:"ltr"}updateScrollStrategy(oe){oe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=oe,this.hasAttached()&&(oe.attach(this),oe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const oe=this._pane.style;oe.width=(0,g.HM)(this._config.width),oe.height=(0,g.HM)(this._config.height),oe.minWidth=(0,g.HM)(this._config.minWidth),oe.minHeight=(0,g.HM)(this._config.minHeight),oe.maxWidth=(0,g.HM)(this._config.maxWidth),oe.maxHeight=(0,g.HM)(this._config.maxHeight)}_togglePointerEvents(oe){this._pane.style.pointerEvents=oe?"":"none"}_attachBackdrop(){const oe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(oe)})}):this._backdropElement.classList.add(oe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const oe=this._backdropElement;if(oe){if(this._animationsDisabled)return void this._disposeBackdrop(oe);oe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{oe.addEventListener("transitionend",this._backdropTransitionendHandler)}),oe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(oe)},500))}}_toggleClasses(oe,ee,Ce){const ot=(0,g.Eq)(ee||[]).filter(Nt=>!!Nt);ot.length&&(Ce?oe.classList.add(...ot):oe.classList.remove(...ot))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const oe=this._ngZone.onStable.pipe((0,Ae.R)((0,Te.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),oe.unsubscribe())})})}_disposeScrollStrategy(){const oe=this._scrollStrategy;oe&&(oe.disable(),oe.detach&&oe.detach())}_disposeBackdrop(oe){oe&&(oe.removeEventListener("click",this._backdropClickHandler),oe.removeEventListener("transitionend",this._backdropTransitionendHandler),oe.remove(),this._backdropElement===oe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ct="cdk-overlay-connected-position-bounding-box",bt=/([A-Za-z%]+)$/;class rn{get positions(){return this._preferredPositions}constructor(oe,ee,Ce,ot,Nt){this._viewportRuler=ee,this._document=Ce,this._platform=ot,this._overlayContainer=Nt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new O.x,this._resizeSubscription=Oe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(oe)}attach(oe){this._validatePositions(),oe.hostElement.classList.add(ct),this._overlayRef=oe,this._boundingBox=oe.hostElement,this._pane=oe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const oe=this._originRect,ee=this._overlayRect,Ce=this._viewportRect,ot=this._containerRect,Nt=[];let ze;for(let we of this._preferredPositions){let te=this._getOriginPoint(oe,ot,we),De=this._getOverlayPoint(te,ee,we),et=this._getOverlayFit(De,ee,Ce,we);if(et.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(we,te);this._canFitWithFlexibleDimensions(et,De,Ce)?Nt.push({position:we,origin:te,overlayRect:ee,boundingBoxRect:this._calculateBoundingBoxRect(te,we)}):(!ze||ze.overlayFit.visibleArea<et.visibleArea)&&(ze={overlayFit:et,overlayPoint:De,originPoint:te,position:we,overlayRect:ee})}if(Nt.length){let we=null,te=-1;for(const De of Nt){const et=De.boundingBoxRect.width*De.boundingBoxRect.height*(De.position.weight||1);et>te&&(te=et,we=De)}return this._isPushed=!1,void this._applyPosition(we.position,we.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ze.position,ze.originPoint);this._applyPosition(ze.position,ze.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ct),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const oe=this._lastPosition;if(oe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ee=this._getOriginPoint(this._originRect,this._containerRect,oe);this._applyPosition(oe,ee)}else this.apply()}withScrollableContainers(oe){return this._scrollables=oe,this}withPositions(oe){return this._preferredPositions=oe,-1===oe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(oe){return this._viewportMargin=oe,this}withFlexibleDimensions(oe=!0){return this._hasFlexibleDimensions=oe,this}withGrowAfterOpen(oe=!0){return this._growAfterOpen=oe,this}withPush(oe=!0){return this._canPush=oe,this}withLockedPosition(oe=!0){return this._positionLocked=oe,this}setOrigin(oe){return this._origin=oe,this}withDefaultOffsetX(oe){return this._offsetX=oe,this}withDefaultOffsetY(oe){return this._offsetY=oe,this}withTransformOriginOn(oe){return this._transformOriginSelector=oe,this}_getOriginPoint(oe,ee,Ce){let ot,Nt;if("center"==Ce.originX)ot=oe.left+oe.width/2;else{const ze=this._isRtl()?oe.right:oe.left,we=this._isRtl()?oe.left:oe.right;ot="start"==Ce.originX?ze:we}return ee.left<0&&(ot-=ee.left),Nt="center"==Ce.originY?oe.top+oe.height/2:"top"==Ce.originY?oe.top:oe.bottom,ee.top<0&&(Nt-=ee.top),{x:ot,y:Nt}}_getOverlayPoint(oe,ee,Ce){let ot,Nt;return ot="center"==Ce.overlayX?-ee.width/2:"start"===Ce.overlayX?this._isRtl()?-ee.width:0:this._isRtl()?0:-ee.width,Nt="center"==Ce.overlayY?-ee.height/2:"top"==Ce.overlayY?0:-ee.height,{x:oe.x+ot,y:oe.y+Nt}}_getOverlayFit(oe,ee,Ce,ot){const Nt=Qn(ee);let{x:ze,y:we}=oe,te=this._getOffset(ot,"x"),De=this._getOffset(ot,"y");te&&(ze+=te),De&&(we+=De);let on=0-we,Cn=we+Nt.height-Ce.height,On=this._subtractOverflows(Nt.width,0-ze,ze+Nt.width-Ce.width),Nn=this._subtractOverflows(Nt.height,on,Cn),Si=On*Nn;return{visibleArea:Si,isCompletelyWithinViewport:Nt.width*Nt.height===Si,fitsInViewportVertically:Nn===Nt.height,fitsInViewportHorizontally:On==Nt.width}}_canFitWithFlexibleDimensions(oe,ee,Ce){if(this._hasFlexibleDimensions){const ot=Ce.bottom-ee.y,Nt=Ce.right-ee.x,ze=hi(this._overlayRef.getConfig().minHeight),we=hi(this._overlayRef.getConfig().minWidth);return(oe.fitsInViewportVertically||null!=ze&&ze<=ot)&&(oe.fitsInViewportHorizontally||null!=we&&we<=Nt)}return!1}_pushOverlayOnScreen(oe,ee,Ce){if(this._previousPushAmount&&this._positionLocked)return{x:oe.x+this._previousPushAmount.x,y:oe.y+this._previousPushAmount.y};const ot=Qn(ee),Nt=this._viewportRect,ze=Math.max(oe.x+ot.width-Nt.width,0),we=Math.max(oe.y+ot.height-Nt.height,0),te=Math.max(Nt.top-Ce.top-oe.y,0),De=Math.max(Nt.left-Ce.left-oe.x,0);let et=0,Wt=0;return et=ot.width<=Nt.width?De||-ze:oe.x<this._viewportMargin?Nt.left-Ce.left-oe.x:0,Wt=ot.height<=Nt.height?te||-we:oe.y<this._viewportMargin?Nt.top-Ce.top-oe.y:0,this._previousPushAmount={x:et,y:Wt},{x:oe.x+et,y:oe.y+Wt}}_applyPosition(oe,ee){if(this._setTransformOrigin(oe),this._setOverlayElementStyles(ee,oe),this._setBoundingBoxStyles(ee,oe),oe.panelClass&&this._addPanelClasses(oe.panelClass),this._lastPosition=oe,this._positionChanges.observers.length){const Ce=this._getScrollVisibility(),ot=new En(oe,Ce);this._positionChanges.next(ot)}this._isInitialRender=!1}_setTransformOrigin(oe){if(!this._transformOriginSelector)return;const ee=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ce,ot=oe.overlayY;Ce="center"===oe.overlayX?"center":this._isRtl()?"start"===oe.overlayX?"right":"left":"start"===oe.overlayX?"left":"right";for(let Nt=0;Nt<ee.length;Nt++)ee[Nt].style.transformOrigin=`${Ce} ${ot}`}_calculateBoundingBoxRect(oe,ee){const Ce=this._viewportRect,ot=this._isRtl();let Nt,ze,we,et,Wt,on;if("top"===ee.overlayY)ze=oe.y,Nt=Ce.height-ze+this._viewportMargin;else if("bottom"===ee.overlayY)we=Ce.height-oe.y+2*this._viewportMargin,Nt=Ce.height-we+this._viewportMargin;else{const Cn=Math.min(Ce.bottom-oe.y+Ce.top,oe.y),On=this._lastBoundingBoxSize.height;Nt=2*Cn,ze=oe.y-Cn,Nt>On&&!this._isInitialRender&&!this._growAfterOpen&&(ze=oe.y-On/2)}if("end"===ee.overlayX&&!ot||"start"===ee.overlayX&&ot)on=Ce.width-oe.x+this._viewportMargin,et=oe.x-this._viewportMargin;else if("start"===ee.overlayX&&!ot||"end"===ee.overlayX&&ot)Wt=oe.x,et=Ce.right-oe.x;else{const Cn=Math.min(Ce.right-oe.x+Ce.left,oe.x),On=this._lastBoundingBoxSize.width;et=2*Cn,Wt=oe.x-Cn,et>On&&!this._isInitialRender&&!this._growAfterOpen&&(Wt=oe.x-On/2)}return{top:ze,left:Wt,bottom:we,right:on,width:et,height:Nt}}_setBoundingBoxStyles(oe,ee){const Ce=this._calculateBoundingBoxRect(oe,ee);!this._isInitialRender&&!this._growAfterOpen&&(Ce.height=Math.min(Ce.height,this._lastBoundingBoxSize.height),Ce.width=Math.min(Ce.width,this._lastBoundingBoxSize.width));const ot={};if(this._hasExactPosition())ot.top=ot.left="0",ot.bottom=ot.right=ot.maxHeight=ot.maxWidth="",ot.width=ot.height="100%";else{const Nt=this._overlayRef.getConfig().maxHeight,ze=this._overlayRef.getConfig().maxWidth;ot.height=(0,g.HM)(Ce.height),ot.top=(0,g.HM)(Ce.top),ot.bottom=(0,g.HM)(Ce.bottom),ot.width=(0,g.HM)(Ce.width),ot.left=(0,g.HM)(Ce.left),ot.right=(0,g.HM)(Ce.right),ot.alignItems="center"===ee.overlayX?"center":"end"===ee.overlayX?"flex-end":"flex-start",ot.justifyContent="center"===ee.overlayY?"center":"bottom"===ee.overlayY?"flex-end":"flex-start",Nt&&(ot.maxHeight=(0,g.HM)(Nt)),ze&&(ot.maxWidth=(0,g.HM)(ze))}this._lastBoundingBoxSize=Ce,Zn(this._boundingBox.style,ot)}_resetBoundingBoxStyles(){Zn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(oe,ee){const Ce={},ot=this._hasExactPosition(),Nt=this._hasFlexibleDimensions,ze=this._overlayRef.getConfig();if(ot){const et=this._viewportRuler.getViewportScrollPosition();Zn(Ce,this._getExactOverlayY(ee,oe,et)),Zn(Ce,this._getExactOverlayX(ee,oe,et))}else Ce.position="static";let we="",te=this._getOffset(ee,"x"),De=this._getOffset(ee,"y");te&&(we+=`translateX(${te}px) `),De&&(we+=`translateY(${De}px)`),Ce.transform=we.trim(),ze.maxHeight&&(ot?Ce.maxHeight=(0,g.HM)(ze.maxHeight):Nt&&(Ce.maxHeight="")),ze.maxWidth&&(ot?Ce.maxWidth=(0,g.HM)(ze.maxWidth):Nt&&(Ce.maxWidth="")),Zn(this._pane.style,Ce)}_getExactOverlayY(oe,ee,Ce){let ot={top:"",bottom:""},Nt=this._getOverlayPoint(ee,this._overlayRect,oe);return this._isPushed&&(Nt=this._pushOverlayOnScreen(Nt,this._overlayRect,Ce)),"bottom"===oe.overlayY?ot.bottom=this._document.documentElement.clientHeight-(Nt.y+this._overlayRect.height)+"px":ot.top=(0,g.HM)(Nt.y),ot}_getExactOverlayX(oe,ee,Ce){let ze,ot={left:"",right:""},Nt=this._getOverlayPoint(ee,this._overlayRect,oe);return this._isPushed&&(Nt=this._pushOverlayOnScreen(Nt,this._overlayRect,Ce)),ze=this._isRtl()?"end"===oe.overlayX?"left":"right":"end"===oe.overlayX?"right":"left","right"===ze?ot.right=this._document.documentElement.clientWidth-(Nt.x+this._overlayRect.width)+"px":ot.left=(0,g.HM)(Nt.x),ot}_getScrollVisibility(){const oe=this._getOriginRect(),ee=this._pane.getBoundingClientRect(),Ce=this._scrollables.map(ot=>ot.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jt(oe,Ce),isOriginOutsideView:vt(oe,Ce),isOverlayClipped:jt(ee,Ce),isOverlayOutsideView:vt(ee,Ce)}}_subtractOverflows(oe,...ee){return ee.reduce((Ce,ot)=>Ce-Math.max(ot,0),oe)}_getNarrowedViewportRect(){const oe=this._document.documentElement.clientWidth,ee=this._document.documentElement.clientHeight,Ce=this._viewportRuler.getViewportScrollPosition();return{top:Ce.top+this._viewportMargin,left:Ce.left+this._viewportMargin,right:Ce.left+oe-this._viewportMargin,bottom:Ce.top+ee-this._viewportMargin,width:oe-2*this._viewportMargin,height:ee-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(oe,ee){return"x"===ee?null==oe.offsetX?this._offsetX:oe.offsetX:null==oe.offsetY?this._offsetY:oe.offsetY}_validatePositions(){}_addPanelClasses(oe){this._pane&&(0,g.Eq)(oe).forEach(ee=>{""!==ee&&-1===this._appliedPanelClasses.indexOf(ee)&&(this._appliedPanelClasses.push(ee),this._pane.classList.add(ee))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(oe=>{this._pane.classList.remove(oe)}),this._appliedPanelClasses=[])}_getOriginRect(){const oe=this._origin;if(oe instanceof c.SBq)return oe.nativeElement.getBoundingClientRect();if(oe instanceof Element)return oe.getBoundingClientRect();const ee=oe.width||0,Ce=oe.height||0;return{top:oe.y,bottom:oe.y+Ce,left:oe.x,right:oe.x+ee,height:Ce,width:ee}}}function Zn(ft,oe){for(let ee in oe)oe.hasOwnProperty(ee)&&(ft[ee]=oe[ee]);return ft}function hi(ft){if("number"!=typeof ft&&null!=ft){const[oe,ee]=ft.split(bt);return ee&&"px"!==ee?null:parseFloat(oe)}return ft||null}function Qn(ft){return{top:Math.floor(ft.top),right:Math.floor(ft.right),bottom:Math.floor(ft.bottom),left:Math.floor(ft.left),width:Math.floor(ft.width),height:Math.floor(ft.height)}}const di="cdk-global-overlay-wrapper";class Dn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(oe){const ee=oe.getConfig();this._overlayRef=oe,this._width&&!ee.width&&oe.updateSize({width:this._width}),this._height&&!ee.height&&oe.updateSize({height:this._height}),oe.hostElement.classList.add(di),this._isDisposed=!1}top(oe=""){return this._bottomOffset="",this._topOffset=oe,this._alignItems="flex-start",this}left(oe=""){return this._xOffset=oe,this._xPosition="left",this}bottom(oe=""){return this._topOffset="",this._bottomOffset=oe,this._alignItems="flex-end",this}right(oe=""){return this._xOffset=oe,this._xPosition="right",this}start(oe=""){return this._xOffset=oe,this._xPosition="start",this}end(oe=""){return this._xOffset=oe,this._xPosition="end",this}width(oe=""){return this._overlayRef?this._overlayRef.updateSize({width:oe}):this._width=oe,this}height(oe=""){return this._overlayRef?this._overlayRef.updateSize({height:oe}):this._height=oe,this}centerHorizontally(oe=""){return this.left(oe),this._xPosition="center",this}centerVertically(oe=""){return this.top(oe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const oe=this._overlayRef.overlayElement.style,ee=this._overlayRef.hostElement.style,Ce=this._overlayRef.getConfig(),{width:ot,height:Nt,maxWidth:ze,maxHeight:we}=Ce,te=!("100%"!==ot&&"100vw"!==ot||ze&&"100%"!==ze&&"100vw"!==ze),De=!("100%"!==Nt&&"100vh"!==Nt||we&&"100%"!==we&&"100vh"!==we),et=this._xPosition,Wt=this._xOffset,on="rtl"===this._overlayRef.getConfig().direction;let Cn="",On="",Nn="";te?Nn="flex-start":"center"===et?(Nn="center",on?On=Wt:Cn=Wt):on?"left"===et||"end"===et?(Nn="flex-end",Cn=Wt):("right"===et||"start"===et)&&(Nn="flex-start",On=Wt):"left"===et||"start"===et?(Nn="flex-start",Cn=Wt):("right"===et||"end"===et)&&(Nn="flex-end",On=Wt),oe.position=this._cssPosition,oe.marginLeft=te?"0":Cn,oe.marginTop=De?"0":this._topOffset,oe.marginBottom=this._bottomOffset,oe.marginRight=te?"0":On,ee.justifyContent=Nn,ee.alignItems=De?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const oe=this._overlayRef.overlayElement.style,ee=this._overlayRef.hostElement,Ce=ee.style;ee.classList.remove(di),Ce.justifyContent=Ce.alignItems=oe.marginTop=oe.marginBottom=oe.marginLeft=oe.marginRight=oe.position="",this._overlayRef=null,this._isDisposed=!0}}let Ln=(()=>{class ft{constructor(ee,Ce,ot,Nt){this._viewportRuler=ee,this._document=Ce,this._platform=ot,this._overlayContainer=Nt}global(){return new Dn}flexibleConnectedTo(ee){return new rn(ee,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.LFG(ui.rL),c.LFG(un.K0),c.LFG(Ft.t4),c.LFG(Ht))},ft.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),Fi=0,Dt=(()=>{class ft{constructor(ee,Ce,ot,Nt,ze,we,te,De,et,Wt,on,Cn){this.scrollStrategies=ee,this._overlayContainer=Ce,this._componentFactoryResolver=ot,this._positionBuilder=Nt,this._keyboardDispatcher=ze,this._injector=we,this._ngZone=te,this._document=De,this._directionality=et,this._location=Wt,this._outsideClickDispatcher=on,this._animationsModuleType=Cn}create(ee){const Ce=this._createHostElement(),ot=this._createPaneElement(Ce),Nt=this._createPortalOutlet(ot),ze=new Je(ee);return ze.direction=ze.direction||this._directionality.value,new xe(Nt,Ce,ot,ze,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ee){const Ce=this._document.createElement("div");return Ce.id="cdk-overlay-"+Fi++,Ce.classList.add("cdk-overlay-pane"),ee.appendChild(Ce),Ce}_createHostElement(){const ee=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ee),ee}_createPortalOutlet(ee){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new St.u0(ee,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.LFG(Vt),c.LFG(Ht),c.LFG(c._Vd),c.LFG(Ln),c.LFG(Zt),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(un.K0),c.LFG(yn.Is),c.LFG(un.Ye),c.LFG(yt),c.LFG(c.QbO,8))},ft.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();const Mi={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Dt],useFactory:function Rn(ft){return()=>ft.scrollStrategies.reposition()}};let kn=(()=>{class ft{}return ft.\u0275fac=function(ee){return new(ee||ft)},ft.\u0275mod=c.oAB({type:ft}),ft.\u0275inj=c.cJS({providers:[Dt,Mi],imports:[yn.vT,St.eL,ui.Cl,ui.Cl]}),ft})();const Lt=["mat-menu-item",""];function Ee(ft,oe){1&ft&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"polygon",4),c.qZA())}const z=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],ce=["mat-icon, [matMenuItemIcon]","*"];function nt(ft,oe){if(1&ft){const ee=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(ot){c.CHM(ee);const Nt=c.oxw();return c.KtG(Nt._handleKeydown(ot))})("click",function(){c.CHM(ee);const ot=c.oxw();return c.KtG(ot.closed.emit("click"))})("@transformMenu.start",function(ot){c.CHM(ee);const Nt=c.oxw();return c.KtG(Nt._onAnimationStart(ot))})("@transformMenu.done",function(ot){c.CHM(ee);const Nt=c.oxw();return c.KtG(Nt._onAnimationDone(ot))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&ft){const ee=c.oxw();c.Q6J("id",ee.panelId)("ngClass",ee._classList)("@transformMenu",ee._panelAnimationState),c.uIk("aria-label",ee.ariaLabel||null)("aria-labelledby",ee.ariaLabelledby||null)("aria-describedby",ee.ariaDescribedby||null)}}const Qt=["*"],Gn=new c.OlP("MAT_MENU_PANEL"),gi=(0,qe.Kr)((0,qe.Id)(class{}));let Le=(()=>{class ft extends gi{constructor(ee,Ce,ot,Nt,ze){super(),this._elementRef=ee,this._document=Ce,this._focusMonitor=ot,this._parentMenu=Nt,this._changeDetectorRef=ze,this.role="menuitem",this._hovered=new O.x,this._focused=new O.x,this._highlighted=!1,this._triggersSubmenu=!1,Nt?.addItem?.(this)}focus(ee,Ce){this._focusMonitor&&ee?this._focusMonitor.focusVia(this._getHostElement(),ee,Ce):this._getHostElement().focus(Ce),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ee){this.disabled&&(ee.preventDefault(),ee.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ee=this._elementRef.nativeElement.cloneNode(!0),Ce=ee.querySelectorAll("mat-icon, .material-icons");for(let ot=0;ot<Ce.length;ot++)Ce[ot].remove();return ee.textContent?.trim()||""}_setHighlighted(ee){this._highlighted=ee,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ee){this._triggersSubmenu=ee,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.Y36(c.SBq),c.Y36(un.K0),c.Y36(A.tE),c.Y36(Gn,8),c.Y36(c.sBO))},ft.\u0275cmp=c.Xpm({type:ft,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(ee,Ce){1&ee&&c.NdJ("click",function(Nt){return Ce._checkDisabled(Nt)})("mouseenter",function(){return Ce._handleMouseEnter()}),2&ee&&(c.uIk("role",Ce.role)("tabindex",Ce._getTabIndex())("aria-disabled",Ce.disabled)("disabled",Ce.disabled||null),c.ekj("mat-mdc-menu-item-highlighted",Ce._highlighted)("mat-mdc-menu-item-submenu-trigger",Ce._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:Lt,ngContentSelectors:ce,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ee,Ce){1&ee&&(c.F$t(z),c.Hsn(0),c.TgZ(1,"span",0),c.Hsn(2,1),c.qZA(),c._UZ(3,"div",1),c.YNc(4,Ee,2,0,"svg",2)),2&ee&&(c.xp6(3),c.Q6J("matRippleDisabled",Ce.disableRipple||Ce.disabled)("matRippleTrigger",Ce._getHostElement()),c.xp6(1),c.Q6J("ngIf",Ce._triggersSubmenu))},dependencies:[un.O5,qe.wG],encapsulation:2,changeDetection:0}),ft})();const Et=new c.OlP("MatMenuContent"),Q={transformMenu:(0,bn.X$)("transformMenu",[(0,bn.SB)("void",(0,bn.oB)({opacity:0,transform:"scale(0.8)"})),(0,bn.eR)("void => enter",(0,bn.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,bn.oB)({opacity:1,transform:"scale(1)"}))),(0,bn.eR)("* => void",(0,bn.jt)("100ms 25ms linear",(0,bn.oB)({opacity:0})))]),fadeInItems:(0,bn.X$)("fadeInItems",[(0,bn.SB)("showing",(0,bn.oB)({opacity:1})),(0,bn.eR)("void => *",[(0,bn.oB)({opacity:0}),(0,bn.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Z=0;const be=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function st(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let tn=(()=>{class ft{get xPosition(){return this._xPosition}set xPosition(ee){this._xPosition=ee,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ee){this._yPosition=ee,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(ee){this._overlapTrigger=(0,g.Ig)(ee)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ee){this._hasBackdrop=(0,g.Ig)(ee)}set panelClass(ee){const Ce=this._previousPanelClass;Ce&&Ce.length&&Ce.split(" ").forEach(ot=>{this._classList[ot]=!1}),this._previousPanelClass=ee,ee&&ee.length&&(ee.split(" ").forEach(ot=>{this._classList[ot]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(ee){this.panelClass=ee}constructor(ee,Ce,ot,Nt){this._elementRef=ee,this._ngZone=Ce,this._defaultOptions=ot,this._changeDetectorRef=Nt,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new c.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new O.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Z++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new A.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ie.O)(this._directDescendantItems),(0,ae.w)(ee=>(0,Te.T)(...ee.map(Ce=>Ce._focused)))).subscribe(ee=>this._keyManager.updateActiveItem(ee)),this._directDescendantItems.changes.subscribe(ee=>{const Ce=this._keyManager;if("enter"===this._panelAnimationState&&Ce.activeItem?._hasFocus()){const ot=ee.toArray(),Nt=Math.max(0,Math.min(ot.length-1,Ce.activeItemIndex||0));ot[Nt]&&!ot[Nt].disabled?Ce.setActiveItem(Nt):Ce.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,ie.O)(this._directDescendantItems),(0,ae.w)(Ce=>(0,Te.T)(...Ce.map(ot=>ot._hovered))))}addItem(ee){}removeItem(ee){}_handleKeydown(ee){const Ce=ee.keyCode,ot=this._keyManager;switch(Ce){case fe.hY:(0,fe.Vb)(ee)||(ee.preventDefault(),this.closed.emit("keydown"));break;case fe.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case fe.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(Ce===fe.LH||Ce===fe.JH)&&ot.setFocusOrigin("keyboard"),void ot.onKeydown(ee)}ee.stopPropagation()}focusFirstItem(ee="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,re.q)(1)).subscribe(()=>{let Ce=null;if(this._directDescendantItems.length&&(Ce=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!Ce||!Ce.contains(document.activeElement)){const ot=this._keyManager;ot.setFocusOrigin(ee).setFirstItemActive(),!ot.activeItem&&Ce&&Ce.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ee){const Ce=Math.min(this._baseElevation+ee,24),ot=`${this._elevationPrefix}${Ce}`,Nt=Object.keys(this._classList).find(ze=>ze.startsWith(this._elevationPrefix));(!Nt||Nt===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[ot]=!0,this._previousElevation=ot)}setPositionClasses(ee=this.xPosition,Ce=this.yPosition){const ot=this._classList;ot["mat-menu-before"]="before"===ee,ot["mat-menu-after"]="after"===ee,ot["mat-menu-above"]="above"===Ce,ot["mat-menu-below"]="below"===Ce,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ee){this._animationDone.next(ee),this._isAnimating=!1}_onAnimationStart(ee){this._isAnimating=!0,"enter"===ee.toState&&0===this._keyManager.activeItemIndex&&(ee.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ie.O)(this._allItems)).subscribe(ee=>{this._directDescendantItems.reset(ee.filter(Ce=>Ce._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(be),c.Y36(c.sBO))},ft.\u0275dir=c.lG2({type:ft,contentQueries:function(ee,Ce,ot){if(1&ee&&(c.Suo(ot,Et,5),c.Suo(ot,Le,5),c.Suo(ot,Le,4)),2&ee){let Nt;c.iGM(Nt=c.CRH())&&(Ce.lazyContent=Nt.first),c.iGM(Nt=c.CRH())&&(Ce._allItems=Nt),c.iGM(Nt=c.CRH())&&(Ce.items=Nt)}},viewQuery:function(ee,Ce){if(1&ee&&c.Gf(c.Rgc,5),2&ee){let ot;c.iGM(ot=c.CRH())&&(Ce.templateRef=ot.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),ft})(),In=(()=>{class ft extends tn{constructor(ee,Ce,ot,Nt){super(ee,Ce,ot,Nt),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(be),c.Y36(c.sBO))},ft.\u0275cmp=c.Xpm({type:ft,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(ee,Ce){2&ee&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:Gn,useExisting:ft}]),c.qOj],ngContentSelectors:Qt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(ee,Ce){1&ee&&(c.F$t(),c.YNc(0,nt,3,6,"ng-template"))},dependencies:[un.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Q.transformMenu,Q.fadeInItems]},changeDetection:0}),ft})();const ei=new c.OlP("mat-menu-scroll-strategy"),Ot={provide:ei,deps:[Dt],useFactory:function It(ft){return()=>ft.scrollStrategies.reposition()}},dn=(0,Ft.i$)({passive:!0});let Wn=(()=>{class ft{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ee){this.menu=ee}get menu(){return this._menu}set menu(ee){ee!==this._menu&&(this._menu=ee,this._menuCloseSubscription.unsubscribe(),ee&&(this._menuCloseSubscription=ee.close.subscribe(Ce=>{this._destroyMenu(Ce),("click"===Ce||"tab"===Ce)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(Ce)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ee,Ce,ot,Nt,ze,we,te,De,et){this._overlay=ee,this._element=Ce,this._viewContainerRef=ot,this._menuItemInstance=we,this._dir=te,this._focusMonitor=De,this._ngZone=et,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Oe.w0.EMPTY,this._hoverSubscription=Oe.w0.EMPTY,this._menuCloseSubscription=Oe.w0.EMPTY,this._changeDetectorRef=(0,c.f3M)(c.sBO),this._handleTouchStart=Wt=>{(0,A.yG)(Wt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Nt,this._parentMaterialMenu=ze instanceof tn?ze:void 0,Ce.nativeElement.addEventListener("touchstart",this._handleTouchStart,dn)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,dn),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ee=this.menu;if(this._menuOpen||!ee)return;const Ce=this._createOverlay(ee),ot=Ce.getConfig(),Nt=ot.positionStrategy;this._setPosition(ee,Nt),ot.hasBackdrop=null==ee.hasBackdrop?!this.triggersSubmenu():ee.hasBackdrop,Ce.attach(this._getPortal(ee)),ee.lazyContent&&ee.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ee),ee instanceof tn&&(ee._startAnimation(),ee._directDescendantItems.changes.pipe((0,Ae.R)(ee.close)).subscribe(()=>{Nt.withLockedPosition(!1).reapplyLastPosition(),Nt.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ee,Ce){this._focusMonitor&&ee?this._focusMonitor.focusVia(this._element,ee,Ce):this._element.nativeElement.focus(Ce)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ee){if(!this._overlayRef||!this.menuOpen)return;const Ce=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ee||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,Ce instanceof tn?(Ce._resetAnimation(),Ce.lazyContent?Ce._animationDone.pipe((0,Ve.h)(ot=>"void"===ot.toState),(0,re.q)(1),(0,Ae.R)(Ce.lazyContent._attached)).subscribe({next:()=>Ce.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),Ce?.lazyContent?.detach())}_initMenu(ee){ee.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ee.direction=this.dir,this._setMenuElevation(ee),ee.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ee){if(ee.setElevation){let Ce=0,ot=ee.parentMenu;for(;ot;)Ce++,ot=ot.parentMenu;ee.setElevation(Ce)}}_setIsMenuOpen(ee){ee!==this._menuOpen&&(this._menuOpen=ee,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ee),this._changeDetectorRef.markForCheck())}_createOverlay(ee){if(!this._overlayRef){const Ce=this._getOverlayConfig(ee);this._subscribeToPositions(ee,Ce.positionStrategy),this._overlayRef=this._overlay.create(Ce),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ee){return new Je({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ee.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ee.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ee,Ce){ee.setPositionClasses&&Ce.positionChanges.subscribe(ot=>{const Nt="start"===ot.connectionPair.overlayX?"after":"before",ze="top"===ot.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ee.setPositionClasses(Nt,ze)):ee.setPositionClasses(Nt,ze)})}_setPosition(ee,Ce){let[ot,Nt]="before"===ee.xPosition?["end","start"]:["start","end"],[ze,we]="above"===ee.yPosition?["bottom","top"]:["top","bottom"],[te,De]=[ze,we],[et,Wt]=[ot,Nt],on=0;if(this.triggersSubmenu()){if(Wt=ot="before"===ee.xPosition?"start":"end",Nt=et="end"===ot?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Cn=this._parentMaterialMenu.items.first;this._parentInnerPadding=Cn?Cn._getHostElement().offsetTop:0}on="bottom"===ze?this._parentInnerPadding:-this._parentInnerPadding}}else ee.overlapTrigger||(te="top"===ze?"bottom":"top",De="top"===we?"bottom":"top");Ce.withPositions([{originX:ot,originY:te,overlayX:et,overlayY:ze,offsetY:on},{originX:Nt,originY:te,overlayX:Wt,overlayY:ze,offsetY:on},{originX:ot,originY:De,overlayX:et,overlayY:we,offsetY:-on},{originX:Nt,originY:De,overlayX:Wt,overlayY:we,offsetY:-on}])}_menuClosingActions(){const ee=this._overlayRef.backdropClick(),Ce=this._overlayRef.detachments(),ot=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,ue.of)(),Nt=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ve.h)(ze=>ze!==this._menuItemInstance),(0,Ve.h)(()=>this._menuOpen)):(0,ue.of)();return(0,Te.T)(ee,ot,Nt,Ce)}_handleMousedown(ee){(0,A.X6)(ee)||(this._openedBy=0===ee.button?"mouse":void 0,this.triggersSubmenu()&&ee.preventDefault())}_handleKeydown(ee){const Ce=ee.keyCode;(Ce===fe.K5||Ce===fe.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(Ce===fe.SV&&"ltr"===this.dir||Ce===fe.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ee){this.triggersSubmenu()?(ee.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ve.h)(ee=>ee===this._menuItemInstance&&!ee.disabled),Rt(0,Ie.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof tn&&this.menu._isAnimating?this.menu._animationDone.pipe((0,re.q)(1),Rt(0,Ie.E),(0,Ae.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ee){return(!this._portal||this._portal.templateRef!==ee.templateRef)&&(this._portal=new St.UE(ee.templateRef,this._viewContainerRef)),this._portal}}return ft.\u0275fac=function(ee){return new(ee||ft)(c.Y36(Dt),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(ei),c.Y36(Gn,8),c.Y36(Le,10),c.Y36(yn.Is,8),c.Y36(A.tE),c.Y36(c.R0b))},ft.\u0275dir=c.lG2({type:ft,hostVars:3,hostBindings:function(ee,Ce){1&ee&&c.NdJ("click",function(Nt){return Ce._handleClick(Nt)})("mousedown",function(Nt){return Ce._handleMousedown(Nt)})("keydown",function(Nt){return Ce._handleKeydown(Nt)}),2&ee&&c.uIk("aria-haspopup",Ce.menu?"menu":null)("aria-expanded",Ce.menuOpen)("aria-controls",Ce.menuOpen?Ce.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),ft})(),li=(()=>{class ft extends Wn{}return ft.\u0275fac=function(){let oe;return function(Ce){return(oe||(oe=c.n5z(ft)))(Ce||ft)}}(),ft.\u0275dir=c.lG2({type:ft,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]}),ft})(),zn=(()=>{class ft{}return ft.\u0275fac=function(ee){return new(ee||ft)},ft.\u0275mod=c.oAB({type:ft}),ft.\u0275inj=c.cJS({providers:[Ot],imports:[un.ez,qe.si,qe.BQ,kn,ui.ZD,qe.BQ]}),ft})()},3848:(_n,Ye,D)=>{D.d(Ye,{BU:()=>$t,Nh:()=>Qe,Nj:()=>Et,sW:()=>ln});var c=D(6895),A=D(4650),g=D(3238),fe=D(4080),O=D(9643),Te=D(2693),Oe=D(445),ue=D(7579),Ie=D(4968),ie=D(9646),ae=D(6451),re=D(515),Ae=D(9751),Ve=D(5963),Ge=D(1135),rt=D(2722),Fe=D(5698),tt=D(8675),Re=D(3900),lt=D(5684),Se=D(9300),pe=(D(7340),D(1281)),Ke=D(5589),_t=D(3353),Rt=D(9521);const yn=["*"],ui=["tabListContainer"],Ft=["tabList"],Tt=["tabListInner"],Pt=["nextPaginator"],wt=["previousPaginator"],wn=["mat-tab-nav-bar",""],ht=["mat-tab-link",""],bt="mdc-tab-indicator--active",rn="mdc-tab-indicator--no-transition";class Zn{constructor(V){this._items=V}hide(){this._items.forEach(V=>V.deactivateInkBar())}alignToElement(V){const k=this._items.find(be=>be.elementRef.nativeElement===V),Z=this._currentItem;if(Z?.deactivateInkBar(),k){const be=Z?.elementRef.nativeElement.getBoundingClientRect?.();k.activateInkBar(be),this._currentItem=k}}}function hi(Q){return class extends Q{constructor(...V){super(...V),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(V){const k=(0,pe.Ig)(V);this._fitToContent!==k&&(this._fitToContent=k,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(V){const k=this.elementRef.nativeElement;if(!V||!k.getBoundingClientRect||!this._inkBarContentElement)return void k.classList.add(bt);const Z=k.getBoundingClientRect(),be=V.width/Z.width,st=V.left-Z.left;k.classList.add(rn),this._inkBarContentElement.style.setProperty("transform",`translateX(${st}px) scaleX(${be})`),k.getBoundingClientRect(),k.classList.remove(rn),k.classList.add(bt),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(bt)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const V=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=V.createElement("span"),this._inkBarContentElement=V.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const zt=(0,_t.i$)({passive:!0});let Mi=(()=>{class Q{get disablePagination(){return this._disablePagination}set disablePagination(k){this._disablePagination=(0,pe.Ig)(k)}get selectedIndex(){return this._selectedIndex}set selectedIndex(k){k=(0,pe.su)(k),this._selectedIndex!=k&&(this._selectedIndexChanged=!0,this._selectedIndex=k,this._keyManager&&this._keyManager.updateActiveItem(k))}constructor(k,Z,be,st,tn,In,ei){this._elementRef=k,this._changeDetectorRef=Z,this._viewportRuler=be,this._dir=st,this._ngZone=tn,this._platform=In,this._animationMode=ei,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ue.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ue.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new A.vpe,this.indexFocused=new A.vpe,tn.runOutsideAngular(()=>{(0,Ie.R)(k.nativeElement,"mouseleave").pipe((0,rt.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,Ie.R)(this._previousPaginator.nativeElement,"touchstart",zt).pipe((0,rt.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,Ie.R)(this._nextPaginator.nativeElement,"touchstart",zt).pipe((0,rt.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const k=this._dir?this._dir.change:(0,ie.of)("ltr"),Z=this._viewportRuler.change(150),be=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Te.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Fe.q)(1)).subscribe(be),(0,ae.T)(k,Z,this._items.changes,this._itemsResized()).pipe((0,rt.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),be()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(st=>{this.indexFocused.emit(st),this._setTabFocus(st)})}_itemsResized(){return"function"!=typeof ResizeObserver?re.E:this._items.changes.pipe((0,tt.O)(this._items),(0,Re.w)(k=>new Ae.y(Z=>this._ngZone.runOutsideAngular(()=>{const be=new ResizeObserver(st=>Z.next(st));return k.forEach(st=>be.observe(st.elementRef.nativeElement)),()=>{be.disconnect()}}))),(0,lt.T)(1),(0,Se.h)(k=>k.some(Z=>Z.contentRect.width>0&&Z.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(k){if(!(0,Rt.Vb)(k))switch(k.keyCode){case Rt.K5:case Rt.L_:if(this.focusIndex!==this.selectedIndex){const Z=this._items.get(this.focusIndex);Z&&!Z.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(k))}break;default:this._keyManager.onKeydown(k)}}_onContentChanges(){const k=this._elementRef.nativeElement.textContent;k!==this._currentTextContent&&(this._currentTextContent=k||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(k){!this._isValidIndex(k)||this.focusIndex===k||!this._keyManager||this._keyManager.setActiveItem(k)}_isValidIndex(k){return!this._items||!!this._items.toArray()[k]}_setTabFocus(k){if(this._showPaginationControls&&this._scrollToLabel(k),this._items&&this._items.length){this._items.toArray()[k].focus();const Z=this._tabListContainer.nativeElement;Z.scrollLeft="ltr"==this._getLayoutDirection()?0:Z.scrollWidth-Z.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const k=this.scrollDistance,Z="ltr"===this._getLayoutDirection()?-k:k;this._tabList.nativeElement.style.transform=`translateX(${Math.round(Z)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(k){this._scrollTo(k)}_scrollHeader(k){return this._scrollTo(this._scrollDistance+("before"==k?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(k){this._stopInterval(),this._scrollHeader(k)}_scrollToLabel(k){if(this.disablePagination)return;const Z=this._items?this._items.toArray()[k]:null;if(!Z)return;const be=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:st,offsetWidth:tn}=Z.elementRef.nativeElement;let In,ei;"ltr"==this._getLayoutDirection()?(In=st,ei=In+tn):(ei=this._tabListInner.nativeElement.offsetWidth-st,In=ei-tn);const It=this.scrollDistance,Ot=this.scrollDistance+be;In<It?this.scrollDistance-=It-In:ei>Ot&&(this.scrollDistance+=Math.min(ei-Ot,In-It))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const k=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;k||(this.scrollDistance=0),k!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=k}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const k=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,Z=k?k.elementRef.nativeElement:null;Z?this._inkBar.alignToElement(Z):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(k,Z){Z&&null!=Z.button&&0!==Z.button||(this._stopInterval(),(0,Ve.H)(650,100).pipe((0,rt.R)((0,ae.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:be,distance:st}=this._scrollHeader(k);(0===st||st>=be)&&this._stopInterval()}))}_scrollTo(k){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const Z=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(Z,k)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:Z,distance:this._scrollDistance}}}return Q.\u0275fac=function(k){return new(k||Q)(A.Y36(A.SBq),A.Y36(A.sBO),A.Y36(Ke.rL),A.Y36(Oe.Is,8),A.Y36(A.R0b),A.Y36(_t.t4),A.Y36(A.QbO,8))},Q.\u0275dir=A.lG2({type:Q,inputs:{disablePagination:"disablePagination"}}),Q})();const Lt=new A.OlP("MAT_TABS_CONFIG");let Gn=0,gi=(()=>{class Q extends Mi{get backgroundColor(){return this._backgroundColor}set backgroundColor(k){const Z=this._elementRef.nativeElement.classList;Z.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),k&&Z.add("mat-tabs-with-background",`mat-background-${k}`),this._backgroundColor=k}get disableRipple(){return this._disableRipple}set disableRipple(k){this._disableRipple=(0,pe.Ig)(k)}constructor(k,Z,be,st,tn,In,ei){super(k,st,tn,Z,be,In,ei),this._disableRipple=!1,this.color="primary"}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe((0,tt.O)(null),(0,rt.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const k=this._items.toArray();for(let Z=0;Z<k.length;Z++)if(k[Z].active)return this.selectedIndex=Z,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=k[Z].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return Q.\u0275fac=function(k){return new(k||Q)(A.Y36(A.SBq),A.Y36(Oe.Is,8),A.Y36(A.R0b),A.Y36(A.sBO),A.Y36(Ke.rL),A.Y36(_t.t4),A.Y36(A.QbO,8))},Q.\u0275dir=A.lG2({type:Q,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[A.qOj]}),Q})();const Le=(0,g.sb)((0,g.Kr)((0,g.Id)(class{}))),He=hi((()=>{class Q extends Le{get active(){return this._isActive}set active(k){const Z=(0,pe.Ig)(k);Z!==this._isActive&&(this._isActive=Z,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}constructor(k,Z,be,st,tn,In){super(),this._tabNavBar=k,this.elementRef=Z,this._focusMonitor=tn,this._isActive=!1,this.id="mat-tab-link-"+Gn++,this.rippleConfig=be||{},this.tabIndex=parseInt(st)||0,"NoopAnimations"===In&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(k){this._tabNavBar.tabPanel&&k.keyCode===Rt.L_&&this.elementRef.nativeElement.click()}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}}return Q.\u0275fac=function(k){return new(k||Q)(A.Y36(gi),A.Y36(A.SBq),A.Y36(g.Y2,8),A.$8M("tabindex"),A.Y36(Te.tE),A.Y36(A.QbO,8))},Q.\u0275dir=A.lG2({type:Q,inputs:{active:"active",id:"id"},features:[A.qOj]}),Q})());let $t=(()=>{class Q extends gi{get fitInkBarToContent(){return this._fitInkBarToContent.value}set fitInkBarToContent(k){this._fitInkBarToContent.next((0,pe.Ig)(k)),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(k){this._stretchTabs=(0,pe.Ig)(k)}constructor(k,Z,be,st,tn,In,ei,It){super(k,Z,be,st,tn,In,ei),this._fitInkBarToContent=new Ge.X(!1),this._stretchTabs=!0,this.disablePagination=!(!It||null==It.disablePagination)&&It.disablePagination,this.fitInkBarToContent=!(!It||null==It.fitInkBarToContent)&&It.fitInkBarToContent}ngAfterContentInit(){this._inkBar=new Zn(this._items),super.ngAfterContentInit()}ngAfterViewInit(){super.ngAfterViewInit()}}return Q.\u0275fac=function(k){return new(k||Q)(A.Y36(A.SBq),A.Y36(Oe.Is,8),A.Y36(A.R0b),A.Y36(A.sBO),A.Y36(Ke.rL),A.Y36(_t.t4),A.Y36(A.QbO,8),A.Y36(Lt,8))},Q.\u0275cmp=A.Xpm({type:Q,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(k,Z,be){if(1&k&&A.Suo(be,Et,5),2&k){let st;A.iGM(st=A.CRH())&&(Z._items=st)}},viewQuery:function(k,Z){if(1&k&&(A.Gf(ui,7),A.Gf(Ft,7),A.Gf(Tt,7),A.Gf(Pt,5),A.Gf(wt,5)),2&k){let be;A.iGM(be=A.CRH())&&(Z._tabListContainer=be.first),A.iGM(be=A.CRH())&&(Z._tabList=be.first),A.iGM(be=A.CRH())&&(Z._tabListInner=be.first),A.iGM(be=A.CRH())&&(Z._nextPaginator=be.first),A.iGM(be=A.CRH())&&(Z._previousPaginator=be.first)}},hostAttrs:[1,"mat-mdc-tab-nav-bar","mat-mdc-tab-header"],hostVars:15,hostBindings:function(k,Z){2&k&&(A.uIk("role",Z._getRole()),A.ekj("mat-mdc-tab-header-pagination-controls-enabled",Z._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==Z._getLayoutDirection())("mat-mdc-tab-nav-bar-stretch-tabs",Z.stretchTabs)("mat-primary","warn"!==Z.color&&"accent"!==Z.color)("mat-accent","accent"===Z.color)("mat-warn","warn"===Z.color)("_mat-animation-noopable","NoopAnimations"===Z._animationMode))},inputs:{color:"color",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabNavBar","matTabNav"],features:[A.qOj],attrs:wn,ngContentSelectors:yn,decls:13,vars:8,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(k,Z){1&k&&(A.F$t(),A.TgZ(0,"button",0,1),A.NdJ("click",function(){return Z._handlePaginatorClick("before")})("mousedown",function(st){return Z._handlePaginatorPress("before",st)})("touchend",function(){return Z._stopInterval()}),A._UZ(2,"div",2),A.qZA(),A.TgZ(3,"div",3,4),A.NdJ("keydown",function(st){return Z._handleKeydown(st)}),A.TgZ(5,"div",5,6),A.NdJ("cdkObserveContent",function(){return Z._onContentChanges()}),A.TgZ(7,"div",7,8),A.Hsn(9),A.qZA()()(),A.TgZ(10,"button",9,10),A.NdJ("mousedown",function(st){return Z._handlePaginatorPress("after",st)})("click",function(){return Z._handlePaginatorClick("after")})("touchend",function(){return Z._stopInterval()}),A._UZ(12,"div",2),A.qZA()),2&k&&(A.ekj("mat-mdc-tab-header-pagination-disabled",Z._disableScrollBefore),A.Q6J("matRippleDisabled",Z._disableScrollBefore||Z.disableRipple)("disabled",Z._disableScrollBefore||null),A.xp6(10),A.ekj("mat-mdc-tab-header-pagination-disabled",Z._disableScrollAfter),A.Q6J("matRippleDisabled",Z._disableScrollAfter||Z.disableRipple)("disabled",Z._disableScrollAfter||null))},dependencies:[g.wG,O.wD],styles:[".mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}"],encapsulation:2}),Q})(),Et=(()=>{class Q extends He{constructor(k,Z,be,st,tn,In){super(k,Z,be,st,tn,In),this._destroyed=new ue.x,k._fitInkBarToContent.pipe((0,rt.R)(this._destroyed)).subscribe(ei=>{this.fitInkBarToContent=ei})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),super.ngOnDestroy()}}return Q.\u0275fac=function(k){return new(k||Q)(A.Y36($t),A.Y36(A.SBq),A.Y36(g.Y2,8),A.$8M("tabindex"),A.Y36(Te.tE),A.Y36(A.QbO,8))},Q.\u0275cmp=A.Xpm({type:Q,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mdc-tab","mat-mdc-tab-link","mat-mdc-focus-indicator"],hostVars:11,hostBindings:function(k,Z){1&k&&A.NdJ("focus",function(){return Z._handleFocus()})("keydown",function(st){return Z._handleKeydown(st)}),2&k&&(A.uIk("aria-controls",Z._getAriaControls())("aria-current",Z._getAriaCurrent())("aria-disabled",Z.disabled)("aria-selected",Z._getAriaSelected())("id",Z.id)("tabIndex",Z._getTabIndex())("role",Z._getRole()),A.ekj("mat-mdc-tab-disabled",Z.disabled)("mdc-tab--active",Z.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",active:"active",id:"id"},exportAs:["matTabLink"],features:[A.qOj],attrs:ht,ngContentSelectors:yn,decls:5,vars:2,consts:[[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"]],template:function(k,Z){1&k&&(A.F$t(),A._UZ(0,"span",0)(1,"div",1),A.TgZ(2,"span",2)(3,"span",3),A.Hsn(4),A.qZA()()),2&k&&(A.xp6(1),A.Q6J("matRippleTrigger",Z.elementRef.nativeElement)("matRippleDisabled",Z.rippleDisabled))},dependencies:[g.wG],styles:['.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab-link.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab-link .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12}.mat-mdc-tab-link.mat-mdc-tab-disabled{pointer-events:none;opacity:.4}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}'],encapsulation:2,changeDetection:0}),Q})(),ln=(()=>{class Q{constructor(){this.id="mat-tab-nav-panel-"+Gn++}}return Q.\u0275fac=function(k){return new(k||Q)},Q.\u0275cmp=A.Xpm({type:Q,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-mdc-tab-nav-panel"],hostVars:2,hostBindings:function(k,Z){2&k&&A.uIk("aria-labelledby",Z._activeTabId)("id",Z.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],ngContentSelectors:yn,decls:1,vars:0,template:function(k,Z){1&k&&(A.F$t(),A.Hsn(0))},encapsulation:2,changeDetection:0}),Q})(),Qe=(()=>{class Q{}return Q.\u0275fac=function(k){return new(k||Q)},Q.\u0275mod=A.oAB({type:Q}),Q.\u0275inj=A.cJS({imports:[c.ez,g.BQ,fe.eL,g.si,O.Q8,Te.rt,g.BQ]}),Q})()},1481:(_n,Ye,D)=>{D.d(Ye,{Dx:()=>di,H7:()=>He,b2:()=>Zn,q6:()=>xe,se:()=>yn});var c=D(6895),A=D(4650);class g extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends g{static makeCurrent(){(0,c.HT)(new fe)}onAndCancel(Q,V,k){return Q.addEventListener(V,k,!1),()=>{Q.removeEventListener(V,k,!1)}}dispatchEvent(Q,V){Q.dispatchEvent(V)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,V){return(V=V||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,V){return"window"===V?window:"document"===V?Q:"body"===V?Q.body:null}getBaseHref(Q){const V=function Te(){return O=O||document.querySelector("base"),O?O.getAttribute("href"):null}();return null==V?null:function ue(Qe){Oe=Oe||document.createElement("a"),Oe.setAttribute("href",Qe);const Q=Oe.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(V)}resetBaseElement(){O=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,c.Mx)(document.cookie,Q)}}let Oe,O=null;const Ie=new A.OlP("TRANSITION_ID"),ae=[{provide:A.ip1,useFactory:function ie(Qe,Q,V){return()=>{V.get(A.CZH).donePromise.then(()=>{const k=(0,c.q)(),Z=Q.querySelectorAll(`style[ng-transition="${Qe}"]`);for(let be=0;be<Z.length;be++)k.remove(Z[be])})}},deps:[Ie,c.K0,A.zs3],multi:!0}];let Ae=(()=>{class Qe{build(){return new XMLHttpRequest}}return Qe.\u0275fac=function(V){return new(V||Qe)},Qe.\u0275prov=A.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const Ve=new A.OlP("EventManagerPlugins");let Ge=(()=>{class Qe{constructor(V,k){this._zone=k,this._eventNameToPlugin=new Map,V.forEach(Z=>{Z.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,k,Z){return this._findPluginFor(k).addEventListener(V,k,Z)}addGlobalEventListener(V,k,Z){return this._findPluginFor(k).addGlobalEventListener(V,k,Z)}getZone(){return this._zone}_findPluginFor(V){const k=this._eventNameToPlugin.get(V);if(k)return k;const Z=this._plugins;for(let be=0;be<Z.length;be++){const st=Z[be];if(st.supports(V))return this._eventNameToPlugin.set(V,st),st}throw new Error(`No event manager plugin found for event ${V}`)}}return Qe.\u0275fac=function(V){return new(V||Qe)(A.LFG(Ve),A.LFG(A.R0b))},Qe.\u0275prov=A.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class rt{constructor(Q){this._doc=Q}addGlobalEventListener(Q,V,k){const Z=(0,c.q)().getGlobalEventTarget(this._doc,Q);if(!Z)throw new Error(`Unsupported event target ${Z} for event ${V}`);return this.addEventListener(Z,V,k)}}let Fe=(()=>{class Qe{constructor(){this.usageCount=new Map}addStyles(V){for(const k of V)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(V){for(const k of V)0===this.changeUsageCount(k,-1)&&this.onStyleRemoved(k)}onStyleRemoved(V){}onStyleAdded(V){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(V,k){const Z=this.usageCount;let be=Z.get(V)??0;return be+=k,be>0?Z.set(V,be):Z.delete(V),be}ngOnDestroy(){for(const V of this.getAllStyles())this.onStyleRemoved(V);this.usageCount.clear()}}return Qe.\u0275fac=function(V){return new(V||Qe)},Qe.\u0275prov=A.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})(),tt=(()=>{class Qe extends Fe{constructor(V){super(),this.doc=V,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(V){for(const k of this.hostNodes)this.addStyleToHost(k,V)}onStyleRemoved(V){const k=this.styleRef;k.get(V)?.forEach(be=>be.remove()),k.delete(V)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const k of this.getAllStyles())this.addStyleToHost(V,k)}removeHost(V){this.hostNodes.delete(V)}addStyleToHost(V,k){const Z=this.doc.createElement("style");Z.textContent=k,V.appendChild(Z);const be=this.styleRef.get(k);be?be.push(Z):this.styleRef.set(k,[Z])}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}}return Qe.\u0275fac=function(V){return new(V||Qe)(A.LFG(c.K0))},Qe.\u0275prov=A.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const Re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lt=/%COMP%/g,Rt=new A.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function St(Qe,Q){return Q.flat(100).map(V=>V.replace(lt,Qe))}function bn(Qe){return Q=>{if("__ngUnwrap__"===Q)return Qe;!1===Qe(Q)&&(Q.preventDefault(),Q.returnValue=!1)}}let yn=(()=>{class Qe{constructor(V,k,Z,be){this.eventManager=V,this.sharedStylesHost=k,this.appId=Z,this.removeStylesOnCompDestory=be,this.rendererByCompId=new Map,this.defaultRenderer=new ui(V)}createRenderer(V,k){if(!V||!k)return this.defaultRenderer;const Z=this.getOrCreateRenderer(V,k);return Z instanceof gt?Z.applyToHost(V):Z instanceof kt&&Z.applyStyles(),Z}getOrCreateRenderer(V,k){const Z=this.rendererByCompId;let be=Z.get(k.id);if(!be){const st=this.eventManager,tn=this.sharedStylesHost,In=this.removeStylesOnCompDestory;switch(k.encapsulation){case A.ifc.Emulated:be=new gt(st,tn,k,this.appId,In);break;case A.ifc.ShadowDom:return new wt(st,tn,V,k);default:be=new kt(st,tn,k,In)}be.onDestroy=()=>Z.delete(k.id),Z.set(k.id,be)}return be}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Qe.\u0275fac=function(V){return new(V||Qe)(A.LFG(Ge),A.LFG(tt),A.LFG(A.AFp),A.LFG(Rt))},Qe.\u0275prov=A.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class ui{constructor(Q){this.eventManager=Q,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,V){return V?document.createElementNS(Re[V]||V,Q):document.createElement(Q)}createComment(Q){return document.createComment(Q)}createText(Q){return document.createTextNode(Q)}appendChild(Q,V){(Pt(Q)?Q.content:Q).appendChild(V)}insertBefore(Q,V,k){Q&&(Pt(Q)?Q.content:Q).insertBefore(V,k)}removeChild(Q,V){Q&&Q.removeChild(V)}selectRootElement(Q,V){let k="string"==typeof Q?document.querySelector(Q):Q;if(!k)throw new Error(`The selector "${Q}" did not match any elements`);return V||(k.textContent=""),k}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,V,k,Z){if(Z){V=Z+":"+V;const be=Re[Z];be?Q.setAttributeNS(be,V,k):Q.setAttribute(V,k)}else Q.setAttribute(V,k)}removeAttribute(Q,V,k){if(k){const Z=Re[k];Z?Q.removeAttributeNS(Z,V):Q.removeAttribute(`${k}:${V}`)}else Q.removeAttribute(V)}addClass(Q,V){Q.classList.add(V)}removeClass(Q,V){Q.classList.remove(V)}setStyle(Q,V,k,Z){Z&(A.JOm.DashCase|A.JOm.Important)?Q.style.setProperty(V,k,Z&A.JOm.Important?"important":""):Q.style[V]=k}removeStyle(Q,V,k){k&A.JOm.DashCase?Q.style.removeProperty(V):Q.style[V]=""}setProperty(Q,V,k){Q[V]=k}setValue(Q,V){Q.nodeValue=V}listen(Q,V,k){return"string"==typeof Q?this.eventManager.addGlobalEventListener(Q,V,bn(k)):this.eventManager.addEventListener(Q,V,bn(k))}}function Pt(Qe){return"TEMPLATE"===Qe.tagName&&void 0!==Qe.content}class wt extends ui{constructor(Q,V,k,Z){super(Q),this.sharedStylesHost=V,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const be=St(Z.id,Z.styles);for(const st of be){const tn=document.createElement("style");tn.textContent=st,this.shadowRoot.appendChild(tn)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}appendChild(Q,V){return super.appendChild(this.nodeOrShadowRoot(Q),V)}insertBefore(Q,V,k){return super.insertBefore(this.nodeOrShadowRoot(Q),V,k)}removeChild(Q,V){return super.removeChild(this.nodeOrShadowRoot(Q),V)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kt extends ui{constructor(Q,V,k,Z,be=k.id){super(Q),this.sharedStylesHost=V,this.removeStylesOnCompDestory=Z,this.rendererUsageCount=0,this.styles=St(be,k.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class gt extends kt{constructor(Q,V,k,Z,be){const st=Z+"-"+k.id;super(Q,V,k,be,st),this.contentAttr=function qe(Qe){return"_ngcontent-%COMP%".replace(lt,Qe)}(st),this.hostAttr=function un(Qe){return"_nghost-%COMP%".replace(lt,Qe)}(st)}applyToHost(Q){this.applyStyles(),this.setAttribute(Q,this.hostAttr,"")}createElement(Q,V){const k=super.createElement(Q,V);return super.setAttribute(k,this.contentAttr,""),k}}let vt=(()=>{class Qe extends rt{constructor(V){super(V)}supports(V){return!0}addEventListener(V,k,Z){return V.addEventListener(k,Z,!1),()=>this.removeEventListener(V,k,Z)}removeEventListener(V,k,Z){return V.removeEventListener(k,Z)}}return Qe.\u0275fac=function(V){return new(V||Qe)(A.LFG(c.K0))},Qe.\u0275prov=A.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const jt=["alt","control","meta","shift"],an={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vt={alt:Qe=>Qe.altKey,control:Qe=>Qe.ctrlKey,meta:Qe=>Qe.metaKey,shift:Qe=>Qe.shiftKey};let Je=(()=>{class Qe extends rt{constructor(V){super(V)}supports(V){return null!=Qe.parseEventName(V)}addEventListener(V,k,Z){const be=Qe.parseEventName(k),st=Qe.eventCallback(be.fullKey,Z,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(V,be.domEventName,st))}static parseEventName(V){const k=V.toLowerCase().split("."),Z=k.shift();if(0===k.length||"keydown"!==Z&&"keyup"!==Z)return null;const be=Qe._normalizeKey(k.pop());let st="",tn=k.indexOf("code");if(tn>-1&&(k.splice(tn,1),st="code."),jt.forEach(ei=>{const It=k.indexOf(ei);It>-1&&(k.splice(It,1),st+=ei+".")}),st+=be,0!=k.length||0===be.length)return null;const In={};return In.domEventName=Z,In.fullKey=st,In}static matchEventFullKeyCode(V,k){let Z=an[V.key]||V.key,be="";return k.indexOf("code.")>-1&&(Z=V.code,be="code."),!(null==Z||!Z)&&(Z=Z.toLowerCase()," "===Z?Z="space":"."===Z&&(Z="dot"),jt.forEach(st=>{st!==Z&&(0,Vt[st])(V)&&(be+=st+".")}),be+=Z,be===k)}static eventCallback(V,k,Z){return be=>{Qe.matchEventFullKeyCode(be,V)&&Z.runGuarded(()=>k(be))}}static _normalizeKey(V){return"esc"===V?"escape":V}}return Qe.\u0275fac=function(V){return new(V||Qe)(A.LFG(c.K0))},Qe.\u0275prov=A.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const xe=(0,A.eFA)(A._c5,"browser",[{provide:A.Lbi,useValue:c.bD},{provide:A.g9A,useValue:function Ue(){fe.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function yt(){return(0,A.RDi)(document),document},deps:[]}]),ct=new A.OlP(""),bt=[{provide:A.rWj,useClass:class re{addToWindow(Q){A.dqk.getAngularTestability=(k,Z=!0)=>{const be=Q.findTestabilityInTree(k,Z);if(null==be)throw new Error("Could not find testability for element.");return be},A.dqk.getAllAngularTestabilities=()=>Q.getAllTestabilities(),A.dqk.getAllAngularRootElements=()=>Q.getAllRootElements(),A.dqk.frameworkStabilizers||(A.dqk.frameworkStabilizers=[]),A.dqk.frameworkStabilizers.push(k=>{const Z=A.dqk.getAllAngularTestabilities();let be=Z.length,st=!1;const tn=function(In){st=st||In,be--,0==be&&k(st)};Z.forEach(function(In){In.whenStable(tn)})})}findTestabilityInTree(Q,V,k){return null==V?null:Q.getTestability(V)??(k?(0,c.q)().isShadowRoot(V)?this.findTestabilityInTree(Q,V.host,!0):this.findTestabilityInTree(Q,V.parentElement,!0):null)}},deps:[]},{provide:A.lri,useClass:A.dDg,deps:[A.R0b,A.eoX,A.rWj]},{provide:A.dDg,useClass:A.dDg,deps:[A.R0b,A.eoX,A.rWj]}],rn=[{provide:A.zSh,useValue:"root"},{provide:A.qLn,useFactory:function Zt(){return new A.qLn},deps:[]},{provide:Ve,useClass:vt,multi:!0,deps:[c.K0,A.R0b,A.Lbi]},{provide:Ve,useClass:Je,multi:!0,deps:[c.K0]},{provide:yn,useClass:yn,deps:[Ge,tt,A.AFp,Rt]},{provide:A.FYo,useExisting:yn},{provide:Fe,useExisting:tt},{provide:tt,useClass:tt,deps:[c.K0]},{provide:Ge,useClass:Ge,deps:[Ve,A.R0b]},{provide:c.JF,useClass:Ae,deps:[]},[]];let Zn=(()=>{class Qe{constructor(V){}static withServerTransition(V){return{ngModule:Qe,providers:[{provide:A.AFp,useValue:V.appId},{provide:Ie,useExisting:A.AFp},ae]}}}return Qe.\u0275fac=function(V){return new(V||Qe)(A.LFG(ct,12))},Qe.\u0275mod=A.oAB({type:Qe}),Qe.\u0275inj=A.cJS({providers:[...rn,...bt],imports:[c.ez,A.hGG]}),Qe})(),di=(()=>{class Qe{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}}return Qe.\u0275fac=function(V){return new(V||Qe)(A.LFG(c.K0))},Qe.\u0275prov=A.Yz7({token:Qe,factory:function(V){let k=null;return k=V?new V:function _i(){return new di((0,A.LFG)(c.K0))}(),k},providedIn:"root"}),Qe})();typeof window<"u"&&window;let He=(()=>{class Qe{}return Qe.\u0275fac=function(V){return new(V||Qe)},Qe.\u0275prov=A.Yz7({token:Qe,factory:function(V){let k=null;return k=V?new(V||Qe):A.LFG(Et),k},providedIn:"root"}),Qe})(),Et=(()=>{class Qe extends He{constructor(V){super(),this._doc=V}sanitize(V,k){if(null==k)return null;switch(V){case A.q3G.NONE:return k;case A.q3G.HTML:return(0,A.qzn)(k,"HTML")?(0,A.z3N)(k):(0,A.EiD)(this._doc,String(k)).toString();case A.q3G.STYLE:return(0,A.qzn)(k,"Style")?(0,A.z3N)(k):k;case A.q3G.SCRIPT:if((0,A.qzn)(k,"Script"))return(0,A.z3N)(k);throw new Error("unsafe value used in a script context");case A.q3G.URL:return(0,A.qzn)(k,"URL")?(0,A.z3N)(k):(0,A.mCW)(String(k));case A.q3G.RESOURCE_URL:if((0,A.qzn)(k,"ResourceURL"))return(0,A.z3N)(k);throw new Error(`unsafe value used in a resource URL context (see ${A.JZr})`);default:throw new Error(`Unexpected SecurityContext ${V} (see ${A.JZr})`)}}bypassSecurityTrustHtml(V){return(0,A.JVY)(V)}bypassSecurityTrustStyle(V){return(0,A.L6k)(V)}bypassSecurityTrustScript(V){return(0,A.eBb)(V)}bypassSecurityTrustUrl(V){return(0,A.LAX)(V)}bypassSecurityTrustResourceUrl(V){return(0,A.pB0)(V)}}return Qe.\u0275fac=function(V){return new(V||Qe)(A.LFG(c.K0))},Qe.\u0275prov=A.Yz7({token:Qe,factory:function(V){let k=null;return k=V?new V:function $t(Qe){return new Et(Qe.get(c.K0))}(A.LFG(A.zs3)),k},providedIn:"root"}),Qe})()},1779:(_n,Ye,D)=>{D.d(Ye,{gz:()=>yr,F0:()=>Or,rH:()=>bo,Bz:()=>ju,lC:()=>lo});var c=D(4650),A=D(8996),g=D(9646),fe=D(1135),O=D(6805),Te=D(9841),Oe=D(7272),ue=D(9751),Ie=D(8421);function ie(I){return new ue.y(S=>{(0,Ie.Xf)(I()).subscribe(S)})}var ae=D(9635),re=D(2843),Ae=D(515),Ve=D(727),Ge=D(4482),rt=D(5403);function Fe(){return(0,Ge.e)((I,S)=>{let E=null;I._refCount++;const F=(0,rt.x)(S,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(E=null);const W=I._connection,le=E;E=null,W&&(!le||W===le)&&W.unsubscribe(),S.unsubscribe()});I.subscribe(F),F.closed||(E=I.connect())})}class tt extends ue.y{constructor(S,E){super(),this.source=S,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Ge.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Ve.w0;const E=this.getSubject();S.add(this.source.subscribe((0,rt.x)(E,void 0,()=>{this._teardown(),E.complete()},F=>{this._teardown(),E.error(F)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Ve.w0.EMPTY)}return S}refCount(){return Fe()(this)}}var Re=D(7579),lt=D(6895),Se=D(4004),ge=D(3900),pe=D(5698),Ke=D(8675),_t=D(9300),Rt=D(5577),qe=D(590),un=D(4351),St=D(8505),bn=D(262),yn=D(5026);function ui(I){return I<=0?()=>Ae.E:(0,Ge.e)((S,E)=>{let F=[];S.subscribe((0,rt.x)(E,W=>{F.push(W),I<F.length&&F.shift()},()=>{for(const W of F)E.next(W);E.complete()},void 0,()=>{F=null}))})}var Ft=D(8068),Tt=D(6590),Pt=D(4671);function wt(I,S){const E=arguments.length>=2;return F=>F.pipe(I?(0,_t.h)((W,le)=>I(W,le,F)):Pt.y,ui(1),E?(0,Tt.d)(S):(0,Ft.T)(()=>new O.K))}var gt=D(9718),vt=D(8746),jt=D(8189),an=D(1481);const Vt="primary",Je=Symbol("RouteTitle");class wn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const E=this.params[S];return Array.isArray(E)?E[0]:E}return null}getAll(S){if(this.has(S)){const E=this.params[S];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function ht(I){return new wn(I)}function En(I,S,E){const F=E.path.split("/");if(F.length>I.length||"full"===E.pathMatch&&(S.hasChildren()||F.length<I.length))return null;const W={};for(let le=0;le<F.length;le++){const ve=F[le],At=I[le];if(ve.startsWith(":"))W[ve.substring(1)]=At;else if(ve!==At.path)return null}return{consumed:I.slice(0,F.length),posParams:W}}function mn(I,S){const E=I?Object.keys(I):void 0,F=S?Object.keys(S):void 0;if(!E||!F||E.length!=F.length)return!1;let W;for(let le=0;le<E.length;le++)if(W=E[le],!Ue(I[W],S[W]))return!1;return!0}function Ue(I,S){if(Array.isArray(I)&&Array.isArray(S)){if(I.length!==S.length)return!1;const E=[...I].sort(),F=[...S].sort();return E.every((W,le)=>F[le]===W)}return I===S}function Zt(I){return Array.prototype.concat.apply([],I)}function yt(I){return I.length>0?I[I.length-1]:null}function xe(I,S){for(const E in I)I.hasOwnProperty(E)&&S(I[E],E)}function ct(I){return(0,c.CqO)(I)?I:(0,c.QGY)(I)?(0,A.D)(Promise.resolve(I)):(0,g.of)(I)}const bt=!1,rn={exact:function Ii(I,S,E){if(!zt(I.segments,S.segments)||!Ln(I.segments,S.segments,E)||I.numberOfChildren!==S.numberOfChildren)return!1;for(const F in S.children)if(!I.children[F]||!Ii(I.children[F],S.children[F],E))return!1;return!0},subset:di},Zn={exact:function Qn(I,S){return mn(I,S)},subset:function _i(I,S){return Object.keys(S).length<=Object.keys(I).length&&Object.keys(S).every(E=>Ue(I[E],S[E]))},ignored:()=>!0};function hi(I,S,E){return rn[E.paths](I.root,S.root,E.matrixParams)&&Zn[E.queryParams](I.queryParams,S.queryParams)&&!("exact"===E.fragment&&I.fragment!==S.fragment)}function di(I,S,E){return Dn(I,S,S.segments,E)}function Dn(I,S,E,F){if(I.segments.length>E.length){const W=I.segments.slice(0,E.length);return!(!zt(W,E)||S.hasChildren()||!Ln(W,E,F))}if(I.segments.length===E.length){if(!zt(I.segments,E)||!Ln(I.segments,E,F))return!1;for(const W in S.children)if(!I.children[W]||!di(I.children[W],S.children[W],F))return!1;return!0}{const W=E.slice(0,I.segments.length),le=E.slice(I.segments.length);return!!(zt(I.segments,W)&&Ln(I.segments,W,F)&&I.children[Vt])&&Dn(I.children[Vt],S,le,F)}}function Ln(I,S,E){return S.every((F,W)=>Zn[E](I[W].parameters,F.parameters))}class Fi{constructor(S=new Dt([],{}),E={},F=null){this.root=S,this.queryParams=E,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return kn.serialize(this)}}class Dt{constructor(S,E){this.segments=S,this.children=E,this.parent=null,xe(E,(F,W)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ti(this)}}class Tn{constructor(S,E){this.path=S,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=ht(this.parameters)),this._parameterMap}toString(){return gi(this)}}function zt(I,S){return I.length===S.length&&I.every((E,F)=>E.path===S[F].path)}let Rn=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:function(){return new Mi},providedIn:"root"}),I})();class Mi{parse(S){const E=new V(S);return new Fi(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(S){const E=`/${Lt(S.root,!0)}`,F=function Ne(I){const S=Object.keys(I).map(E=>{const F=I[E];return Array.isArray(F)?F.map(W=>`${z(E)}=${z(W)}`).join("&"):`${z(E)}=${z(F)}`}).filter(E=>!!E);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${E}${F}${"string"==typeof S.fragment?`#${function ce(I){return encodeURI(I)}(S.fragment)}`:""}`}}const kn=new Mi;function ti(I){return I.segments.map(S=>gi(S)).join("/")}function Lt(I,S){if(!I.hasChildren())return ti(I);if(S){const E=I.children[Vt]?Lt(I.children[Vt],!1):"",F=[];return xe(I.children,(W,le)=>{le!==Vt&&F.push(`${le}:${Lt(W,!1)}`)}),F.length>0?`${E}(${F.join("//")})`:E}{const E=function $n(I,S){let E=[];return xe(I.children,(F,W)=>{W===Vt&&(E=E.concat(S(F,W)))}),xe(I.children,(F,W)=>{W!==Vt&&(E=E.concat(S(F,W)))}),E}(I,(F,W)=>W===Vt?[Lt(I.children[Vt],!1)]:[`${W}:${Lt(F,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Vt]?`${ti(I)}/${E[0]}`:`${ti(I)}/(${E.join("//")})`}}function Ee(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function z(I){return Ee(I).replace(/%3B/gi,";")}function nt(I){return Ee(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qt(I){return decodeURIComponent(I)}function Gn(I){return Qt(I.replace(/\+/g,"%20"))}function gi(I){return`${nt(I.path)}${function Le(I){return Object.keys(I).map(S=>`;${nt(S)}=${nt(I[S])}`).join("")}(I.parameters)}`}const He=/^[^\/()?;=#]+/;function $t(I){const S=I.match(He);return S?S[0]:""}const Et=/^[^=?&#]+/,Qe=/^[^&#]+/;class V{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(S.length>0||Object.keys(E).length>0)&&(F[Vt]=new Dt(S,E)),F}parseSegment(){const S=$t(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new c.vHH(4009,bt);return this.capture(S),new Tn(Qt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const E=$t(this.remaining);if(!E)return;this.capture(E);let F="";if(this.consumeOptional("=")){const W=$t(this.remaining);W&&(F=W,this.capture(F))}S[Qt(E)]=Qt(F)}parseQueryParam(S){const E=function ln(I){const S=I.match(Et);return S?S[0]:""}(this.remaining);if(!E)return;this.capture(E);let F="";if(this.consumeOptional("=")){const ve=function Q(I){const S=I.match(Qe);return S?S[0]:""}(this.remaining);ve&&(F=ve,this.capture(F))}const W=Gn(E),le=Gn(F);if(S.hasOwnProperty(W)){let ve=S[W];Array.isArray(ve)||(ve=[ve],S[W]=ve),ve.push(le)}else S[W]=le}parseParens(S){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=$t(this.remaining),W=this.remaining[F.length];if("/"!==W&&")"!==W&&";"!==W)throw new c.vHH(4010,bt);let le;F.indexOf(":")>-1?(le=F.slice(0,F.indexOf(":")),this.capture(le),this.capture(":")):S&&(le=Vt);const ve=this.parseChildren();E[le]=1===Object.keys(ve).length?ve[Vt]:new Dt([],ve),this.consumeOptional("//")}return E}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new c.vHH(4011,bt)}}function k(I){return I.segments.length>0?new Dt([],{[Vt]:I}):I}function Z(I){const S={};for(const F of Object.keys(I.children)){const le=Z(I.children[F]);(le.segments.length>0||le.hasChildren())&&(S[F]=le)}return function be(I){if(1===I.numberOfChildren&&I.children[Vt]){const S=I.children[Vt];return new Dt(I.segments.concat(S.segments),S.children)}return I}(new Dt(I.segments,S))}function st(I){return I instanceof Fi}const tn=!1;function Ot(I,S,E,F,W){if(0===E.length)return Wn(S.root,S.root,S.root,F,W);const le=function ft(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new zn(!0,0,I);let S=0,E=!1;const F=I.reduce((W,le,ve)=>{if("object"==typeof le&&null!=le){if(le.outlets){const At={};return xe(le.outlets,(hn,Kn)=>{At[Kn]="string"==typeof hn?hn.split("/"):hn}),[...W,{outlets:At}]}if(le.segmentPath)return[...W,le.segmentPath]}return"string"!=typeof le?[...W,le]:0===ve?(le.split("/").forEach((At,hn)=>{0==hn&&"."===At||(0==hn&&""===At?E=!0:".."===At?S++:""!=At&&W.push(At))}),W):[...W,le]},[]);return new zn(E,S,F)}(E);return le.toRoot()?Wn(S.root,S.root,new Dt([],{}),F,W):function ve(hn){const Kn=function Ce(I,S,E,F){if(I.isAbsolute)return new oe(S.root,!0,0);if(-1===F)return new oe(E,E===S.root,0);return function ot(I,S,E){let F=I,W=S,le=E;for(;le>W;){if(le-=W,F=F.parent,!F)throw new c.vHH(4005,tn&&"Invalid number of '../'");W=F.segments.length}return new oe(F,!1,W-le)}(E,F+(dn(I.commands[0])?0:1),I.numberOfDoubleDots)}(le,S,I.snapshot?._urlSegment,hn),qn=Kn.processChildren?we(Kn.segmentGroup,Kn.index,le.commands):ze(Kn.segmentGroup,Kn.index,le.commands);return Wn(S.root,Kn.segmentGroup,qn,F,W)}(I.snapshot?._lastPathIndex)}function dn(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Mn(I){return"object"==typeof I&&null!=I&&I.outlets}function Wn(I,S,E,F,W){let ve,le={};F&&xe(F,(hn,Kn)=>{le[Kn]=Array.isArray(hn)?hn.map(qn=>`${qn}`):`${hn}`}),ve=I===S?E:li(I,S,E);const At=k(Z(ve));return new Fi(At,le,W)}function li(I,S,E){const F={};return xe(I.children,(W,le)=>{F[le]=W===S?E:li(W,S,E)}),new Dt(I.segments,F)}class zn{constructor(S,E,F){if(this.isAbsolute=S,this.numberOfDoubleDots=E,this.commands=F,S&&F.length>0&&dn(F[0]))throw new c.vHH(4003,tn&&"Root segment cannot have matrix parameters");const W=F.find(Mn);if(W&&W!==yt(F))throw new c.vHH(4004,tn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oe{constructor(S,E,F){this.segmentGroup=S,this.processChildren=E,this.index=F}}function ze(I,S,E){if(I||(I=new Dt([],{})),0===I.segments.length&&I.hasChildren())return we(I,S,E);const F=function te(I,S,E){let F=0,W=S;const le={match:!1,pathIndex:0,commandIndex:0};for(;W<I.segments.length;){if(F>=E.length)return le;const ve=I.segments[W],At=E[F];if(Mn(At))break;const hn=`${At}`,Kn=F<E.length-1?E[F+1]:null;if(W>0&&void 0===hn)break;if(hn&&Kn&&"object"==typeof Kn&&void 0===Kn.outlets){if(!on(hn,Kn,ve))return le;F+=2}else{if(!on(hn,{},ve))return le;F++}W++}return{match:!0,pathIndex:W,commandIndex:F}}(I,S,E),W=E.slice(F.commandIndex);if(F.match&&F.pathIndex<I.segments.length){const le=new Dt(I.segments.slice(0,F.pathIndex),{});return le.children[Vt]=new Dt(I.segments.slice(F.pathIndex),I.children),we(le,0,W)}return F.match&&0===W.length?new Dt(I.segments,{}):F.match&&!I.hasChildren()?De(I,S,E):F.match?we(I,0,W):De(I,S,E)}function we(I,S,E){if(0===E.length)return new Dt(I.segments,{});{const F=function Nt(I){return Mn(I[0])?I[0].outlets:{[Vt]:I}}(E),W={};if(!F[Vt]&&I.children[Vt]&&1===I.numberOfChildren&&0===I.children[Vt].segments.length){const le=we(I.children[Vt],S,E);return new Dt(I.segments,le.children)}return xe(F,(le,ve)=>{"string"==typeof le&&(le=[le]),null!==le&&(W[ve]=ze(I.children[ve],S,le))}),xe(I.children,(le,ve)=>{void 0===F[ve]&&(W[ve]=le)}),new Dt(I.segments,W)}}function De(I,S,E){const F=I.segments.slice(0,S);let W=0;for(;W<E.length;){const le=E[W];if(Mn(le)){const hn=et(le.outlets);return new Dt(F,hn)}if(0===W&&dn(E[0])){F.push(new Tn(I.segments[S].path,Wt(E[0]))),W++;continue}const ve=Mn(le)?le.outlets[Vt]:`${le}`,At=W<E.length-1?E[W+1]:null;ve&&At&&dn(At)?(F.push(new Tn(ve,Wt(At))),W+=2):(F.push(new Tn(ve,{})),W++)}return new Dt(F,{})}function et(I){const S={};return xe(I,(E,F)=>{"string"==typeof E&&(E=[E]),null!==E&&(S[F]=De(new Dt([],{}),0,E))}),S}function Wt(I){const S={};return xe(I,(E,F)=>S[F]=`${E}`),S}function on(I,S,E){return I==E.path&&mn(S,E.parameters)}const Cn="imperative";class On{constructor(S,E){this.id=S,this.url=E}}class Nn extends On{constructor(S,E,F="imperative",W=null){super(S,E),this.type=0,this.navigationTrigger=F,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Si extends On{constructor(S,E,F){super(S,E),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends On{constructor(S,E,F,W){super(S,E),this.reason=F,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yn extends On{constructor(S,E,F,W){super(S,E),this.reason=F,this.code=W,this.type=16}}class Mr extends On{constructor(S,E,F,W){super(S,E),this.error=F,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dr extends On{constructor(S,E,F,W){super(S,E),this.urlAfterRedirects=F,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends On{constructor(S,E,F,W){super(S,E),this.urlAfterRedirects=F,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr extends On{constructor(S,E,F,W,le){super(S,E),this.urlAfterRedirects=F,this.state=W,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sr extends On{constructor(S,E,F,W){super(S,E),this.urlAfterRedirects=F,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lo extends On{constructor(S,E,F,W){super(S,E),this.urlAfterRedirects=F,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qr{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class So{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Br{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(S,E,F){this.routerEvent=S,this.position=E,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ut=(()=>{class I{createUrlTree(E,F,W,le,ve,At){return Ot(E||F.root,W,le,ve,At)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac}),I})(),gn=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:function(S){return Ut.\u0275fac(S)},providedIn:"root"}),I})();class ci{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const E=this.pathFromRoot(S);return E.length>1?E[E.length-2]:null}children(S){const E=yi(S,this._root);return E?E.children.map(F=>F.value):[]}firstChild(S){const E=yi(S,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(S){const E=fi(S,this._root);return E.length<2?[]:E[E.length-2].children.map(W=>W.value).filter(W=>W!==S)}pathFromRoot(S){return fi(S,this._root).map(E=>E.value)}}function yi(I,S){if(I===S.value)return S;for(const E of S.children){const F=yi(I,E);if(F)return F}return null}function fi(I,S){if(I===S.value)return[S];for(const E of S.children){const F=fi(I,E);if(F.length)return F.unshift(S),F}return[]}class Ci{constructor(S,E){this.value=S,this.children=E}toString(){return`TreeNode(${this.value})`}}function wr(I){const S={};return I&&I.children.forEach(E=>S[E.value.outlet]=E),S}class yo extends ci{constructor(S,E){super(S),this.snapshot=E,Zo(this,S)}toString(){return this.snapshot.toString()}}function tr(I,S){const E=function nr(I,S){const ve=new Yr([],{},{},"",{},Vt,S,null,I.root,-1,{});return new rs("",new Ci(ve,[]))}(I,S),F=new fe.X([new Tn("",{})]),W=new fe.X({}),le=new fe.X({}),ve=new fe.X({}),At=new fe.X(""),hn=new yr(F,W,ve,At,le,Vt,S,E.root);return hn.snapshot=E.root,new yo(new Ci(hn,[]),E)}class yr{constructor(S,E,F,W,le,ve,At,hn){this.url=S,this.params=E,this.queryParams=F,this.fragment=W,this.data=le,this.outlet=ve,this.component=At,this.title=this.data?.pipe((0,Se.U)(Kn=>Kn[Je]))??(0,g.of)(void 0),this._futureSnapshot=hn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(S=>ht(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(S=>ht(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ao(I,S="emptyOnly"){const E=I.pathFromRoot;let F=0;if("always"!==S)for(F=E.length-1;F>=1;){const W=E[F],le=E[F-1];if(W.routeConfig&&""===W.routeConfig.path)F--;else{if(le.component)break;F--}}return function Mo(I){return I.reduce((S,E)=>({params:{...S.params,...E.params},data:{...S.data,...E.data},resolve:{...E.data,...S.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(F))}class Yr{get title(){return this.data?.[Je]}constructor(S,E,F,W,le,ve,At,hn,Kn,qn,Hi){this.url=S,this.params=E,this.queryParams=F,this.fragment=W,this.data=le,this.outlet=ve,this.component=At,this.routeConfig=hn,this._urlSegment=Kn,this._lastPathIndex=qn,this._resolve=Hi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rs extends ci{constructor(S,E){super(E),this.url=S,Zo(this,E)}toString(){return Xs(this._root)}}function Zo(I,S){S.value._routerState=I,S.children.forEach(E=>Zo(I,E))}function Xs(I){const S=I.children.length>0?` { ${I.children.map(Xs).join(", ")} } `:"";return`${I.value}${S}`}function ds(I){if(I.snapshot){const S=I.snapshot,E=I._futureSnapshot;I.snapshot=E,mn(S.queryParams,E.queryParams)||I.queryParams.next(E.queryParams),S.fragment!==E.fragment&&I.fragment.next(E.fragment),mn(S.params,E.params)||I.params.next(E.params),function Bt(I,S){if(I.length!==S.length)return!1;for(let E=0;E<I.length;++E)if(!mn(I[E],S[E]))return!1;return!0}(S.url,E.url)||I.url.next(E.url),mn(S.data,E.data)||I.data.next(E.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function ma(I,S){const E=mn(I.params,S.params)&&function Mt(I,S){return zt(I,S)&&I.every((E,F)=>mn(E.parameters,S[F].parameters))}(I.url,S.url);return E&&!(!I.parent!=!S.parent)&&(!I.parent||ma(I.parent,S.parent))}function Qr(I,S,E){if(E&&I.shouldReuseRoute(S.value,E.value.snapshot)){const F=E.value;F._futureSnapshot=S.value;const W=function Ia(I,S,E){return S.children.map(F=>{for(const W of E.children)if(I.shouldReuseRoute(F.value,W.value.snapshot))return Qr(I,F,W);return Qr(I,F)})}(I,S,E);return new Ci(F,W)}{if(I.shouldAttach(S.value)){const le=I.retrieve(S.value);if(null!==le){const ve=le.route;return ve.value._futureSnapshot=S.value,ve.children=S.children.map(At=>Qr(I,At)),ve}}const F=function Bo(I){return new yr(new fe.X(I.url),new fe.X(I.params),new fe.X(I.queryParams),new fe.X(I.fragment),new fe.X(I.data),I.outlet,I.component,I)}(S.value),W=S.children.map(le=>Qr(I,le));return new Ci(F,W)}}const Ur="ngNavigationCancelingError";function Uo(I,S){const{redirectTo:E,navigationBehaviorOptions:F}=st(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,W=ps(!1,0,S);return W.url=E,W.navigationBehaviorOptions=F,W}function ps(I,S,E){const F=new Error("NavigationCancelingError: "+(I||""));return F[Ur]=!0,F.cancellationCode=S,E&&(F.url=E),F}function Vo(I){return Js(I)&&st(I.url)}function Js(I){return I&&I[Ur]}class Us{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ir,this.attachRef=null}}let Ir=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(E,F){const W=this.getOrCreateContext(E);W.outlet=F,this.contexts.set(E,W)}onChildOutletDestroyed(E){const F=this.getContext(E);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let F=this.getContext(E);return F||(F=new Us,this.contexts.set(E,F)),F}getContext(E){return this.contexts.get(E)||null}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const fo=!1;let lo=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Ir),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(E){if(E.name){const{firstChange:F,previousValue:W}=E.name;if(F)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,fo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,fo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,fo);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,F){this.activated=E,this._activatedRoute=F,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,F){if(this.isActivated)throw new c.vHH(4013,fo);this._activatedRoute=E;const W=this.location,ve=E.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,hn=new Ss(E,At,W.injector);if(F&&function os(I){return!!I.resolveComponentFactory}(F)){const Kn=F.resolveComponentFactory(ve);this.activated=W.createComponent(Kn,W.length,hn)}else this.activated=W.createComponent(ve,{index:W.length,injector:hn,environmentInjector:F??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275dir=c.lG2({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),I})();class Ss{constructor(S,E,F){this.route=S,this.childContexts=E,this.parent=F}get(S,E){return S===yr?this.route:S===Ir?this.childContexts:this.parent.get(S,E)}}let ss=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275cmp=c.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(E,F){1&E&&c._UZ(0,"router-outlet")},dependencies:[lo],encapsulation:2}),I})();function ms(I,S){return I.providers&&!I._injector&&(I._injector=(0,c.MMx)(I.providers,S,`Route: ${I.path}`)),I._injector??S}function vr(I){const S=I.children&&I.children.map(vr),E=S?{...I,children:S}:{...I};return!E.component&&!E.loadComponent&&(S||E.loadChildren)&&E.outlet&&E.outlet!==Vt&&(E.component=ss),E}function Cr(I){return I.outlet||Vt}function Ro(I,S){const E=I.filter(F=>Cr(F)===S);return E.push(...I.filter(F=>Cr(F)!==S)),E}function Di(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let S=I.parent;S;S=S.parent){const E=S.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Hs{constructor(S,E,F,W){this.routeReuseStrategy=S,this.futureState=E,this.currState=F,this.forwardEvent=W}activate(S){const E=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,F,S),ds(this.futureState.root),this.activateChildRoutes(E,F,S)}deactivateChildRoutes(S,E,F){const W=wr(E);S.children.forEach(le=>{const ve=le.value.outlet;this.deactivateRoutes(le,W[ve],F),delete W[ve]}),xe(W,(le,ve)=>{this.deactivateRouteAndItsChildren(le,F)})}deactivateRoutes(S,E,F){const W=S.value,le=E?E.value:null;if(W===le)if(W.component){const ve=F.getContext(W.outlet);ve&&this.deactivateChildRoutes(S,E,ve.children)}else this.deactivateChildRoutes(S,E,F);else le&&this.deactivateRouteAndItsChildren(E,F)}deactivateRouteAndItsChildren(S,E){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,E):this.deactivateRouteAndOutlet(S,E)}detachAndStoreRouteSubtree(S,E){const F=E.getContext(S.value.outlet),W=F&&S.value.component?F.children:E,le=wr(S);for(const ve of Object.keys(le))this.deactivateRouteAndItsChildren(le[ve],W);if(F&&F.outlet){const ve=F.outlet.detach(),At=F.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ve,route:S,contexts:At})}}deactivateRouteAndOutlet(S,E){const F=E.getContext(S.value.outlet),W=F&&S.value.component?F.children:E,le=wr(S);for(const ve of Object.keys(le))this.deactivateRouteAndItsChildren(le[ve],W);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(S,E,F){const W=wr(E);S.children.forEach(le=>{this.activateRoutes(le,W[le.value.outlet],F),this.forwardEvent(new Br(le.value.snapshot))}),S.children.length&&this.forwardEvent(new qi(S.value.snapshot))}activateRoutes(S,E,F){const W=S.value,le=E?E.value:null;if(ds(W),W===le)if(W.component){const ve=F.getOrCreateContext(W.outlet);this.activateChildRoutes(S,E,ve.children)}else this.activateChildRoutes(S,E,F);else if(W.component){const ve=F.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const At=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),ve.children.onOutletReAttached(At.contexts),ve.attachRef=At.componentRef,ve.route=At.route.value,ve.outlet&&ve.outlet.attach(At.componentRef,At.route.value),ds(At.route.value),this.activateChildRoutes(S,null,ve.children)}else{const At=Di(W.snapshot),hn=At?.get(c._Vd)??null;ve.attachRef=null,ve.route=W,ve.resolver=hn,ve.injector=At,ve.outlet&&ve.outlet.activateWith(W,ve.injector),this.activateChildRoutes(S,null,ve.children)}}else this.activateChildRoutes(S,null,F)}}class Nr{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class br{constructor(S,E){this.component=S,this.route=E}}function As(I,S,E){const F=I._root;return mr(F,S?S._root:null,E,[F.value])}function Ho(I,S){const E=Symbol(),F=S.get(I,E);return F===E?"function"!=typeof I||(0,c.Z0I)(I)?S.get(I):I:F}function mr(I,S,E,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const le=wr(S);return I.children.forEach(ve=>{(function Yo(I,S,E,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const le=I.value,ve=S?S.value:null,At=E?E.getContext(I.value.outlet):null;if(ve&&le.routeConfig===ve.routeConfig){const hn=function $r(I,S,E){if("function"==typeof E)return E(I,S);switch(E){case"pathParamsChange":return!zt(I.url,S.url);case"pathParamsOrQueryParamsChange":return!zt(I.url,S.url)||!mn(I.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ma(I,S)||!mn(I.queryParams,S.queryParams);default:return!ma(I,S)}}(ve,le,le.routeConfig.runGuardsAndResolvers);hn?W.canActivateChecks.push(new Nr(F)):(le.data=ve.data,le._resolvedData=ve._resolvedData),mr(I,S,le.component?At?At.children:null:E,F,W),hn&&At&&At.outlet&&At.outlet.isActivated&&W.canDeactivateChecks.push(new br(At.outlet.component,ve))}else ve&&mi(S,At,W),W.canActivateChecks.push(new Nr(F)),mr(I,null,le.component?At?At.children:null:E,F,W)})(ve,le[ve.value.outlet],E,F.concat([ve.value]),W),delete le[ve.value.outlet]}),xe(le,(ve,At)=>mi(ve,E.getContext(At),W)),W}function mi(I,S,E){const F=wr(I),W=I.value;xe(F,(le,ve)=>{mi(le,W.component?S?S.children.getContext(ve):null:S,E)}),E.canDeactivateChecks.push(new br(W.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,W))}function Qo(I){return"function"==typeof I}function pn(I){return I instanceof O.K||"EmptyError"===I?.name}const Xn=Symbol("INITIAL_VALUE");function vi(){return(0,ge.w)(I=>(0,Te.a)(I.map(S=>S.pipe((0,pe.q)(1),(0,Ke.O)(Xn)))).pipe((0,Se.U)(S=>{for(const E of S)if(!0!==E){if(E===Xn)return Xn;if(!1===E||E instanceof Fi)return E}return!0}),(0,_t.h)(S=>S!==Xn),(0,pe.q)(1)))}function Bi(I){return(0,ae.z)((0,St.b)(S=>{if(st(S))throw Uo(0,S)}),(0,Se.U)(S=>!0===S))}const Wr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jo(I,S,E,F,W){const le=Rr(I,S,E);return le.matched?function Hr(I,S,E,F){const W=S.canMatch;if(!W||0===W.length)return(0,g.of)(!0);const le=W.map(ve=>{const At=Ho(ve,I);return ct(function dt(I){return I&&Qo(I.canMatch)}(At)?At.canMatch(S,E):I.runInContext(()=>At(S,E)))});return(0,g.of)(le).pipe(vi(),Bi())}(F=ms(S,F),S,E).pipe((0,Se.U)(ve=>!0===ve?le:{...Wr})):(0,g.of)(le)}function Rr(I,S,E){if(""===S.path)return"full"===S.pathMatch&&(I.hasChildren()||E.length>0)?{...Wr}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const W=(S.matcher||En)(E,I,S);if(!W)return{...Wr};const le={};xe(W.posParams,(At,hn)=>{le[hn]=At.path});const ve=W.consumed.length>0?{...le,...W.consumed[W.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:W.consumed,remainingSegments:E.slice(W.consumed.length),parameters:ve,positionalParamSegments:W.posParams??{}}}function jr(I,S,E,F){if(E.length>0&&function ta(I,S,E){return E.some(F=>Kr(I,S,F)&&Cr(F)!==Vt)}(I,E,F)){const le=new Dt(S,function Rs(I,S,E,F){const W={};W[Vt]=F,F._sourceSegment=I,F._segmentIndexShift=S.length;for(const le of E)if(""===le.path&&Cr(le)!==Vt){const ve=new Dt([],{});ve._sourceSegment=I,ve._segmentIndexShift=S.length,W[Cr(le)]=ve}return W}(I,S,F,new Dt(E,I.children)));return le._sourceSegment=I,le._segmentIndexShift=S.length,{segmentGroup:le,slicedSegments:[]}}if(0===E.length&&function eo(I,S,E){return E.some(F=>Kr(I,S,F))}(I,E,F)){const le=new Dt(I.segments,function js(I,S,E,F,W){const le={};for(const ve of F)if(Kr(I,E,ve)&&!W[Cr(ve)]){const At=new Dt([],{});At._sourceSegment=I,At._segmentIndexShift=S.length,le[Cr(ve)]=At}return{...W,...le}}(I,S,E,F,I.children));return le._sourceSegment=I,le._segmentIndexShift=S.length,{segmentGroup:le,slicedSegments:E}}const W=new Dt(I.segments,I.children);return W._sourceSegment=I,W._segmentIndexShift=S.length,{segmentGroup:W,slicedSegments:E}}function Kr(I,S,E){return(!(I.hasChildren()||S.length>0)||"full"!==E.pathMatch)&&""===E.path}function na(I,S,E,F){return!!(Cr(I)===F||F!==Vt&&Kr(S,E,I))&&("**"===I.path||Rr(S,I,E).matched)}function Xi(I,S,E){return 0===S.length&&!I.children[E]}const ga=!1;class gs{constructor(S){this.segmentGroup=S||null}}class Po{constructor(S){this.urlTree=S}}function hs(I){return(0,re._)(new gs(I))}function zs(I){return(0,re._)(new Po(I))}class Ps{constructor(S,E,F,W,le){this.injector=S,this.configLoader=E,this.urlSerializer=F,this.urlTree=W,this.config=le,this.allowRedirects=!0}apply(){const S=jr(this.urlTree.root,[],[],this.config).segmentGroup,E=new Dt(S.segments,S.children);return this.expandSegmentGroup(this.injector,this.config,E,Vt).pipe((0,Se.U)(le=>this.createUrlTree(Z(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,bn.K)(le=>{if(le instanceof Po)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof gs?this.noMatchError(le):le}))}match(S){return this.expandSegmentGroup(this.injector,this.config,S.root,Vt).pipe((0,Se.U)(W=>this.createUrlTree(Z(W),S.queryParams,S.fragment))).pipe((0,bn.K)(W=>{throw W instanceof gs?this.noMatchError(W):W}))}noMatchError(S){return new c.vHH(4002,ga)}createUrlTree(S,E,F){const W=k(S);return new Fi(W,E,F)}expandSegmentGroup(S,E,F,W){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(S,E,F).pipe((0,Se.U)(le=>new Dt([],le))):this.expandSegment(S,F,E,F.segments,W,!0)}expandChildren(S,E,F){const W=[];for(const le of Object.keys(F.children))"primary"===le?W.unshift(le):W.push(le);return(0,A.D)(W).pipe((0,un.b)(le=>{const ve=F.children[le],At=Ro(E,le);return this.expandSegmentGroup(S,At,ve,le).pipe((0,Se.U)(hn=>({segment:hn,outlet:le})))}),(0,yn.R)((le,ve)=>(le[ve.outlet]=ve.segment,le),{}),wt())}expandSegment(S,E,F,W,le,ve){return(0,A.D)(F).pipe((0,un.b)(At=>this.expandSegmentAgainstRoute(S,E,F,At,W,le,ve).pipe((0,bn.K)(Kn=>{if(Kn instanceof gs)return(0,g.of)(null);throw Kn}))),(0,qe.P)(At=>!!At),(0,bn.K)((At,hn)=>{if(pn(At))return Xi(E,W,le)?(0,g.of)(new Dt([],{})):hs(E);throw At}))}expandSegmentAgainstRoute(S,E,F,W,le,ve,At){return na(W,E,le,ve)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(S,E,W,le,ve):At&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,E,F,W,le,ve):hs(E):hs(E)}expandSegmentAgainstRouteUsingRedirect(S,E,F,W,le,ve){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,F,W,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(S,E,F,W,le,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,E,F,W){const le=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?zs(le):this.lineralizeSegments(F,le).pipe((0,Rt.z)(ve=>{const At=new Dt(ve,{});return this.expandSegment(S,At,E,ve,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,E,F,W,le,ve){const{matched:At,consumedSegments:hn,remainingSegments:Kn,positionalParamSegments:qn}=Rr(E,W,le);if(!At)return hs(E);const Hi=this.applyRedirectCommands(hn,W.redirectTo,qn);return W.redirectTo.startsWith("/")?zs(Hi):this.lineralizeSegments(W,Hi).pipe((0,Rt.z)(Co=>this.expandSegment(S,E,F,Co.concat(Kn),ve,!1)))}matchSegmentAgainstRoute(S,E,F,W,le){return"**"===F.path?(S=ms(F,S),F.loadChildren?(F._loadedRoutes?(0,g.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(S,F)).pipe((0,Se.U)(At=>(F._loadedRoutes=At.routes,F._loadedInjector=At.injector,new Dt(W,{})))):(0,g.of)(new Dt(W,{}))):jo(E,F,W,S).pipe((0,ge.w)(({matched:ve,consumedSegments:At,remainingSegments:hn})=>ve?this.getChildConfig(S=F._injector??S,F,W).pipe((0,Rt.z)(qn=>{const Hi=qn.injector??S,Co=qn.routes,{segmentGroup:va,slicedSegments:Ns}=jr(E,At,hn,Co),aa=new Dt(va.segments,va.children);if(0===Ns.length&&aa.hasChildren())return this.expandChildren(Hi,Co,aa).pipe((0,Se.U)(fl=>new Dt(At,fl)));if(0===Co.length&&0===Ns.length)return(0,g.of)(new Dt(At,{}));const Es=Cr(F)===le;return this.expandSegment(Hi,aa,Co,Ns,Es?Vt:le,!0).pipe((0,Se.U)(ba=>new Dt(At.concat(ba.segments),ba.children)))})):hs(E)))}getChildConfig(S,E,F){return E.children?(0,g.of)({routes:E.children,injector:S}):E.loadChildren?void 0!==E._loadedRoutes?(0,g.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function fr(I,S,E,F){const W=S.canLoad;if(void 0===W||0===W.length)return(0,g.of)(!0);const le=W.map(ve=>{const At=Ho(ve,I);return ct(function _(I){return I&&Qo(I.canLoad)}(At)?At.canLoad(S,E):I.runInContext(()=>At(S,E)))});return(0,g.of)(le).pipe(vi(),Bi())}(S,E,F).pipe((0,Rt.z)(W=>W?this.configLoader.loadChildren(S,E).pipe((0,St.b)(le=>{E._loadedRoutes=le.routes,E._loadedInjector=le.injector})):function _a(I){return(0,re._)(ps(ga,3))}())):(0,g.of)({routes:[],injector:S})}lineralizeSegments(S,E){let F=[],W=E.root;for(;;){if(F=F.concat(W.segments),0===W.numberOfChildren)return(0,g.of)(F);if(W.numberOfChildren>1||!W.children[Vt])return S.redirectTo,(0,re._)(new c.vHH(4e3,ga));W=W.children[Vt]}}applyRedirectCommands(S,E,F){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),S,F)}applyRedirectCreateUrlTree(S,E,F,W){const le=this.createSegmentGroup(S,E.root,F,W);return new Fi(le,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(S,E){const F={};return xe(S,(W,le)=>{if("string"==typeof W&&W.startsWith(":")){const At=W.substring(1);F[le]=E[At]}else F[le]=W}),F}createSegmentGroup(S,E,F,W){const le=this.createSegments(S,E.segments,F,W);let ve={};return xe(E.children,(At,hn)=>{ve[hn]=this.createSegmentGroup(S,At,F,W)}),new Dt(le,ve)}createSegments(S,E,F,W){return E.map(le=>le.path.startsWith(":")?this.findPosParam(S,le,W):this.findOrReturn(le,F))}findPosParam(S,E,F){const W=F[E.path.substring(1)];if(!W)throw new c.vHH(4001,ga);return W}findOrReturn(S,E){let F=0;for(const W of E){if(W.path===S.path)return E.splice(F),W;F++}return S}}class Jo{}class $s{constructor(S,E,F,W,le,ve,At){this.injector=S,this.rootComponentType=E,this.config=F,this.urlTree=W,this.url=le,this.paramsInheritanceStrategy=ve,this.urlSerializer=At}recognize(){const S=jr(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Vt).pipe((0,Se.U)(E=>{if(null===E)return null;const F=new Yr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new Ci(F,E),le=new rs(this.url,W);return this.inheritParamsAndData(le._root),le}))}inheritParamsAndData(S){const E=S.value,F=ao(E,this.paramsInheritanceStrategy);E.params=Object.freeze(F.params),E.data=Object.freeze(F.data),S.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(S,E,F,W){return 0===F.segments.length&&F.hasChildren()?this.processChildren(S,E,F):this.processSegment(S,E,F,F.segments,W)}processChildren(S,E,F){return(0,A.D)(Object.keys(F.children)).pipe((0,un.b)(W=>{const le=F.children[W],ve=Ro(E,W);return this.processSegmentGroup(S,ve,le,W)}),(0,yn.R)((W,le)=>W&&le?(W.push(...le),W):null),function kt(I,S=!1){return(0,Ge.e)((E,F)=>{let W=0;E.subscribe((0,rt.x)(F,le=>{const ve=I(le,W++);(ve||S)&&F.next(le),!ve&&F.complete()}))})}(W=>null!==W),(0,Tt.d)(null),wt(),(0,Se.U)(W=>{if(null===W)return null;const le=ul(W);return function _s(I){I.sort((S,E)=>S.value.outlet===Vt?-1:E.value.outlet===Vt?1:S.value.outlet.localeCompare(E.value.outlet))}(le),le}))}processSegment(S,E,F,W,le){return(0,A.D)(E).pipe((0,un.b)(ve=>this.processSegmentAgainstRoute(ve._injector??S,ve,F,W,le)),(0,qe.P)(ve=>!!ve),(0,bn.K)(ve=>{if(pn(ve))return Xi(F,W,le)?(0,g.of)([]):(0,g.of)(null);throw ve}))}processSegmentAgainstRoute(S,E,F,W,le){if(E.redirectTo||!na(E,F,W,le))return(0,g.of)(null);let ve;if("**"===E.path){const At=W.length>0?yt(W).parameters:{},hn=Da(F)+W.length,Kn=new Yr(W,At,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X(E),Cr(E),E.component??E._loadedComponent??null,E,Ta(F),hn,H(E));ve=(0,g.of)({snapshot:Kn,consumedSegments:[],remainingSegments:[]})}else ve=jo(F,E,W,S).pipe((0,Se.U)(({matched:At,consumedSegments:hn,remainingSegments:Kn,parameters:qn})=>{if(!At)return null;const Hi=Da(F)+hn.length;return{snapshot:new Yr(hn,qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X(E),Cr(E),E.component??E._loadedComponent??null,E,Ta(F),Hi,H(E)),consumedSegments:hn,remainingSegments:Kn}}));return ve.pipe((0,ge.w)(At=>{if(null===At)return(0,g.of)(null);const{snapshot:hn,consumedSegments:Kn,remainingSegments:qn}=At;S=E._injector??S;const Hi=E._loadedInjector??S,Co=function ia(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(E),{segmentGroup:va,slicedSegments:Ns}=jr(F,Kn,qn,Co.filter(Es=>void 0===Es.redirectTo));if(0===Ns.length&&va.hasChildren())return this.processChildren(Hi,Co,va).pipe((0,Se.U)(Es=>null===Es?null:[new Ci(hn,Es)]));if(0===Co.length&&0===Ns.length)return(0,g.of)([new Ci(hn,[])]);const aa=Cr(E)===le;return this.processSegment(Hi,Co,va,Ns,aa?Vt:le).pipe((0,Se.U)(Es=>null===Es?null:[new Ci(hn,Es)]))}))}}function Wa(I){const S=I.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function ul(I){const S=[],E=new Set;for(const F of I){if(!Wa(F)){S.push(F);continue}const W=S.find(le=>F.value.routeConfig===le.value.routeConfig);void 0!==W?(W.children.push(...F.children),E.add(W)):S.push(F)}for(const F of E){const W=ul(F.children);S.push(new Ci(F.value,W))}return S.filter(F=>!E.has(F))}function Ta(I){let S=I;for(;S._sourceSegment;)S=S._sourceSegment;return S}function Da(I){let S=I,E=S._segmentIndexShift??0;for(;S._sourceSegment;)S=S._sourceSegment,E+=S._segmentIndexShift??0;return E-1}function X(I){return I.data||{}}function H(I){return I.resolve||{}}function Ui(I){return"string"==typeof I.title||null===I.title}function Li(I){return(0,ge.w)(S=>{const E=I(S);return E?(0,A.D)(E).pipe((0,Se.U)(()=>S)):(0,g.of)(S)})}const y=new c.OlP("ROUTES");let w=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,g.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const F=ct(E.loadComponent()).pipe((0,Se.U)(ne),(0,St.b)(le=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=le}),(0,vt.x)(()=>{this.componentLoaders.delete(E)})),W=new tt(F,()=>new Re.x).pipe(Fe());return this.componentLoaders.set(E,W),W}loadChildren(E,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,g.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const le=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Se.U)(At=>{this.onLoadEndListener&&this.onLoadEndListener(F);let hn,Kn,qn=!1;Array.isArray(At)?Kn=At:(hn=At.create(E).injector,Kn=Zt(hn.get(y,[],c.XFs.Self|c.XFs.Optional)));return{routes:Kn.map(vr),injector:hn}}),(0,vt.x)(()=>{this.childrenLoaders.delete(F)})),ve=new tt(le,()=>new Re.x).pipe(Fe());return this.childrenLoaders.set(F,ve),ve}loadModuleFactoryOrRoutes(E){return ct(E()).pipe((0,Se.U)(ne),(0,Rt.z)(F=>F instanceof c.YKP||Array.isArray(F)?(0,g.of)(F):(0,A.D)(this.compiler.compileModuleAsync(F))))}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ne(I){return function L(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let Me=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Re.x,this.configLoader=(0,c.f3M)(w),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Rn),this.rootContexts=(0,c.f3M)(Ir),this.navigationId=0,this.afterPreactivation=()=>(0,g.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=W=>this.events.next(new qr(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new oo(W))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:F})}setupNavigations(E){return this.transitions=new fe.X({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cn,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_t.h)(F=>0!==F.id),(0,Se.U)(F=>({...F,extractedUrl:E.urlHandlingStrategy.extract(F.rawUrl)})),(0,ge.w)(F=>{let W=!1,le=!1;return(0,g.of)(F).pipe((0,St.b)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ge.w)(ve=>{const At=E.browserUrlTree.toString(),hn=!E.navigated||ve.extractedUrl.toString()!==At||At!==E.currentUrlTree.toString();if(!hn&&"reload"!==(ve.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const qn="";return this.events.next(new Yn(ve.id,E.serializeUrl(F.rawUrl),qn,0)),E.rawUrlTree=ve.rawUrl,ve.resolve(null),Ae.E}if(E.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return Xe(ve.source)&&(E.browserUrlTree=ve.extractedUrl),(0,g.of)(ve).pipe((0,ge.w)(qn=>{const Hi=this.transitions?.getValue();return this.events.next(new Nn(qn.id,this.urlSerializer.serialize(qn.extractedUrl),qn.source,qn.restoredState)),Hi!==this.transitions?.getValue()?Ae.E:Promise.resolve(qn)}),function Oo(I,S,E,F){return(0,ge.w)(W=>function ya(I,S,E,F,W){return new Ps(I,S,E,F,W).apply()}(I,S,E,W.extractedUrl,F).pipe((0,Se.U)(le=>({...W,urlAfterRedirects:le}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),(0,St.b)(qn=>{this.currentNavigation={...this.currentNavigation,finalUrl:qn.urlAfterRedirects},F.urlAfterRedirects=qn.urlAfterRedirects}),function he(I,S,E,F,W){return(0,Rt.z)(le=>function es(I,S,E,F,W,le,ve="emptyOnly"){return new $s(I,S,E,F,W,ve,le).recognize().pipe((0,ge.w)(At=>null===At?function xr(I){return new ue.y(S=>S.error(I))}(new Jo):(0,g.of)(At)))}(I,S,E,le.urlAfterRedirects,F.serialize(le.urlAfterRedirects),F,W).pipe((0,Se.U)(ve=>({...le,targetSnapshot:ve}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,St.b)(qn=>{if(F.targetSnapshot=qn.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!qn.extras.skipLocationChange){const Co=E.urlHandlingStrategy.merge(qn.urlAfterRedirects,qn.rawUrl);E.setBrowserUrl(Co,qn)}E.browserUrlTree=qn.urlAfterRedirects}const Hi=new dr(qn.id,this.urlSerializer.serialize(qn.extractedUrl),this.urlSerializer.serialize(qn.urlAfterRedirects),qn.targetSnapshot);this.events.next(Hi)}));if(hn&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:qn,extractedUrl:Hi,source:Co,restoredState:va,extras:Ns}=ve,aa=new Nn(qn,this.urlSerializer.serialize(Hi),Co,va);this.events.next(aa);const Es=tr(Hi,this.rootComponentType).snapshot;return F={...ve,targetSnapshot:Es,urlAfterRedirects:Hi,extras:{...Ns,skipLocationChange:!1,replaceUrl:!1}},(0,g.of)(F)}{const qn="";return this.events.next(new Yn(ve.id,E.serializeUrl(F.extractedUrl),qn,1)),E.rawUrlTree=ve.rawUrl,ve.resolve(null),Ae.E}}),(0,St.b)(ve=>{const At=new zr(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(At)}),(0,Se.U)(ve=>F={...ve,guards:As(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)}),function ki(I,S){return(0,Rt.z)(E=>{const{targetSnapshot:F,currentSnapshot:W,guards:{canActivateChecks:le,canDeactivateChecks:ve}}=E;return 0===ve.length&&0===le.length?(0,g.of)({...E,guardsResult:!0}):function ir(I,S,E,F){return(0,A.D)(I).pipe((0,Rt.z)(W=>function Gr(I,S,E,F,W){const le=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,g.of)(!0);const ve=le.map(At=>{const hn=Di(S)??W,Kn=Ho(At,hn);return ct(function _e(I){return I&&Qo(I.canDeactivate)}(Kn)?Kn.canDeactivate(I,S,E,F):hn.runInContext(()=>Kn(I,S,E,F))).pipe((0,qe.P)())});return(0,g.of)(ve).pipe(vi())}(W.component,W.route,E,S,F)),(0,qe.P)(W=>!0!==W,!0))}(ve,F,W,I).pipe((0,Rt.z)(At=>At&&function v(I){return"boolean"==typeof I}(At)?function ar(I,S,E,F){return(0,A.D)(S).pipe((0,un.b)(W=>(0,Oe.z)(function co(I,S){return null!==I&&S&&S(new So(I)),(0,g.of)(!0)}(W.route.parent,F),function zi(I,S){return null!==I&&S&&S(new Wi(I)),(0,g.of)(!0)}(W.route,F),function as(I,S,E){const F=S[S.length-1],le=S.slice(0,S.length-1).reverse().map(ve=>function mo(I){const S=I.routeConfig?I.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:I,guards:S}:null}(ve)).filter(ve=>null!==ve).map(ve=>ie(()=>{const At=ve.guards.map(hn=>{const Kn=Di(ve.node)??E,qn=Ho(hn,Kn);return ct(function j(I){return I&&Qo(I.canActivateChild)}(qn)?qn.canActivateChild(F,I):Kn.runInContext(()=>qn(F,I))).pipe((0,qe.P)())});return(0,g.of)(At).pipe(vi())}));return(0,g.of)(le).pipe(vi())}(I,W.path,E),function lr(I,S,E){const F=S.routeConfig?S.routeConfig.canActivate:null;if(!F||0===F.length)return(0,g.of)(!0);const W=F.map(le=>ie(()=>{const ve=Di(S)??E,At=Ho(le,ve);return ct(function C(I){return I&&Qo(I.canActivate)}(At)?At.canActivate(S,I):ve.runInContext(()=>At(S,I))).pipe((0,qe.P)())}));return(0,g.of)(W).pipe(vi())}(I,W.route,E))),(0,qe.P)(W=>!0!==W,!0))}(F,le,I,S):(0,g.of)(At)),(0,Se.U)(At=>({...E,guardsResult:At})))})}(this.environmentInjector,ve=>this.events.next(ve)),(0,St.b)(ve=>{if(F.guardsResult=ve.guardsResult,st(ve.guardsResult))throw Uo(0,ve.guardsResult);const At=new hr(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.events.next(At)}),(0,_t.h)(ve=>!!ve.guardsResult||(E.restoreHistory(ve),this.cancelNavigationTransition(ve,"",3),!1)),Li(ve=>{if(ve.guards.canActivateChecks.length)return(0,g.of)(ve).pipe((0,St.b)(At=>{const hn=new sr(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(hn)}),(0,ge.w)(At=>{let hn=!1;return(0,g.of)(At).pipe(function je(I,S){return(0,Rt.z)(E=>{const{targetSnapshot:F,guards:{canActivateChecks:W}}=E;if(!W.length)return(0,g.of)(E);let le=0;return(0,A.D)(W).pipe((0,un.b)(ve=>function Jt(I,S,E,F){const W=I.routeConfig,le=I._resolve;return void 0!==W?.title&&!Ui(W)&&(le[Je]=W.title),function fn(I,S,E,F){const W=function Bn(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===W.length)return(0,g.of)({});const le={};return(0,A.D)(W).pipe((0,Rt.z)(ve=>function pr(I,S,E,F){const W=Di(S)??F,le=Ho(I,W);return ct(le.resolve?le.resolve(S,E):W.runInContext(()=>le(S,E)))}(I[ve],S,E,F).pipe((0,qe.P)(),(0,St.b)(At=>{le[ve]=At}))),ui(1),(0,gt.h)(le),(0,bn.K)(ve=>pn(ve)?Ae.E:(0,re._)(ve)))}(le,I,S,F).pipe((0,Se.U)(ve=>(I._resolvedData=ve,I.data=ao(I,E).resolve,W&&Ui(W)&&(I.data[Je]=W.title),null)))}(ve.route,F,I,S)),(0,St.b)(()=>le++),ui(1),(0,Rt.z)(ve=>le===W.length?(0,g.of)(E):Ae.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,St.b)({next:()=>hn=!0,complete:()=>{hn||(E.restoreHistory(At),this.cancelNavigationTransition(At,"",2))}}))}),(0,St.b)(At=>{const hn=new Lo(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(hn)}))}),Li(ve=>{const At=hn=>{const Kn=[];hn.routeConfig?.loadComponent&&!hn.routeConfig._loadedComponent&&Kn.push(this.configLoader.loadComponent(hn.routeConfig).pipe((0,St.b)(qn=>{hn.component=qn}),(0,Se.U)(()=>{})));for(const qn of hn.children)Kn.push(...At(qn));return Kn};return(0,Te.a)(At(ve.targetSnapshot.root)).pipe((0,Tt.d)(),(0,pe.q)(1))}),Li(()=>this.afterPreactivation()),(0,Se.U)(ve=>{const At=function Ao(I,S,E){const F=Qr(I,S._root,E?E._root:void 0);return new yo(F,S)}(E.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return F={...ve,targetRouterState:At}}),(0,St.b)(ve=>{E.currentUrlTree=ve.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(ve.urlAfterRedirects,ve.rawUrl),E.routerState=ve.targetRouterState,"deferred"===E.urlUpdateStrategy&&(ve.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,ve),E.browserUrlTree=ve.urlAfterRedirects)}),((I,S,E)=>(0,Se.U)(F=>(new Hs(S,F.targetRouterState,F.currentRouterState,E).activate(I),F)))(this.rootContexts,E.routeReuseStrategy,ve=>this.events.next(ve)),(0,pe.q)(1),(0,St.b)({next:ve=>{W=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new Si(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(ve.targetRouterState.snapshot),ve.resolve(!0)},complete:()=>{W=!0}}),(0,vt.x)(()=>{W||le||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),(0,bn.K)(ve=>{if(le=!0,Js(ve)){Vo(ve)||(E.navigated=!0,E.restoreHistory(F,!0));const At=new Er(F.id,this.urlSerializer.serialize(F.extractedUrl),ve.message,ve.cancellationCode);if(this.events.next(At),Vo(ve)){const hn=E.urlHandlingStrategy.merge(ve.url,E.rawUrlTree),Kn={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||Xe(F.source)};E.scheduleNavigation(hn,Cn,null,Kn,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{E.restoreHistory(F,!0);const At=new Mr(F.id,this.urlSerializer.serialize(F.extractedUrl),ve,F.targetSnapshot??void 0);this.events.next(At);try{F.resolve(E.errorHandler(ve))}catch(hn){F.reject(hn)}}return Ae.E}))}))}cancelNavigationTransition(E,F,W){const le=new Er(E.id,this.urlSerializer.serialize(E.extractedUrl),F,W);this.events.next(le),E.resolve(!1)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Xe(I){return I!==Cn}let $e=(()=>{class I{buildTitle(E){let F,W=E.root;for(;void 0!==W;)F=this.getResolvedTitleForRoute(W)??F,W=W.children.find(le=>le.outlet===Vt);return F}getResolvedTitleForRoute(E){return E.data[Je]}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:function(){return(0,c.f3M)(ke)},providedIn:"root"}),I})(),ke=(()=>{class I extends $e{constructor(E){super(),this.title=E}updateTitle(E){const F=this.buildTitle(E);void 0!==F&&this.title.setTitle(F)}}return I.\u0275fac=function(E){return new(E||I)(c.LFG(an.Dx))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Ct=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:function(){return(0,c.f3M)(Vi)},providedIn:"root"}),I})();class An{shouldDetach(S){return!1}store(S,E){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,E){return S.routeConfig===E.routeConfig}}let Vi=(()=>{class I extends An{}return I.\u0275fac=function(){let S;return function(F){return(S||(S=c.n5z(I)))(F||I)}}(),I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const bi=new c.OlP("",{providedIn:"root",factory:()=>({})});let Ai=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:function(){return(0,c.f3M)(or)},providedIn:"root"}),I})(),or=(()=>{class I{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,F){return E}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Pr(I){throw I}function vo(I,S,E){return S.parse("/")}const ro={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Os={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(bi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Pr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Ai),this.routeReuseStrategy=(0,c.f3M)(Ct),this.urlCreationStrategy=(0,c.f3M)(gn),this.titleStrategy=(0,c.f3M)($e),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Zt((0,c.f3M)(y,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(Me),this.urlSerializer=(0,c.f3M)(Rn),this.location=(0,c.f3M)(lt.Ye),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId??0},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cn,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const F="popstate"===E.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,F,E.state)},0)}))}navigateToSyncWithBrowser(E,F,W){const le={replaceUrl:!0},ve=W?.navigationId?W:null;if(W){const hn={...W};delete hn.navigationId,delete hn.\u0275routerPageId,0!==Object.keys(hn).length&&(le.state=hn)}const At=this.parseUrl(E);this.scheduleNavigation(At,F,ve,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(vr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,F={}){const{relativeTo:W,queryParams:le,fragment:ve,queryParamsHandling:At,preserveFragment:hn}=F,Kn=hn?this.currentUrlTree.fragment:ve;let qn=null;switch(At){case"merge":qn={...this.currentUrlTree.queryParams,...le};break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=le||null}return null!==qn&&(qn=this.removeEmptyProps(qn)),this.urlCreationStrategy.createUrlTree(W,this.routerState,this.currentUrlTree,E,qn,Kn??null)}navigateByUrl(E,F={skipLocationChange:!1}){const W=st(E)?E:this.parseUrl(E),le=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(le,Cn,null,F)}navigate(E,F={skipLocationChange:!1}){return function Fn(I){for(let S=0;S<I.length;S++){const E=I[S];if(null==E)throw new c.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,F),F)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let F;try{F=this.urlSerializer.parse(E)}catch(W){F=this.malformedUriErrorHandler(W,this.urlSerializer,E)}return F}isActive(E,F){let W;if(W=!0===F?{...ro}:!1===F?{...Os}:F,st(E))return hi(this.currentUrlTree,E,W);const le=this.parseUrl(E);return hi(this.currentUrlTree,le,W)}removeEmptyProps(E){return Object.keys(E).reduce((F,W)=>{const le=E[W];return null!=le&&(F[W]=le),F},{})}scheduleNavigation(E,F,W,le,ve){if(this.disposed)return Promise.resolve(!1);let At,hn,Kn,qn;return ve?(At=ve.resolve,hn=ve.reject,Kn=ve.promise):Kn=new Promise((Hi,Co)=>{At=Hi,hn=Co}),qn="computed"===this.canceledNavigationResolution?W&&W.\u0275routerPageId?W.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:qn,source:F,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:le,resolve:At,reject:hn,promise:Kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kn.catch(Hi=>Promise.reject(Hi))}setBrowserUrl(E,F){const W=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(W)||F.extras.replaceUrl){const ve={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(W,"",ve)}else{const le={...F.extras.state,...this.generateNgRouterState(F.id,F.targetPageId)};this.location.go(W,"",le)}}restoreHistory(E,F=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-(this.browserPageId??this.currentPageId);0!==le?this.location.historyGo(le):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===le&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,F){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:F}:{navigationId:E}}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),bo=(()=>{class I{constructor(E,F,W,le,ve,At){this.router=E,this.route=F,this.tabIndexAttribute=W,this.renderer=le,this.el=ve,this.locationStrategy=At,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Re.x;const hn=ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===hn||"area"===hn,this.isAnchorElement?this.subscription=E.events.subscribe(Kn=>{Kn instanceof Si&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,c.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,c.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,c.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,F,W,le,ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||F||W||le||ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,F){const W=this.renderer,le=this.el.nativeElement;null!==F?W.setAttribute(le,E,F):W.removeAttribute(le,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(E){return new(E||I)(c.Y36(Or),c.Y36(yr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(lt.S$))},I.\u0275dir=c.lG2({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,F){1&E&&c.NdJ("click",function(le){return F.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&E&&c.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),I})();class ri{}let Sa=(()=>{class I{constructor(E,F,W,le,ve){this.router=E,this.injector=W,this.preloadingStrategy=le,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,_t.h)(E=>E instanceof Si),(0,un.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,F){const W=[];for(const le of F){le.providers&&!le._injector&&(le._injector=(0,c.MMx)(le.providers,E,`Route: ${le.path}`));const ve=le._injector??E,At=le._loadedInjector??ve;(le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent)&&W.push(this.preloadConfig(ve,le)),(le.children||le._loadedRoutes)&&W.push(this.processRoutes(At,le.children??le._loadedRoutes))}return(0,A.D)(W).pipe((0,jt.J)())}preloadConfig(E,F){return this.preloadingStrategy.preload(F,()=>{let W;W=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(E,F):(0,g.of)(null);const le=W.pipe((0,Rt.z)(ve=>null===ve?(0,g.of)(void 0):(F._loadedRoutes=ve.routes,F._loadedInjector=ve.injector,this.processRoutes(ve.injector??E,ve.routes))));if(F.loadComponent&&!F._loadedComponent){const ve=this.loader.loadComponent(F);return(0,A.D)([le,ve]).pipe((0,jt.J)())}return le})}}return I.\u0275fac=function(E){return new(E||I)(c.LFG(Or),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(ri),c.LFG(w))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Ri=new c.OlP("");let en=(()=>{class I{constructor(E,F,W,le,ve={}){this.urlSerializer=E,this.transitions=F,this.viewportScroller=W,this.zone=le,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Nn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Si&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof so&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new so(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return I.\u0275fac=function(E){c.$Z()},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac}),I})();var Jn=(()=>((Jn=Jn||{})[Jn.COMPLETE=0]="COMPLETE",Jn[Jn.FAILED=1]="FAILED",Jn[Jn.REDIRECTING=2]="REDIRECTING",Jn))();const Ti=!1;function kr(I,S){return{\u0275kind:I,\u0275providers:S}}const ko=new c.OlP("",{providedIn:"root",factory:()=>!1});function Fr(){const I=(0,c.f3M)(c.zs3);return S=>{const E=I.get(c.z2F);if(S!==E.components[0])return;const F=I.get(Or),W=I.get(ts);1===I.get(zo)&&F.initialNavigation(),I.get(dl,null,c.XFs.Optional)?.setUpPreloading(),I.get(Ri,null,c.XFs.Optional)?.init(),F.resetRootComponentType(E.componentTypes[0]),W.closed||(W.next(),W.complete(),W.unsubscribe())}}const ts=new c.OlP(Ti?"bootstrap done indicator":"",{factory:()=>new Re.x}),zo=new c.OlP(Ti?"initial navigation":"",{providedIn:"root",factory:()=>1});function qt(){let I=[];return I=Ti?[{provide:c.Xts,multi:!0,useFactory:()=>{const S=(0,c.f3M)(Or);return()=>S.events.subscribe(E=>{console.group?.(`Router Event: ${E.constructor.name}`),console.log(function mt(I){if(!("type"in I))return`Unknown Router Event: ${I.constructor.name}`;switch(I.type){case 14:return`ActivationEnd(path: '${I.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${I.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${I.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${I.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state}, shouldActivate: ${I.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 2:return`NavigationCancel(id: ${I.id}, url: '${I.url}')`;case 16:return`NavigationSkipped(id: ${I.id}, url: '${I.url}')`;case 1:return`NavigationEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${I.id}, url: '${I.url}', error: ${I.error})`;case 0:return`NavigationStart(id: ${I.id}, url: '${I.url}')`;case 6:return`ResolveEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 5:return`ResolveStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 10:return`RouteConfigLoadEnd(path: ${I.route.path})`;case 9:return`RouteConfigLoadStart(path: ${I.route.path})`;case 4:return`RoutesRecognized(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 15:return`Scroll(anchor: '${I.anchor}', position: '${I.position?`${I.position[0]}, ${I.position[1]}`:null}')`}}(E)),console.log(E),console.groupEnd?.()})}}]:[],kr(1,I)}const dl=new c.OlP(Ti?"router preloader":"");function Qi(I){return kr(0,[{provide:dl,useExisting:Sa},{provide:ri,useExisting:I}])}const Ka=!1,Al=new c.OlP(Ka?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),vc=[lt.Ye,{provide:Rn,useClass:Mi},Or,Ir,{provide:yr,useFactory:function wo(I){return I.routerState.root},deps:[Or]},w,Ka?{provide:ko,useValue:!0}:[]];function Ua(){return new c.PXZ("Router",Or)}let ju=(()=>{class I{constructor(E){}static forRoot(E,F){return{ngModule:I,providers:[vc,Ka&&F?.enableTracing?qt().\u0275providers:[],{provide:y,multi:!0,useValue:E},{provide:Al,useFactory:Za,deps:[[Or,new c.FiY,new c.tp0]]},{provide:bi,useValue:F||{}},F?.useHash?{provide:lt.S$,useClass:lt.Do}:{provide:lt.S$,useClass:lt.b0},{provide:Ri,useFactory:()=>{const I=(0,c.f3M)(lt.EM),S=(0,c.f3M)(c.R0b),E=(0,c.f3M)(bi),F=(0,c.f3M)(Me),W=(0,c.f3M)(Rn);return E.scrollOffset&&I.setOffset(E.scrollOffset),new en(W,F,I,S,E)}},F?.preloadingStrategy?Qi(F.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Ua},F?.initialNavigation?No(F):[],[{provide:bs,useFactory:Fr},{provide:c.tb,multi:!0,useExisting:bs}]]}}static forChild(E){return{ngModule:I,providers:[{provide:y,multi:!0,useValue:E}]}}}return I.\u0275fac=function(E){return new(E||I)(c.LFG(Al,8))},I.\u0275mod=c.oAB({type:I}),I.\u0275inj=c.cJS({imports:[ss]}),I})();function Za(I){if(Ka&&I)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function No(I){return["disabled"===I.initialNavigation?kr(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const S=(0,c.f3M)(Or);return()=>{S.setUpLocationChangeListener()}}},{provide:zo,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?kr(2,[{provide:zo,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:S=>{const E=S.get(lt.V_,Promise.resolve());return()=>E.then(()=>new Promise(F=>{const W=S.get(Or),le=S.get(ts);(function wi(I,S){I.events.pipe((0,_t.h)(E=>E instanceof Si||E instanceof Er||E instanceof Mr||E instanceof Yn),(0,Se.U)(E=>E instanceof Si||E instanceof Yn?Jn.COMPLETE:E instanceof Er&&(0===E.code||1===E.code)?Jn.REDIRECTING:Jn.FAILED),(0,_t.h)(E=>E!==Jn.REDIRECTING),(0,pe.q)(1)).subscribe(()=>{S()})})(W,()=>{F(!0)}),S.get(Me).afterPreactivation=()=>(F(!0),le.closed?(0,g.of)(void 0):le),W.initialNavigation()}))}}]).\u0275providers:[]]}const bs=new c.OlP(Ka?"Router Initializer":"")},3942:(_n,Ye,D)=>{D.d(Ye,{Z:()=>Ge});var c=D(2090),A=D(4859),g=D(6881),fe=D(1877);class O{constructor(Fe,tt){this._delegate=Fe,this.firebase=tt,(0,g._addComponent)(Fe,new A.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(Fe,tt=g._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(Fe);return!lt.isInitialized()&&"EXPLICIT"===(null===(Re=lt.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:tt})}_removeServiceInstance(Fe,tt=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(tt)}_addComponent(Fe){(0,g._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,g._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function Ie(){const rt=function ue(rt){const Fe={},tt={__esModule:!0,initializeApp:function Se(_t,Rt={}){const qe=g.initializeApp(_t,Rt);if((0,c.r3)(Fe,qe.name))return Fe[qe.name];const un=new rt(qe,tt);return Fe[qe.name]=un,un},app:lt,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function pe(_t){const Rt=_t.name,qe=Rt.replace("-compat","");if(g._registerComponent(_t)&&"PUBLIC"===_t.type){const un=(St=lt())=>{if("function"!=typeof St[qe])throw Oe.create("invalid-app-argument",{appName:Rt});return St[qe]()};void 0!==_t.serviceProps&&(0,c.ZB)(un,_t.serviceProps),tt[qe]=un,rt.prototype[qe]=function(...St){return this._getService.bind(this,Rt).apply(this,_t.multipleInstances?St:[])}}return"PUBLIC"===_t.type?tt[qe]:null},removeApp:function Re(_t){delete Fe[_t]},useAsService:function Ke(_t,Rt){return"serverAuth"===Rt?null:Rt},modularAPIs:g}};function lt(_t){if(!(0,c.r3)(Fe,_t=_t||g._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:_t});return Fe[_t]}return tt.default=tt,Object.defineProperty(tt,"apps",{get:function ge(){return Object.keys(Fe).map(_t=>Fe[_t])}}),lt.App=rt,tt}(O);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function Fe(tt){(0,c.ZB)(rt,tt)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),rt}(),ae=new fe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=ie;!function Ve(rt){(0,g.registerVersion)("@firebase/app-compat","0.2.11",rt)}()},6881:(_n,Ye,D)=>{D.r(Ye),D.d(Ye,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>Mi,_DEFAULT_ENTRY_NAME:()=>Qn,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>Ln,_apps:()=>_i,_clearComponents:()=>Mt,_components:()=>di,_getProvider:()=>Dt,_registerComponent:()=>Fi,_removeServiceInstance:()=>Tn,deleteApp:()=>Ee,getApp:()=>ti,getApps:()=>Lt,initializeApp:()=>kn,onLog:()=>nt,registerVersion:()=>ce,setLogLevel:()=>Qt});var c=D(5861),A=D(4859),g=D(1877),fe=D(2090);const O=(It,Ot)=>Ot.some(dn=>It instanceof dn);let Te,Oe;const ie=new WeakMap,ae=new WeakMap,re=new WeakMap,Ae=new WeakMap,Ve=new WeakMap;let Fe={get(It,Ot,dn){if(It instanceof IDBTransaction){if("done"===Ot)return ae.get(It);if("objectStoreNames"===Ot)return It.objectStoreNames||re.get(It);if("store"===Ot)return dn.objectStoreNames[1]?void 0:dn.objectStore(dn.objectStoreNames[0])}return Se(It[Ot])},set:(It,Ot,dn)=>(It[Ot]=dn,!0),has:(It,Ot)=>It instanceof IDBTransaction&&("done"===Ot||"store"===Ot)||Ot in It};function lt(It){return"function"==typeof It?function Re(It){return It!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(It)?function(...Ot){return It.apply(ge(this),Ot),Se(ie.get(this))}:function(...Ot){return Se(It.apply(ge(this),Ot))}:function(Ot,...dn){const Mn=It.call(ge(this),Ot,...dn);return re.set(Mn,Ot.sort?Ot.sort():[Ot]),Se(Mn)}}(It):(It instanceof IDBTransaction&&function rt(It){if(ae.has(It))return;const Ot=new Promise((dn,Mn)=>{const Wn=()=>{It.removeEventListener("complete",li),It.removeEventListener("error",zn),It.removeEventListener("abort",zn)},li=()=>{dn(),Wn()},zn=()=>{Mn(It.error||new DOMException("AbortError","AbortError")),Wn()};It.addEventListener("complete",li),It.addEventListener("error",zn),It.addEventListener("abort",zn)});ae.set(It,Ot)}(It),O(It,function ue(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(It,Fe):It)}function Se(It){if(It instanceof IDBRequest)return function Ge(It){const Ot=new Promise((dn,Mn)=>{const Wn=()=>{It.removeEventListener("success",li),It.removeEventListener("error",zn)},li=()=>{dn(Se(It.result)),Wn()},zn=()=>{Mn(It.error),Wn()};It.addEventListener("success",li),It.addEventListener("error",zn)});return Ot.then(dn=>{dn instanceof IDBCursor&&ie.set(dn,It)}).catch(()=>{}),Ve.set(Ot,It),Ot}(It);if(Ae.has(It))return Ae.get(It);const Ot=lt(It);return Ot!==It&&(Ae.set(It,Ot),Ve.set(Ot,It)),Ot}const ge=It=>Ve.get(It),_t=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],qe=new Map;function un(It,Ot){if(!(It instanceof IDBDatabase)||Ot in It||"string"!=typeof Ot)return;if(qe.get(Ot))return qe.get(Ot);const dn=Ot.replace(/FromIndex$/,""),Mn=Ot!==dn,Wn=Rt.includes(dn);if(!(dn in(Mn?IDBIndex:IDBObjectStore).prototype)||!Wn&&!_t.includes(dn))return;const li=function(){var zn=(0,c.Z)(function*(ft,...oe){const ee=this.transaction(ft,Wn?"readwrite":"readonly");let Ce=ee.store;return Mn&&(Ce=Ce.index(oe.shift())),(yield Promise.all([Ce[dn](...oe),Wn&&ee.done]))[0]});return function(oe){return zn.apply(this,arguments)}}();return qe.set(Ot,li),li}!function tt(It){Fe=It(Fe)}(It=>({...It,get:(Ot,dn,Mn)=>un(Ot,dn)||It.get(Ot,dn,Mn),has:(Ot,dn)=>!!un(Ot,dn)||It.has(Ot,dn)}));class St{constructor(Ot){this.container=Ot}getPlatformInfoString(){return this.container.getProviders().map(dn=>{if(function bn(It){return"VERSION"===It.getComponent()?.type}(dn)){const Mn=dn.getImmediate();return`${Mn.library}/${Mn.version}`}return null}).filter(dn=>dn).join(" ")}}const yn="@firebase/app",Ft=new g.Yd("@firebase/app"),Qn="[DEFAULT]",Ii={[yn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_i=new Map,di=new Map;function Dn(It,Ot){try{It.container.addComponent(Ot)}catch(dn){Ft.debug(`Component ${Ot.name} failed to register with FirebaseApp ${It.name}`,dn)}}function Ln(It,Ot){It.container.addOrOverwriteComponent(Ot)}function Fi(It){const Ot=It.name;if(di.has(Ot))return Ft.debug(`There were multiple attempts to register component ${Ot}.`),!1;di.set(Ot,It);for(const dn of _i.values())Dn(dn,It);return!0}function Dt(It,Ot){const dn=It.container.getProvider("heartbeat").getImmediate({optional:!0});return dn&&dn.triggerHeartbeat(),It.container.getProvider(Ot)}function Tn(It,Ot,dn=Qn){Dt(It,Ot).clearInstance(dn)}function Mt(){di.clear()}const $n=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(Ot,dn,Mn){this._isDeleted=!1,this._options=Object.assign({},Ot),this._config=Object.assign({},dn),this._name=dn.name,this._automaticDataCollectionEnabled=dn.automaticDataCollectionEnabled,this._container=Mn,this.container.addComponent(new A.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ot){this._isDeleted=Ot}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const Mi="9.22.1";function kn(It,Ot={}){let dn=It;"object"!=typeof Ot&&(Ot={name:Ot});const Mn=Object.assign({name:Qn,automaticDataCollectionEnabled:!1},Ot),Wn=Mn.name;if("string"!=typeof Wn||!Wn)throw $n.create("bad-app-name",{appName:String(Wn)});if(dn||(dn=(0,fe.aH)()),!dn)throw $n.create("no-options");const li=_i.get(Wn);if(li){if((0,fe.vZ)(dn,li.options)&&(0,fe.vZ)(Mn,li.config))return li;throw $n.create("duplicate-app",{appName:Wn})}const zn=new A.H0(Wn);for(const oe of di.values())zn.addComponent(oe);const ft=new Rn(dn,Mn,zn);return _i.set(Wn,ft),ft}function ti(It=Qn){const Ot=_i.get(It);if(!Ot&&It===Qn&&(0,fe.aH)())return kn();if(!Ot)throw $n.create("no-app",{appName:It});return Ot}function Lt(){return Array.from(_i.values())}function Ee(It){return z.apply(this,arguments)}function z(){return(z=(0,c.Z)(function*(It){const Ot=It.name;_i.has(Ot)&&(_i.delete(Ot),yield Promise.all(It.container.getProviders().map(dn=>dn.delete())),It.isDeleted=!0)})).apply(this,arguments)}function ce(It,Ot,dn){var Mn;let Wn=null!==(Mn=Ii[It])&&void 0!==Mn?Mn:It;dn&&(Wn+=`-${dn}`);const li=Wn.match(/\s|\//),zn=Ot.match(/\s|\//);if(li||zn){const ft=[`Unable to register library "${Wn}" with version "${Ot}":`];return li&&ft.push(`library name "${Wn}" contains illegal characters (whitespace or "/")`),li&&zn&&ft.push("and"),zn&&ft.push(`version name "${Ot}" contains illegal characters (whitespace or "/")`),void Ft.warn(ft.join(" "))}Fi(new A.wA(`${Wn}-version`,()=>({library:Wn,version:Ot}),"VERSION"))}function nt(It,Ot){if(null!==It&&"function"!=typeof It)throw $n.create("invalid-log-argument");(0,g.Am)(It,Ot)}function Qt(It){(0,g.Ub)(It)}const Gn="firebase-heartbeat-database",gi=1,Le="firebase-heartbeat-store";let Ne=null;function He(){return Ne||(Ne=function pe(It,Ot,{blocked:dn,upgrade:Mn,blocking:Wn,terminated:li}={}){const zn=indexedDB.open(It,Ot),ft=Se(zn);return Mn&&zn.addEventListener("upgradeneeded",oe=>{Mn(Se(zn.result),oe.oldVersion,oe.newVersion,Se(zn.transaction),oe)}),dn&&zn.addEventListener("blocked",oe=>dn(oe.oldVersion,oe.newVersion,oe)),ft.then(oe=>{li&&oe.addEventListener("close",()=>li()),Wn&&oe.addEventListener("versionchange",ee=>Wn(ee.oldVersion,ee.newVersion,ee))}).catch(()=>{}),ft}(Gn,gi,{upgrade:(It,Ot)=>{0===Ot&&It.createObjectStore(Le)}}).catch(It=>{throw $n.create("idb-open",{originalErrorMessage:It.message})})),Ne}function Et(){return(Et=(0,c.Z)(function*(It){try{return yield(yield He()).transaction(Le).objectStore(Le).get(Q(It))}catch(Ot){if(Ot instanceof fe.ZR)Ft.warn(Ot.message);else{const dn=$n.create("idb-get",{originalErrorMessage:Ot?.message});Ft.warn(dn.message)}}})).apply(this,arguments)}function ln(It,Ot){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(It,Ot){try{const Mn=(yield He()).transaction(Le,"readwrite");yield Mn.objectStore(Le).put(Ot,Q(It)),yield Mn.done}catch(dn){if(dn instanceof fe.ZR)Ft.warn(dn.message);else{const Mn=$n.create("idb-set",{originalErrorMessage:dn?.message});Ft.warn(Mn.message)}}})).apply(this,arguments)}function Q(It){return`${It.name}!${It.options.appId}`}class Z{constructor(Ot){this.container=Ot,this._heartbeatsCache=null;const dn=this.container.getProvider("app").getImmediate();this._storage=new tn(dn),this._heartbeatsCachePromise=this._storage.read().then(Mn=>(this._heartbeatsCache=Mn,Mn))}triggerHeartbeat(){var Ot=this;return(0,c.Z)(function*(){const Mn=Ot.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wn=be();if(null===Ot._heartbeatsCache&&(Ot._heartbeatsCache=yield Ot._heartbeatsCachePromise),Ot._heartbeatsCache.lastSentHeartbeatDate!==Wn&&!Ot._heartbeatsCache.heartbeats.some(li=>li.date===Wn))return Ot._heartbeatsCache.heartbeats.push({date:Wn,agent:Mn}),Ot._heartbeatsCache.heartbeats=Ot._heartbeatsCache.heartbeats.filter(li=>{const zn=new Date(li.date).valueOf();return Date.now()-zn<=2592e6}),Ot._storage.overwrite(Ot._heartbeatsCache)})()}getHeartbeatsHeader(){var Ot=this;return(0,c.Z)(function*(){if(null===Ot._heartbeatsCache&&(yield Ot._heartbeatsCachePromise),null===Ot._heartbeatsCache||0===Ot._heartbeatsCache.heartbeats.length)return"";const dn=be(),{heartbeatsToSend:Mn,unsentEntries:Wn}=function st(It,Ot=1024){const dn=[];let Mn=It.slice();for(const Wn of It){const li=dn.find(zn=>zn.agent===Wn.agent);if(li){if(li.dates.push(Wn.date),In(dn)>Ot){li.dates.pop();break}}else if(dn.push({agent:Wn.agent,dates:[Wn.date]}),In(dn)>Ot){dn.pop();break}Mn=Mn.slice(1)}return{heartbeatsToSend:dn,unsentEntries:Mn}}(Ot._heartbeatsCache.heartbeats),li=(0,fe.L)(JSON.stringify({version:2,heartbeats:Mn}));return Ot._heartbeatsCache.lastSentHeartbeatDate=dn,Wn.length>0?(Ot._heartbeatsCache.heartbeats=Wn,yield Ot._storage.overwrite(Ot._heartbeatsCache)):(Ot._heartbeatsCache.heartbeats=[],Ot._storage.overwrite(Ot._heartbeatsCache)),li})()}}function be(){return(new Date).toISOString().substring(0,10)}class tn{constructor(Ot){this.app=Ot,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ot=this;return(0,c.Z)(function*(){return(yield Ot._canUseIndexedDBPromise)&&(yield function $t(It){return Et.apply(this,arguments)}(Ot.app))||{heartbeats:[]}})()}overwrite(Ot){var dn=this;return(0,c.Z)(function*(){var Mn;if(yield dn._canUseIndexedDBPromise){const li=yield dn.read();return ln(dn.app,{lastSentHeartbeatDate:null!==(Mn=Ot.lastSentHeartbeatDate)&&void 0!==Mn?Mn:li.lastSentHeartbeatDate,heartbeats:Ot.heartbeats})}})()}add(Ot){var dn=this;return(0,c.Z)(function*(){var Mn;if(yield dn._canUseIndexedDBPromise){const li=yield dn.read();return ln(dn.app,{lastSentHeartbeatDate:null!==(Mn=Ot.lastSentHeartbeatDate)&&void 0!==Mn?Mn:li.lastSentHeartbeatDate,heartbeats:[...li.heartbeats,...Ot.heartbeats]})}})()}}function In(It){return(0,fe.L)(JSON.stringify({version:2,heartbeats:It})).length}!function ei(It){Fi(new A.wA("platform-logger",Ot=>new St(Ot),"PRIVATE")),Fi(new A.wA("heartbeat",Ot=>new Z(Ot),"PRIVATE")),ce(yn,"0.9.11",It),ce(yn,"0.9.11","esm2017"),ce("fire-js","")}("")},4859:(_n,Ye,D)=>{D.d(Ye,{H0:()=>ue,wA:()=>g});var c=D(5861),A=D(2090);class g{constructor(ie,ae,re){this.name=ie,this.instanceFactory=ae,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const fe="[DEFAULT]";class O{constructor(ie,ae){this.name=ie,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const ae=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(ae)){const re=new A.BH;if(this.instancesDeferred.set(ae,re),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:ae});Ae&&re.resolve(Ae)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ie){var ae;const re=this.normalizeInstanceIdentifier(ie?.identifier),Ae=null!==(ae=ie?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ve){if(Ae)return null;throw Ve}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function Oe(Ie){return"EAGER"===Ie.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ae,re]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(ae);try{const Ve=this.getOrInitializeService({instanceIdentifier:Ae});re.resolve(Ve)}catch{}}}}clearInstance(ie=fe){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,c.Z)(function*(){const ae=Array.from(ie.instances.values());yield Promise.all([...ae.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...ae.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=fe){return this.instances.has(ie)}getOptions(ie=fe){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:ae={}}=ie,re=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:re,options:ae});for(const[Ve,Ge]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ve)&&Ge.resolve(Ae);return Ae}onInit(ie,ae){var re;const Ae=this.normalizeInstanceIdentifier(ae),Ve=null!==(re=this.onInitCallbacks.get(Ae))&&void 0!==re?re:new Set;Ve.add(ie),this.onInitCallbacks.set(Ae,Ve);const Ge=this.instances.get(Ae);return Ge&&ie(Ge,Ae),()=>{Ve.delete(ie)}}invokeOnInitCallbacks(ie,ae){const re=this.onInitCallbacks.get(ae);if(re)for(const Ae of re)try{Ae(ie,ae)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:ae={}}){let re=this.instances.get(ie);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ie,Ie===fe?void 0:Ie),options:ae}),this.instances.set(ie,re),this.instancesOptions.set(ie,ae),this.invokeOnInitCallbacks(re,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,re)}catch{}var Ie;return re||null}normalizeInstanceIdentifier(ie=fe){return this.component?this.component.multipleInstances?ie:fe:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const ae=this.getProvider(ie.name);if(ae.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);ae.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const ae=new O(ie,this);return this.providers.set(ie,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:(_n,Ye,D)=>{D.d(Ye,{Am:()=>Ie,Ub:()=>ue,Yd:()=>Oe,in:()=>A});const c=[];var A=(()=>{return(ie=A||(A={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",A;var ie})();const g={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},fe=A.INFO,O={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},Te=(ie,ae,...re)=>{if(ae<ie.logLevel)return;const Ae=(new Date).toISOString(),Ve=O[ae];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Ve](`[${Ae}]  ${ie.name}:`,...re)};class Oe{constructor(ae){this.name=ae,this._logLevel=fe,this._logHandler=Te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in A))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?g[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...ae),this._logHandler(this,A.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...ae),this._logHandler(this,A.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,A.INFO,...ae),this._logHandler(this,A.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,A.WARN,...ae),this._logHandler(this,A.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,A.ERROR,...ae),this._logHandler(this,A.ERROR,...ae)}}function ue(ie){c.forEach(ae=>{ae.setLogLevel(ie)})}function Ie(ie,ae){for(const re of c){let Ae=null;ae&&ae.level&&(Ae=g[ae.level]),re.userLogHandler=null===ie?null:(Ve,Ge,...rt)=>{const Fe=rt.map(tt=>{if(null==tt)return null;if("string"==typeof tt)return tt;if("number"==typeof tt||"boolean"==typeof tt)return tt.toString();if(tt instanceof Error)return tt.message;try{return JSON.stringify(tt)}catch{return null}}).filter(tt=>tt).join(" ");Ge>=(Ae??Ve.logLevel)&&ie({level:A[Ge].toLowerCase(),message:Fe,args:rt,type:Ve.name})}}}},259:(_n,Ye,D)=>{D.d(Ye,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=D(6881);(0,c.registerVersion)("firebase","9.22.1","app")},9260:(_n,Ye,D)=>{D.d(Ye,{Z:()=>c.Z});var c=D(3942);c.Z.registerVersion("firebase","9.22.1","app-compat")},2644:(_n,Ye,D)=>{D.r(Ye);var c=D(5861),A=D(3942),g=D(2090),fe=D(6881),O=D(655),Te=D(1877),Oe=D(4859);const Ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re_EMAIL_SIGNIN="EMAIL_SIGNIN",re_PASSWORD_RESET="PASSWORD_RESET",re_RECOVER_EMAIL="RECOVER_EMAIL",re_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",re_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",re_VERIFY_EMAIL="VERIFY_EMAIL";const Ge=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},rt=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new Te.Yd("@firebase/auth");function Se(b,...h){Re.logLevel<=Te.in.ERROR&&Re.error(`Auth (${fe.SDK_VERSION}): ${b}`,...h)}function ge(b,...h){throw Rt(b,...h)}function pe(b,...h){return Rt(b,...h)}function Ke(b,h,f){const T=Object.assign(Object.assign({},rt()),{[h]:f});return new g.LL("auth","Firebase",T).create(h,{appName:b.name})}function _t(b,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&ge(b,"argument-error"),Ke(b,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rt(b,...h){if("string"!=typeof b){const f=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=b.name),b._errorFactory.create(f,...T)}return Fe.create(b,...h)}function qe(b,h,...f){if(!b)throw Rt(h,...f)}function un(b){const h="INTERNAL ASSERTION FAILED: "+b;throw Se(h),new Error(h)}function St(b,h){b||un(h)}function bn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function yn(){return"http:"===ui()||"https:"===ui()}function ui(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Pt{constructor(h,f){this.shortDelay=h,this.longDelay=f,St(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function Ft(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yn()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wt(b,h){St(b.emulator,"Emulator should always be set here");const{url:f}=b.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class kt{static initialize(h,f,T){this.fetchImpl=h,f&&(this.headersImpl=f),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vt=new Pt(3e4,6e4);function jt(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}function an(b,h,f,T){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(b,h,f,T,K={}){return Je(b,K,(0,c.Z)(function*(){let de={},it={};T&&("GET"===h?it=T:de={body:JSON.stringify(T)});const Gt=(0,g.xO)(Object.assign({key:b.config.apiKey},it)).slice(1),xn=yield b._getAdditionalHeaders();return xn["Content-Type"]="application/json",b.languageCode&&(xn["X-Firebase-Locale"]=b.languageCode),kt.fetch()(Bt(b,b.config.apiHost,f,Gt),Object.assign({method:h,headers:xn,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function Je(b,h,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(b,h,f){b._canInitEmulator=!1;const T=Object.assign(Object.assign({},gt),h);try{const K=new mn(b),de=yield Promise.race([f(),K.promise]);K.clearNetworkTimeout();const it=yield de.json();if("needConfirmation"in it)throw Ue(b,"account-exists-with-different-credential",it);if(de.ok&&!("errorMessage"in it))return it;{const Gt=de.ok?it.errorMessage:it.error.message,[xn,jn]=Gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xn)throw Ue(b,"credential-already-in-use",it);if("EMAIL_EXISTS"===xn)throw Ue(b,"email-already-in-use",it);if("USER_DISABLED"===xn)throw Ue(b,"user-disabled",it);const oi=T[xn]||xn.toLowerCase().replace(/[_\s]+/g,"-");if(jn)throw Ke(b,oi,jn);ge(b,oi)}}catch(K){if(K instanceof g.ZR)throw K;ge(b,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function ht(b,h,f,T){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(b,h,f,T,K={}){const de=yield an(b,h,f,T,K);return"mfaPendingCredential"in de&&ge(b,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Bt(b,h,f,T){const K=`${h}${f}?${T}`;return b.config.emulator?wt(b.config,K):`${b.config.apiScheme}://${K}`}class mn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,T)=>{this.timer=setTimeout(()=>T(pe(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ue(b,h,f){const T={appName:b.name};f.email&&(T.email=f.email),f.phoneNumber&&(T.phoneNumber=f.phoneNumber);const K=pe(b,h,T);return K.customData._tokenResponse=f,K}function yt(){return(yt=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function xe(){return(xe=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function rn(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Qn(){return(Qn=(0,c.Z)(function*(b,h=!1){const f=(0,g.m9)(b),T=yield f.getIdToken(h),K=_i(T);qe(K&&K.exp&&K.auth_time&&K.iat,f.auth,"internal-error");const de="object"==typeof K.firebase?K.firebase:void 0,it=de?.sign_in_provider;return{claims:K,token:T,authTime:rn(Ii(K.auth_time)),issuedAtTime:rn(Ii(K.iat)),expirationTime:rn(Ii(K.exp)),signInProvider:it||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function Ii(b){return 1e3*Number(b)}function _i(b){const[h,f,T]=b.split(".");if(void 0===h||void 0===f||void 0===T)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,g.tV)(f);return K?JSON.parse(K):(Se("Failed to decode base64 JWT payload"),null)}catch(K){return Se("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Dn(b,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(b,h,f=!1){if(f)return h;try{return yield h}catch(T){throw T instanceof g.ZR&&function Fi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(T)&&b.auth.currentUser===b&&(yield b.auth.signOut()),T}})).apply(this,arguments)}class Dt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const K=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,c.Z)(function*(){yield f.iteration()}),T)}iteration(){var h=this;return(0,c.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class Tn{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mt(b){return zt.apply(this,arguments)}function zt(){return zt=(0,c.Z)(function*(b){var h;const f=b.auth,T=yield b.getIdToken(),K=yield Dn(b,function ct(b,h){return bt.apply(this,arguments)}(f,{idToken:T}));qe(K?.users.length,f,"internal-error");const de=K.users[0];b._notifyReloadListener(de);const it=null!==(h=de.providerUserInfo)&&void 0!==h&&h.length?function kn(b){return b.map(h=>{var{providerId:f}=h,T=(0,O._T)(h,["providerId"]);return{providerId:f,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(de.providerUserInfo):[],Gt=function Mi(b,h){return[...b.filter(T=>!h.some(K=>K.providerId===T.providerId)),...h]}(b.providerData,it),oi=!!b.isAnonymous&&!(b.email&&de.passwordHash||Gt?.length),ai={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:Gt,metadata:new Tn(de.createdAt,de.lastLoginAt),isAnonymous:oi};Object.assign(b,ai)}),zt.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(b){const h=(0,g.m9)(b);yield Mt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(b,h){const f=yield Je(b,{},(0,c.Z)(function*(){const T=(0,g.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:K,apiKey:de}=b.config,it=Bt(b,K,"/v1/token",`key=${de}`),Gt=yield b._getAdditionalHeaders();return Gt["Content-Type"]="application/x-www-form-urlencoded",kt.fetch()(it,{method:"POST",headers:Gt,body:T})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){qe(h.idToken,"internal-error"),qe(typeof h.idToken<"u","internal-error"),qe(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function di(b){const h=_i(b);return qe(h,"internal-error"),qe(typeof h.exp<"u","internal-error"),qe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var T=this;return(0,c.Z)(function*(){return qe(!T.accessToken||T.refreshToken,h,"user-token-expired"),f||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var T=this;return(0,c.Z)(function*(){const{accessToken:K,refreshToken:de,expiresIn:it}=yield function ti(b,h){return Lt.apply(this,arguments)}(h,f);T.updateTokensAndExpiration(K,de,Number(it))})()}updateTokensAndExpiration(h,f,T){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,f){const{refreshToken:T,accessToken:K,expirationTime:de}=f,it=new Ee;return T&&(qe("string"==typeof T,"internal-error",{appName:h}),it.refreshToken=T),K&&(qe("string"==typeof K,"internal-error",{appName:h}),it.accessToken=K),de&&(qe("number"==typeof de,"internal-error",{appName:h}),it.expirationTime=de),it}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return un("not implemented")}}function z(b,h){qe("string"==typeof b||typeof b>"u","internal-error",{appName:h})}class ce{constructor(h){var{uid:f,auth:T,stsTokenManager:K}=h,de=(0,O._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=T,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new Tn(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,c.Z)(function*(){const T=yield Dn(f,f.stsTokenManager.getToken(f.auth,h));return qe(T,f.auth,"internal-error"),f.accessToken!==T&&(f.accessToken=T,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),T})()}getIdTokenResult(h){return function hi(b){return Qn.apply(this,arguments)}(this,h)}reload(){return function $n(b){return Rn.apply(this,arguments)}(this)}_assign(h){this!==h&&(qe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new ce(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var T=this;return(0,c.Z)(function*(){let K=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),K=!0),f&&(yield Mt(T)),yield T.auth._persistUserIfCurrent(T),K&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,c.Z)(function*(){const f=yield h.getIdToken();return yield Dn(h,function Zt(b,h){return yt.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var T,K,de,it,Gt,xn,jn,oi;const ai=null!==(T=f.displayName)&&void 0!==T?T:void 0,Zr=null!==(K=f.email)&&void 0!==K?K:void 0,Cs=null!==(de=f.phoneNumber)&&void 0!==de?de:void 0,ac=null!==(it=f.photoURL)&&void 0!==it?it:void 0,ef=null!==(Gt=f.tenantId)&&void 0!==Gt?Gt:void 0,Ki=null!==(xn=f._redirectEventId)&&void 0!==xn?xn:void 0,vu=null!==(jn=f.createdAt)&&void 0!==jn?jn:void 0,Jd=null!==(oi=f.lastLoginAt)&&void 0!==oi?oi:void 0,{uid:xl,emailVerified:ka,isAnonymous:rd,providerData:od,stsTokenManager:Fc}=f;qe(xl&&Fc,h,"internal-error");const tf=Ee.fromJSON(this.name,Fc);qe("string"==typeof xl,h,"internal-error"),z(ai,h.name),z(Zr,h.name),qe("boolean"==typeof ka,h,"internal-error"),qe("boolean"==typeof rd,h,"internal-error"),z(Cs,h.name),z(ac,h.name),z(ef,h.name),z(Ki,h.name),z(vu,h.name),z(Jd,h.name);const bu=new ce({uid:xl,auth:h,email:Zr,emailVerified:ka,displayName:ai,isAnonymous:rd,photoURL:ac,phoneNumber:Cs,tenantId:ef,stsTokenManager:tf,createdAt:vu,lastLoginAt:Jd});return od&&Array.isArray(od)&&(bu.providerData=od.map(pp=>Object.assign({},pp))),Ki&&(bu._redirectEventId=Ki),bu}static _fromIdTokenResponse(h,f,T=!1){return(0,c.Z)(function*(){const K=new Ee;K.updateFromServerResponse(f);const de=new ce({uid:f.localId,auth:h,stsTokenManager:K,isAnonymous:T});return yield Mt(de),de})()}}const nt=new Map;function Qt(b){St(b instanceof Function,"Expected a class definition");let h=nt.get(b);return h?(St(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,nt.set(b,h),h)}const gi=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(f,T){var K=this;return(0,c.Z)(function*(){K.storage[f]=T})()}_get(f){var T=this;return(0,c.Z)(function*(){const K=T.storage[f];return void 0===K?null:K})()}_remove(f){var T=this;return(0,c.Z)(function*(){delete T.storage[f]})()}_addListener(f,T){}_removeListener(f,T){}}return b.type="NONE",b})();function Le(b,h,f){return`firebase:${b}:${h}:${f}`}class Ne{constructor(h,f,T){this.persistence=h,this.auth=f,this.userKey=T;const{config:K,name:de}=this.auth;this.fullUserKey=Le(this.userKey,K.apiKey,de),this.fullPersistenceKey=Le("persistence",K.apiKey,de),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?ce._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,c.Z)(function*(){if(f.persistence===h)return;const T=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,T?f.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,T="authUser"){return(0,c.Z)(function*(){if(!f.length)return new Ne(Qt(gi),h,T);const K=(yield Promise.all(f.map(function(){var jn=(0,c.Z)(function*(oi){if(yield oi._isAvailable())return oi});return function(oi){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let de=K[0]||Qt(gi);const it=Le(T,h.config.apiKey,h.name);let Gt=null;for(const jn of f)try{const oi=yield jn._get(it);if(oi){const ai=ce._fromJSON(h,oi);jn!==de&&(Gt=ai),de=jn;break}}catch{}const xn=K.filter(jn=>jn._shouldAllowMigration);return de._shouldAllowMigration&&xn.length?(de=xn[0],Gt&&(yield de._set(it,Gt.toJSON())),yield Promise.all(f.map(function(){var jn=(0,c.Z)(function*(oi){if(oi!==de)try{yield oi._remove(it)}catch{}});return function(oi){return jn.apply(this,arguments)}}())),new Ne(de,h,T)):new Ne(de,h,T)})()}}function He(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Qe(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if($t(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(V(h))return"Blackberry";if(k(h))return"Webos";if(Et(h))return"Safari";if((h.includes("chrome/")||ln(h))&&!h.includes("edge/"))return"Chrome";if(Q(h))return"Android";{const T=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function $t(b=(0,g.z$)()){return/firefox\//i.test(b)}function Et(b=(0,g.z$)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ln(b=(0,g.z$)()){return/crios\//i.test(b)}function Qe(b=(0,g.z$)()){return/iemobile/i.test(b)}function Q(b=(0,g.z$)()){return/android/i.test(b)}function V(b=(0,g.z$)()){return/blackberry/i.test(b)}function k(b=(0,g.z$)()){return/webos/i.test(b)}function Z(b=(0,g.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function In(b=(0,g.z$)()){return Z(b)||Q(b)||k(b)||V(b)||/windows phone/i.test(b)||Qe(b)}function It(b,h=[]){let f;switch(b){case"Browser":f=He((0,g.z$)());break;case"Worker":f=`${He((0,g.z$)())}-${b}`;break;default:f=b}const T=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${fe.SDK_VERSION}/${T}`}function dn(){return(dn=(0,c.Z)(function*(b){return(yield an(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mn(b,h){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(b,h){return an(b,"GET","/v2/recaptchaConfig",jt(b,h))})).apply(this,arguments)}function li(b){return void 0!==b&&void 0!==b.getResponse}function zn(b){return void 0!==b&&void 0!==b.enterprise}class ft{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function ee(b){return new Promise((h,f)=>{const T=document.createElement("script");T.setAttribute("src",b),T.onload=h,T.onerror=K=>{const de=pe("internal-error");de.customData=K,f(de)},T.type="text/javascript",T.charset="UTF-8",function oe(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(T)})}function Ce(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ze="NO_RECAPTCHA";class we{constructor(h){this.type="recaptcha-enterprise",this.auth=on(h)}verify(h="verify",f=!1){var T=this;return(0,c.Z)(function*(){function de(){return de=(0,c.Z)(function*(Gt){if(!f){if(null==Gt.tenantId&&null!=Gt._agentRecaptchaConfig)return Gt._agentRecaptchaConfig.siteKey;if(null!=Gt.tenantId&&void 0!==Gt._tenantRecaptchaConfigs[Gt.tenantId])return Gt._tenantRecaptchaConfigs[Gt.tenantId].siteKey}return new Promise(function(){var xn=(0,c.Z)(function*(jn,oi){Mn(Gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ai=>{if(void 0!==ai.recaptchaKey){const Zr=new ft(ai);return null==Gt.tenantId?Gt._agentRecaptchaConfig=Zr:Gt._tenantRecaptchaConfigs[Gt.tenantId]=Zr,jn(Zr.siteKey)}oi(new Error("recaptcha Enterprise site key undefined"))}).catch(ai=>{oi(ai)})});return function(jn,oi){return xn.apply(this,arguments)}}())}),de.apply(this,arguments)}function it(Gt,xn,jn){const oi=window.grecaptcha;zn(oi)?oi.enterprise.ready(()=>{oi.enterprise.execute(Gt,{action:h}).then(ai=>{xn(ai)}).catch(()=>{xn(ze)})}):jn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Gt,xn)=>{(function K(Gt){return de.apply(this,arguments)})(T.auth).then(jn=>{if(!f&&zn(window.grecaptcha))it(jn,Gt,xn);else{if(typeof window>"u")return void xn(new Error("RecaptchaVerifier is only supported in browser"));ee("https://www.google.com/recaptcha/enterprise.js?render="+jn).then(()=>{it(jn,Gt,xn)}).catch(oi=>{xn(oi)})}}).catch(jn=>{xn(jn)})})})()}}function te(b,h,f){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(b,h,f,T=!1){const K=new we(b);let de;try{de=yield K.verify(f)}catch{de=yield K.verify(f,!0)}const it=Object.assign({},h);return Object.assign(it,T?{captchaResp:de}:{captchaResponse:de}),Object.assign(it,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(it,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),it})).apply(this,arguments)}class et{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const T=de=>new Promise((it,Gt)=>{try{it(h(de))}catch(xn){Gt(xn)}});T.onAbort=f,this.queue.push(T);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,c.Z)(function*(){if(f.auth.currentUser===h)return;const T=[];try{for(const K of f.queue)yield K(h),K.onAbort&&T.push(K.onAbort)}catch(K){T.reverse();for(const de of T)try{de()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}class Wt{constructor(h,f,T,K){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=T,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cn(this),this.idTokenSubscription=new Cn(this),this.beforeStateQueue=new et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(h,f){var T=this;return f&&(this._popupRedirectResolver=Qt(f)),this._initializationPromise=this.queue((0,c.Z)(function*(){var K,de;if(!T._deleted&&(T.persistenceManager=yield Ne.create(T,h),!T._deleted)){if(null!==(K=T._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(f),T.lastNotifiedUid=(null===(de=T.currentUser)||void 0===de?void 0:de.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,c.Z)(function*(){var T;const K=yield f.assertedPersistence.getCurrentUser();let de=K,it=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Gt=null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId,xn=de?._redirectEventId,jn=yield f.tryRedirectSignIn(h);(!Gt||Gt===xn)&&jn?.user&&(de=jn.user,it=!0)}if(!de)return f.directlySetCurrentUser(null);if(!de._redirectEventId){if(it)try{yield f.beforeStateQueue.runMiddleware(de)}catch(Gt){de=K,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Gt))}return de?f.reloadAndSetCurrentUserOrClear(de):f.directlySetCurrentUser(null)}return qe(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===de._redirectEventId?f.directlySetCurrentUser(de):f.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(h){var f=this;return(0,c.Z)(function*(){let T=null;try{T=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,c.Z)(function*(){try{yield Mt(h)}catch(T){if("auth/network-request-failed"!==T?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Tt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,c.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,c.Z)(function*(){const T=h?(0,g.m9)(h):null;return T&&qe(T.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(T&&T._clone(f))})()}_updateCurrentUser(h,f=!1){var T=this;return(0,c.Z)(function*(){if(!T._deleted)return h&&qe(T.tenantId===h.tenantId,T,"tenant-id-mismatch"),f||(yield T.beforeStateQueue.runMiddleware(h)),T.queue((0,c.Z)(function*(){yield T.directlySetCurrentUser(h),T.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,c.Z)(function*(){yield f.assertedPersistence.setPersistence(Qt(h))}))}initializeRecaptchaConfig(){var h=this;return(0,c.Z)(function*(){const f=yield Mn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new ft(f);null==h.tenantId?h._agentRecaptchaConfig=T:h._tenantRecaptchaConfigs[h.tenantId]=T,T.emailPasswordEnabled&&new we(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new g.LL("auth","Firebase",h())}onAuthStateChanged(h,f,T){return this.registerStateListener(this.authStateSubscription,h,f,T)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,T){return this.registerStateListener(this.idTokenSubscription,h,f,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var T=this;return(0,c.Z)(function*(){const K=yield T.getOrInitRedirectPersistenceManager(f);return null===h?K.removeCurrentUser():K.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,c.Z)(function*(){if(!f.redirectPersistenceManager){const T=h&&Qt(h)||f._popupRedirectResolver;qe(T,f,"argument-error"),f.redirectPersistenceManager=yield Ne.create(f,[Qt(T._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,c.Z)(function*(){var T,K;return f._isInitialized&&(yield f.queue((0,c.Z)(function*(){}))),(null===(T=f._currentUser)||void 0===T?void 0:T._redirectEventId)===h?f._currentUser:(null===(K=f.redirectUser)||void 0===K?void 0:K._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,c.Z)(function*(){if(h===f.currentUser)return f.queue((0,c.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,T,K){if(this._deleted)return()=>{};const de="function"==typeof f?f:f.next.bind(f),it=this._isInitialized?Promise.resolve():this._initializationPromise;return qe(it,this,"internal-error"),it.then(()=>de(this.currentUser)),"function"==typeof f?h.addObserver(f,T,K):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,c.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=It(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.Z)(function*(){var f;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const K=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();K&&(T["X-Firebase-Client"]=K);const de=yield h._getAppCheckToken();return de&&(T["X-Firebase-AppCheck"]=de),T})()}_getAppCheckToken(){var h=this;return(0,c.Z)(function*(){var f;const T=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return T?.error&&function lt(b,...h){Re.logLevel<=Te.in.WARN&&Re.warn(`Auth (${fe.SDK_VERSION}): ${b}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function on(b){return(0,g.m9)(b)}class Cn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,g.ne)(f=>this.observer=f)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Er(b){const h=b.indexOf(":");return h<0?"":b.substr(0,h+1)}function Mr(b){if(!b)return null;const h=Number(b);return isNaN(h)?null:h}class zr{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return un("not implemented")}_getIdTokenResponse(h){return un("not implemented")}_linkToIdToken(h,f){return un("not implemented")}_getReauthenticationResolver(h){return un("not implemented")}}function hr(b,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:resetPassword",jt(b,h))})).apply(this,arguments)}function Lo(b,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:update",jt(b,h))})).apply(this,arguments)}function qi(b,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(b,h){return ht(b,"POST","/v1/accounts:signInWithPassword",jt(b,h))})).apply(this,arguments)}function Br(b,h){return so.apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:sendOobCode",jt(b,h))})).apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(b,h){return Br(b,h)})).apply(this,arguments)}function Ut(b,h){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(b,h){return Br(b,h)})).apply(this,arguments)}function gn(b,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(b,h){return Br(b,h)})).apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(b,h){return Br(b,h)})).apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(b,h){return ht(b,"POST","/v1/accounts:signInWithEmailLink",jt(b,h))})).apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(b,h){return ht(b,"POST","/v1/accounts:signInWithEmailLink",jt(b,h))})).apply(this,arguments)}class nr extends zr{constructor(h,f,T,K=null){super("password",T),this._email=h,this._password=f,this._tenantId=K}static _fromEmailAndPassword(h,f){return new nr(h,f,"password")}static _fromEmailAndCode(h,f,T=null){return new nr(h,f,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,c.Z)(function*(){var T;switch(f.signInMethod){case"password":const K={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=h._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const de=yield te(h,K,"signInWithPassword");return qi(h,de)}return qi(h,K).catch(function(){var de=(0,c.Z)(function*(it){if("auth/missing-recaptcha-token"===it.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Gt=yield te(h,K,"signInWithPassword");return qi(h,Gt)}return Promise.reject(it)});return function(it){return de.apply(this,arguments)}}());case"emailLink":return function Ci(b,h){return wr.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:ge(h,"internal-error")}})()}_linkToIdToken(h,f){var T=this;return(0,c.Z)(function*(){switch(T.signInMethod){case"password":return Lo(h,{idToken:f,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function yo(b,h){return tr.apply(this,arguments)}(h,{idToken:f,email:T._email,oobCode:T._password});default:ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function yr(b,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(b,h){return ht(b,"POST","/v1/accounts:signInWithIdp",jt(b,h))})).apply(this,arguments)}class Yr extends zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Yr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):ge("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:K}=f,de=(0,O._T)(f,["providerId","signInMethod"]);if(!T||!K)return null;const it=new Yr(T,K);return it.idToken=de.idToken||void 0,it.accessToken=de.accessToken||void 0,it.secret=de.secret,it.nonce=de.nonce,it.pendingToken=de.pendingToken||null,it}_getIdTokenResponse(h){return yr(h,this.buildRequest())}_linkToIdToken(h,f){const T=this.buildRequest();return T.idToken=f,yr(h,T)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,yr(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,g.xO)(f)}return h}}function Zo(){return(Zo=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:sendVerificationCode",jt(b,h))})).apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(b,h){return ht(b,"POST","/v1/accounts:signInWithPhoneNumber",jt(b,h))})).apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(b,h){const f=yield ht(b,"POST","/v1/accounts:signInWithPhoneNumber",jt(b,h));if(f.temporaryProof)throw Ue(b,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Qr={USER_NOT_FOUND:"user-not-found"};function Bo(){return(Bo=(0,c.Z)(function*(b,h){return ht(b,"POST","/v1/accounts:signInWithPhoneNumber",jt(b,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Qr)})).apply(this,arguments)}class Ur extends zr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Ur({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Ur({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Xs(b,h){return ds.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function ma(b,h){return Ao.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ia(b,h){return Bo.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:T,verificationCode:K}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:T,code:K}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:T,phoneNumber:K,temporaryProof:de}=h;return T||f||K||de?new Ur({verificationId:f,verificationCode:T,phoneNumber:K,temporaryProof:de}):null}}class Vo{constructor(h){var f,T,K,de,it,Gt;const xn=(0,g.zd)((0,g.pd)(h)),jn=null!==(f=xn.apiKey)&&void 0!==f?f:null,oi=null!==(T=xn.oobCode)&&void 0!==T?T:null,ai=function Uo(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=xn.mode)&&void 0!==K?K:null);qe(jn&&oi&&ai,"argument-error"),this.apiKey=jn,this.operation=ai,this.code=oi,this.continueUrl=null!==(de=xn.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(it=xn.languageCode)&&void 0!==it?it:null,this.tenantId=null!==(Gt=xn.tenantId)&&void 0!==Gt?Gt:null}static parseLink(h){const f=function ps(b){const h=(0,g.zd)((0,g.pd)(b)).link,f=h?(0,g.zd)((0,g.pd)(h)).deep_link_id:null,T=(0,g.zd)((0,g.pd)(b)).deep_link_id;return(T?(0,g.zd)((0,g.pd)(T)).link:null)||T||f||h||b}(h);try{return new Vo(f)}catch{return null}}}let Us=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(f,T){return nr._fromEmailAndPassword(f,T)}static credentialWithLink(f,T){const K=Vo.parseLink(T);return qe(K,"argument-error"),nr._fromEmailAndCode(f,K.code,K.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ir{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class fo extends Ir{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class lo extends fo{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return qe("providerId"in f&&"signInMethod"in f,"argument-error"),Yr._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return qe(h.idToken||h.accessToken,"argument-error"),Yr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return lo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return lo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:T,oauthTokenSecret:K,pendingToken:de,nonce:it,providerId:Gt}=h;if(!T&&!K&&!f&&!de||!Gt)return null;try{return new lo(Gt)._credential({idToken:f,accessToken:T,nonce:it,pendingToken:de})}catch{return null}}}let Ss=(()=>{class b extends fo{constructor(){super("facebook.com")}static credential(f){return Yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return b.credential(f.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),os=(()=>{class b extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(f,T){return Yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:T})}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:T,oauthAccessToken:K}=f;if(!T&&!K)return null;try{return b.credential(T,K)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ss=(()=>{class b extends fo{constructor(){super("github.com")}static credential(f){return Yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return b.credential(f.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class po extends zr{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return yr(h,this.buildRequest())}_linkToIdToken(h,f){const T=this.buildRequest();return T.idToken=f,yr(h,T)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,yr(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:K,pendingToken:de}=f;return T&&K&&de&&T===K?new po(T,de):null}static _create(h,f){return new po(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ms extends Ir{constructor(h){qe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ms.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ms.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=po.fromJSON(h);return qe(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:T}=h;if(!f||!T)return null;try{return po._create(T,f)}catch{return null}}}let Xr=(()=>{class b extends fo{constructor(){super("twitter.com")}static credential(f,T){return Yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:T})}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:T,oauthTokenSecret:K}=f;if(!T||!K)return null;try{return b.credential(T,K)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Jr(b,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(b,h){return ht(b,"POST","/v1/accounts:signUp",jt(b,h))})).apply(this,arguments)}class Vr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,T,K=!1){return(0,c.Z)(function*(){const de=yield ce._fromIdTokenResponse(h,T,K),it=qo(T);return new Vr({user:de,providerId:it,_tokenResponse:T,operationType:f})})()}static _forOperation(h,f,T){return(0,c.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const K=qo(T);return new Vr({user:h,providerId:K,_tokenResponse:T,operationType:f})})()}}function qo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Cr(){return(Cr=(0,c.Z)(function*(b){var h;const f=on(b);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new Vr({user:f.currentUser,providerId:null,operationType:"signIn"});const T=yield Jr(f,{returnSecureToken:!0}),K=yield Vr._fromIdTokenResponse(f,"signIn",T,!0);return yield f._updateCurrentUser(K.user),K})).apply(this,arguments)}class Ro extends g.ZR{constructor(h,f,T,K){var de;super(f.code,f.message),this.operationType=T,this.user=K,Object.setPrototypeOf(this,Ro.prototype),this.customData={appName:h.name,tenantId:null!==(de=h.tenantId)&&void 0!==de?de:void 0,_serverResponse:f.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,f,T,K){return new Ro(h,f,T,K)}}function Di(b,h,f,T){return("reauthenticate"===h?f._getReauthenticationResolver(b):f._getIdTokenResponse(b)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?Ro._fromErrorAndOperation(b,de,h,T):de})}function Vs(b){return new Set(b.map(({providerId:h})=>h).filter(h=>!!h))}function Nr(){return Nr=(0,c.Z)(function*(b,h){const f=(0,g.m9)(b);yield mo(!0,f,h);const{providerUserInfo:T}=yield function Ht(b,h){return xe.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),K=Vs(T||[]);return f.providerData=f.providerData.filter(de=>K.has(de.providerId)),K.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Nr.apply(this,arguments)}function br(b,h){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(b,h,f=!1){const T=yield Dn(b,h._linkToIdToken(b.auth,yield b.getIdToken()),f);return Vr._forOperation(b,"link",T)})).apply(this,arguments)}function mo(b,h,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(b,h,f){yield Mt(h);const K=!1===b?"provider-already-linked":"no-such-provider";qe(Vs(h.providerData).has(f)===b,h.auth,K)})).apply(this,arguments)}function mr(b,h){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(b,h,f=!1){const{auth:T}=b,K="reauthenticate";try{const de=yield Dn(b,Di(T,K,h,b),f);qe(de.idToken,T,"internal-error");const it=_i(de.idToken);qe(it,T,"internal-error");const{sub:Gt}=it;return qe(b.uid===Gt,T,"user-mismatch"),Vr._forOperation(b,K,de)}catch(de){throw"auth/user-not-found"===de?.code&&ge(T,"user-mismatch"),de}})).apply(this,arguments)}function $r(b,h){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(b,h,f=!1){const T="signIn",K=yield Di(b,T,h),de=yield Vr._fromIdTokenResponse(b,T,K);return f||(yield b._updateCurrentUser(de.user)),de})).apply(this,arguments)}function Qo(b,h){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(function*(b,h){return $r(on(b),h)})).apply(this,arguments)}function _(b,h){return C.apply(this,arguments)}function C(){return(C=(0,c.Z)(function*(b,h){const f=(0,g.m9)(b);return yield mo(!1,f,h.providerId),br(f,h)})).apply(this,arguments)}function j(b,h){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.Z)(function*(b,h){return mr((0,g.m9)(b),h)})).apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(b,h){return ht(b,"POST","/v1/accounts:signInWithCustomToken",jt(b,h))})).apply(this,arguments)}function pn(){return pn=(0,c.Z)(function*(b,h){const f=on(b),T=yield function dt(b,h){return sn.apply(this,arguments)}(f,{token:h,returnSecureToken:!0}),K=yield Vr._fromIdTokenResponse(f,"signIn",T);return yield f._updateCurrentUser(K.user),K}),pn.apply(this,arguments)}class Xn{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?vi._fromServerResponse(h,f):"totpInfo"in f?ki._fromServerResponse(h,f):ge(h,"internal-error")}}class vi extends Xn{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new vi(f)}}class ki extends Xn{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new ki(f)}}function ir(b,h,f){var T;qe((null===(T=f.url)||void 0===T?void 0:T.length)>0,b,"invalid-continue-uri"),qe(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(qe(f.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(qe(f.android.packageName.length>0,b,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function zi(){return zi=(0,c.Z)(function*(b,h,f){var T;const K=on(b),de={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const it=yield te(K,de,"getOobCode",!0);f&&ir(K,it,f),yield Ut(K,it)}else f&&ir(K,de,f),yield Ut(K,de).catch(function(){var it=(0,c.Z)(function*(Gt){if("auth/missing-recaptcha-token"!==Gt.code)return Promise.reject(Gt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const xn=yield te(K,de,"getOobCode",!0);f&&ir(K,xn,f),yield Ut(K,xn)}});return function(Gt){return it.apply(this,arguments)}}())}),zi.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(b,h,f){yield hr((0,g.m9)(b),{oobCode:h,newPassword:f})})).apply(this,arguments)}function Gr(){return Gr=(0,c.Z)(function*(b,h){yield function qr(b,h){return So.apply(this,arguments)}((0,g.m9)(b),{oobCode:h})}),Gr.apply(this,arguments)}function fr(b,h){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(b,h){const f=(0,g.m9)(b),T=yield hr(f,{oobCode:h}),K=T.requestType;switch(qe(K,f,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":qe(T.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":qe(T.mfaInfo,f,"internal-error");default:qe(T.email,f,"internal-error")}let de=null;return T.mfaInfo&&(de=Xn._fromServerResponse(on(f),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:de},operation:K}})).apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(b,h){const{data:f}=yield fr((0,g.m9)(b),h);return f.email})).apply(this,arguments)}function Rr(){return Rr=(0,c.Z)(function*(b,h,f){var T;const K=on(b),de={returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"};let it;if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const jn=yield te(K,de,"signUpPassword");it=Jr(K,jn)}else it=Jr(K,de).catch(function(){var jn=(0,c.Z)(function*(oi){if("auth/missing-recaptcha-token"===oi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ai=yield te(K,de,"signUpPassword");return Jr(K,ai)}return Promise.reject(oi)});return function(oi){return jn.apply(this,arguments)}}());const Gt=yield it.catch(jn=>Promise.reject(jn)),xn=yield Vr._fromIdTokenResponse(K,"signIn",Gt);return yield K._updateCurrentUser(xn.user),xn}),Rr.apply(this,arguments)}function Rs(){return Rs=(0,c.Z)(function*(b,h,f){var T;const K=on(b),de={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function it(Gt,xn){qe(xn.handleCodeInApp,K,"argument-error"),xn&&ir(K,Gt,xn)}if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Gt=yield te(K,de,"getOobCode",!0);it(Gt,f),yield gn(K,Gt)}else it(de,f),yield gn(K,de).catch(function(){var Gt=(0,c.Z)(function*(xn){if("auth/missing-recaptcha-token"!==xn.code)return Promise.reject(xn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const jn=yield te(K,de,"getOobCode",!0);it(jn,f),yield gn(K,jn)}});return function(xn){return Gt.apply(this,arguments)}}())}),Rs.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(b,h,f){const T=(0,g.m9)(b),K=Us.credentialWithLink(h,f||bn());return qe(K._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Qo(T,K)})).apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:createAuthUri",jt(b,h))})).apply(this,arguments)}function gs(){return gs=(0,c.Z)(function*(b,h){const T={identifier:h,continueUri:yn()?bn():"http://localhost"},{signinMethods:K}=yield function na(b,h){return Xi.apply(this,arguments)}((0,g.m9)(b),T);return K||[]}),gs.apply(this,arguments)}function hs(){return hs=(0,c.Z)(function*(b,h){const f=(0,g.m9)(b),K={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};h&&ir(f.auth,K,h);const{email:de}=yield function mt(b,h){return at.apply(this,arguments)}(f.auth,K);de!==b.email&&(yield b.reload())}),hs.apply(this,arguments)}function Xo(){return Xo=(0,c.Z)(function*(b,h,f){const T=(0,g.m9)(b),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:h};f&&ir(T.auth,de,f);const{email:it}=yield function yi(b,h){return fi.apply(this,arguments)}(T.auth,de);it!==b.email&&(yield b.reload())}),Xo.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(b,h){return an(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Oo(){return Oo=(0,c.Z)(function*(b,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const T=(0,g.m9)(b),de={idToken:yield T.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},it=yield Dn(T,function _a(b,h){return ya.apply(this,arguments)}(T.auth,de));T.displayName=it.displayName||null,T.photoURL=it.photoUrl||null;const Gt=T.providerData.find(({providerId:xn})=>"password"===xn);Gt&&(Gt.displayName=T.displayName,Gt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(it)}),Oo.apply(this,arguments)}function xr(b,h,f){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(b,h,f){const{auth:T}=b,de={idToken:yield b.getIdToken(),returnSecureToken:!0};h&&(de.email=h),f&&(de.password=f);const it=yield Dn(b,Lo(T,de));yield b._updateTokensIfNecessary(it,!0)})).apply(this,arguments)}class _s{constructor(h,f,T={}){this.isNewUser=h,this.providerId=f,this.profile=T}}class ia extends _s{constructor(h,f,T,K){super(h,f,T),this.username=K}}class Wa extends _s{constructor(h,f){super(h,"facebook.com",f)}}class ul extends ia{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class ra extends _s{constructor(h,f){super(h,"google.com",f)}}class Ta extends ia{constructor(h,f,T){super(h,"twitter.com",f,T)}}function Da(b){const{user:h,_tokenResponse:f}=b;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function $s(b){var h,f;if(!b)return null;const{providerId:T}=b,K=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},de=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!T&&b?.idToken){const it=null===(f=null===(h=_i(b.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(it)return new _s(de,"anonymous"!==it&&"custom"!==it?it:null)}if(!T)return null;switch(T){case"facebook.com":return new Wa(de,K);case"github.com":return new ul(de,K);case"google.com":return new ra(de,K);case"twitter.com":return new Ta(de,K,b.screenName||null);case"custom":case"anonymous":return new _s(de,null);default:return new _s(de,T,K)}}(f)}class Li{constructor(h,f,T){this.type=h,this.credential=f,this.auth=T}static _fromIdtoken(h,f){return new Li("enroll",h,f)}static _fromMfaPendingCredential(h){return new Li("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,T;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Li._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(T=h.multiFactorSession)&&void 0!==T&&T.idToken)return Li._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ${constructor(h,f,T){this.session=h,this.hints=f,this.signInResolver=T}static _fromError(h,f){const T=on(h),K=f.customData._serverResponse,de=(K.mfaInfo||[]).map(Gt=>Xn._fromServerResponse(T,Gt));qe(K.mfaPendingCredential,T,"internal-error");const it=Li._fromMfaPendingCredential(K.mfaPendingCredential);return new $(it,de,function(){var Gt=(0,c.Z)(function*(xn){const jn=yield xn._process(T,it);delete K.mfaInfo,delete K.mfaPendingCredential;const oi=Object.assign(Object.assign({},K),{idToken:jn.idToken,refreshToken:jn.refreshToken});switch(f.operationType){case"signIn":const ai=yield Vr._fromIdTokenResponse(T,f.operationType,oi);return yield T._updateCurrentUser(ai.user),ai;case"reauthenticate":return qe(f.user,T,"internal-error"),Vr._forOperation(f.user,f.operationType,oi);default:ge(T,"internal-error")}});return function(xn){return Gt.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,c.Z)(function*(){return f.signInResolver(h)})()}}class Xe{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(T=>Xn._fromServerResponse(h.auth,T)))})}static _fromUser(h){return new Xe(h)}getSession(){var h=this;return(0,c.Z)(function*(){return Li._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,f){var T=this;return(0,c.Z)(function*(){const K=h,de=yield T.getSession(),it=yield Dn(T.user,K._process(T.user.auth,de,f));return yield T.user._updateTokensIfNecessary(it),T.user.reload()})()}unenroll(h){var f=this;return(0,c.Z)(function*(){const T="string"==typeof h?h:h.uid,K=yield f.user.getIdToken();try{const de=yield Dn(f.user,function Me(b,h){return an(b,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(b,h))}(f.user.auth,{idToken:K,mfaEnrollmentId:T}));f.enrolledFactors=f.enrolledFactors.filter(({uid:it})=>it!==T),yield f.user._updateTokensIfNecessary(de),yield f.user.reload()}catch(de){throw de}})()}}const $e=new WeakMap,Ct="__sak";class An{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ct,"1"),this.storage.removeItem(Ct),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const or=(()=>{class b extends An{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,T)=>this.onStorageEvent(f,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vi(){const b=(0,g.z$)();return Et(b)||Z(b)}()&&function ei(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=In(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const T of Object.keys(this.listeners)){const K=this.storage.getItem(T),de=this.localCache[T];K!==de&&f(T,de,K)}}onStorageEvent(f,T=!1){if(!f.key)return void this.forAllChangedKeys((Gt,xn,jn)=>{this.notifyListeners(Gt,jn)});const K=f.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Gt=this.storage.getItem(K);if(f.newValue!==Gt)null!==f.newValue?this.storage.setItem(K,f.newValue):this.storage.removeItem(K);else if(this.localCache[K]===f.newValue&&!T)return}const de=()=>{const Gt=this.storage.getItem(K);!T&&this.localCache[K]===Gt||this.notifyListeners(K,Gt)},it=this.storage.getItem(K);!function tn(){return(0,g.w1)()&&10===document.documentMode}()||it===f.newValue||f.newValue===f.oldValue?de():setTimeout(de,10)}notifyListeners(f,T){this.localCache[f]=T;const K=this.listeners[f];if(K)for(const de of Array.from(K))de(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,T,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:T,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(T)}_removeListener(f,T){this.listeners[f]&&(this.listeners[f].delete(T),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,T){var K=()=>super._set,de=this;return(0,c.Z)(function*(){yield K().call(de,f,T),de.localCache[f]=JSON.stringify(T)})()}_get(f){var T=()=>super._get,K=this;return(0,c.Z)(function*(){const de=yield T().call(K,f);return K.localCache[f]=JSON.stringify(de),de})()}_remove(f){var T=()=>super._remove,K=this;return(0,c.Z)(function*(){yield T().call(K,f),delete K.localCache[f]})()}}return b.type="LOCAL",b})(),Pr=(()=>{class b extends An{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,T){}_removeListener(f,T){}}return b.type="SESSION",b})();let ro=(()=>{class b{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const T=this.receivers.find(de=>de.isListeningto(f));if(T)return T;const K=new b(f);return this.receivers.push(K),K}isListeningto(f){return this.eventTarget===f}handleEvent(f){var T=this;return(0,c.Z)(function*(){const K=f,{eventId:de,eventType:it,data:Gt}=K.data,xn=T.handlersMap[it];if(!xn?.size)return;K.ports[0].postMessage({status:"ack",eventId:de,eventType:it});const jn=Array.from(xn).map(function(){var ai=(0,c.Z)(function*(Zr){return Zr(K.origin,Gt)});return function(Zr){return ai.apply(this,arguments)}}()),oi=yield function vo(b){return Promise.all(b.map(function(){var h=(0,c.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(T){return{fulfilled:!1,reason:T}}});return function(f){return h.apply(this,arguments)}}()))}(jn);K.ports[0].postMessage({status:"done",eventId:de,eventType:it,response:oi})})()}_subscribe(f,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(T)}_unsubscribe(f,T){this.handlersMap[f]&&T&&this.handlersMap[f].delete(T),(!T||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Os(b="",h=10){let f="";for(let T=0;T<h;T++)f+=Math.floor(10*Math.random());return b+f}class Or{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,T=50){var K=this;return(0,c.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let it,Gt;return new Promise((xn,jn)=>{const oi=Os("",20);de.port1.start();const ai=setTimeout(()=>{jn(new Error("unsupported_event"))},T);Gt={messageChannel:de,onMessage(Zr){const Cs=Zr;if(Cs.data.eventId===oi)switch(Cs.data.status){case"ack":clearTimeout(ai),it=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(it),xn(Cs.data.response);break;default:clearTimeout(ai),clearTimeout(it),jn(new Error("invalid_response"))}}},K.handlers.add(Gt),de.port1.addEventListener("message",Gt.onMessage),K.target.postMessage({eventType:h,eventId:oi,data:f},[de.port2])}).finally(()=>{Gt&&K.removeMessageHandler(Gt)})})()}}function Fn(){return window}function ls(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function ri(){return(ri=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sa="firebaseLocalStorageDb",Ri=1,en="firebaseLocalStorage",Jn="fbase_key";class wi{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ti(b,h){return b.transaction([en],h?"readwrite":"readonly").objectStore(en)}function wo(){const b=indexedDB.open(Sa,Ri);return new Promise((h,f)=>{b.addEventListener("error",()=>{f(b.error)}),b.addEventListener("upgradeneeded",()=>{const T=b.result;try{T.createObjectStore(en,{keyPath:Jn})}catch(K){f(K)}}),b.addEventListener("success",(0,c.Z)(function*(){const T=b.result;T.objectStoreNames.contains(en)?h(T):(T.close(),yield function Eo(){const b=indexedDB.deleteDatabase(Sa);return new wi(b).toPromise()}(),h(yield wo()))}))})}function kr(b,h,f){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(b,h,f){const T=Ti(b,!0).put({[Jn]:h,value:f});return new wi(T).toPromise()})).apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(b,h){const f=Ti(b,!1).get(h),T=yield new wi(f).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function go(b,h){const f=Ti(b,!0).delete(h);return new wi(f).toPromise()}const _o=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,c.Z)(function*(){return f.db||(f.db=yield wo()),f.db})()}_withRetries(f){var T=this;return(0,c.Z)(function*(){let K=0;for(;;)try{const de=yield T._openDb();return yield f(de)}catch(de){if(K++>3)throw de;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,c.Z)(function*(){return ls()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,c.Z)(function*(){f.receiver=ro._getInstance(function Ei(){return ls()?self:null}()),f.receiver._subscribe("keyChanged",function(){var T=(0,c.Z)(function*(K,de){return{keyProcessed:(yield f._poll()).includes(de.key)}});return function(K,de){return T.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var T=(0,c.Z)(function*(K,de){return["keyChanged"]});return function(K,de){return T.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,c.Z)(function*(){var T,K;if(f.activeServiceWorker=yield function cr(){return ri.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Or(f.activeServiceWorker);const de=yield f.sender._send("ping",{},800);de&&null!==(T=de[0])&&void 0!==T&&T.fulfilled&&null!==(K=de[0])&&void 0!==K&&K.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var T=this;return(0,c.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function ys(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:f},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const f=yield wo();return yield kr(f,Ct,"1"),yield go(f,Ct),!0}catch{}return!1})()}_withPendingWrite(f){var T=this;return(0,c.Z)(function*(){T.pendingWrites++;try{yield f()}finally{T.pendingWrites--}})()}_set(f,T){var K=this;return(0,c.Z)(function*(){return K._withPendingWrite((0,c.Z)(function*(){return yield K._withRetries(de=>kr(de,f,T)),K.localCache[f]=T,K.notifyServiceWorker(f)}))})()}_get(f){var T=this;return(0,c.Z)(function*(){const K=yield T._withRetries(de=>function Tr(b,h){return Ma.apply(this,arguments)}(de,f));return T.localCache[f]=K,K})()}_remove(f){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(K=>go(K,f)),delete T.localCache[f],T.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,c.Z)(function*(){const T=yield f._withRetries(it=>{const Gt=Ti(it,!1).getAll();return new wi(Gt).toPromise()});if(!T)return[];if(0!==f.pendingWrites)return[];const K=[],de=new Set;for(const{fbase_key:it,value:Gt}of T)de.add(it),JSON.stringify(f.localCache[it])!==JSON.stringify(Gt)&&(f.notifyListeners(it,Gt),K.push(it));for(const it of Object.keys(f.localCache))f.localCache[it]&&!de.has(it)&&(f.notifyListeners(it,null),K.push(it));return K})()}notifyListeners(f,T){this.localCache[f]=T;const K=this.listeners[f];if(K)for(const de of Array.from(K))de(T)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(T)}_removeListener(f,T){this.listeners[f]&&(this.listeners[f].delete(T),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Aa=1e12;class Ba{constructor(h){this.auth=h,this.counter=Aa,this._widgets=new Map}render(h,f){const T=this.counter;return this._widgets.set(T,new Ka(h,this.auth.name,f||{})),this.counter++,T}reset(h){var f;const T=h||Aa;null===(f=this._widgets.get(T))||void 0===f||f.delete(),this._widgets.delete(T)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Aa))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,c.Z)(function*(){var T;return null===(T=f._widgets.get(h||Aa))||void 0===T||T.execute(),""})()}}class Ka{constructor(h,f,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof h?document.getElementById(h):h;qe(K,"argument-error",{appName:f}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hl(b){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<b;T++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Al=Ce("rcb"),vc=new Pt(3e4,6e4);class ju{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Fn().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return qe(function fs(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&li(Fn().grecaptcha)?Promise.resolve(Fn().grecaptcha):new Promise((T,K)=>{const de=Fn().setTimeout(()=>{K(pe(h,"network-request-failed"))},vc.get());Fn()[Al]=()=>{Fn().clearTimeout(de),delete Fn()[Al];const Gt=Fn().grecaptcha;if(!Gt||!li(Gt))return void K(pe(h,"internal-error"));const xn=Gt.render;Gt.render=(jn,oi)=>{const ai=xn(jn,oi);return this.counter++,ai},this.hostLanguage=f,T(Gt)},ee(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Al,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(de),K(pe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=Fn().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class to{load(h){return(0,c.Z)(function*(){return new Ba(h)})()}clearedOneInstance(){}}const oa="recaptcha",Za={theme:"light",type:"image"};class No{constructor(h,f=Object.assign({},Za),T){this.parameters=f,this.type=oa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=on(T),this.isInvisible="invisible"===this.parameters.size,qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof h?document.getElementById(h):h;qe(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new to:new ju,this.validateStartingState()}verify(){var h=this;return(0,c.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),T=h.getAssertedRecaptcha();return T.getResponse(f)||new Promise(de=>{const it=Gt=>{Gt&&(h.tokenChangeListeners.delete(it),de(Gt))};h.tokenChangeListeners.add(it),h.isInvisible&&T.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){qe(!this.parameters.sitekey,this.auth,"argument-error"),qe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(T=>T(f)),"function"==typeof h)h(f);else if("string"==typeof h){const T=Fn()[h];"function"==typeof T&&T(f)}}}assertNotDestroyed(){qe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const T=document.createElement("div");f.appendChild(T),f=T}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.Z)(function*(){qe(yn()&&!ls(),h.auth,"internal-error"),yield function bs(){let b=null;return new Promise(h=>{"complete"!==document.readyState?(b=()=>h(),window.addEventListener("load",b)):h()}).catch(h=>{throw b&&window.removeEventListener("load",b),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function Ot(b){return dn.apply(this,arguments)}(h.auth);qe(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return qe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ks{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Ur._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function I(){return(I=(0,c.Z)(function*(b,h,f){const T=on(b),K=yield le(T,h,(0,g.m9)(f));return new ks(K,de=>Qo(T,de))})).apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(b,h,f){const T=(0,g.m9)(b);yield mo(!1,T,"phone");const K=yield le(T.auth,h,(0,g.m9)(f));return new ks(K,de=>_(T,de))})).apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(b,h,f){const T=(0,g.m9)(b),K=yield le(T.auth,h,(0,g.m9)(f));return new ks(K,de=>j(T,de))})).apply(this,arguments)}function le(b,h,f){return ve.apply(this,arguments)}function ve(){return ve=(0,c.Z)(function*(b,h,f){var T;const K=yield f.verify();try{let de;if(qe("string"==typeof K,b,"argument-error"),qe(f.type===oa,b,"argument-error"),de="string"==typeof h?{phoneNumber:h}:h,"session"in de){const it=de.session;if("phoneNumber"in de)return qe("enroll"===it.type,b,"internal-error"),(yield function w(b,h){return an(b,"POST","/v2/accounts/mfaEnrollment:start",jt(b,h))}(b,{idToken:it.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{qe("signin"===it.type,b,"internal-error");const Gt=(null===(T=de.multiFactorHint)||void 0===T?void 0:T.uid)||de.multiFactorUid;return qe(Gt,b,"missing-multi-factor-info"),(yield function vs(b,h){return an(b,"POST","/v2/accounts/mfaSignIn:start",jt(b,h))}(b,{mfaPendingCredential:it.credential,mfaEnrollmentId:Gt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:it}=yield function rs(b,h){return Zo.apply(this,arguments)}(b,{phoneNumber:de.phoneNumber,recaptchaToken:K});return it}}finally{f._reset()}}),ve.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(b,h){yield br((0,g.m9)(b),h)})).apply(this,arguments)}let Kn=(()=>{class b{constructor(f){this.providerId=b.PROVIDER_ID,this.auth=on(f)}verifyPhoneNumber(f,T){return le(this.auth,f,(0,g.m9)(T))}static credential(f,T){return Ur._fromVerification(f,T)}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:T,temporaryProof:K}=f;return T&&K?Ur._fromTokenResponse(T,K):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function qn(b,h){return h?Qt(h):(qe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Hi extends zr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return yr(h,this._buildIdpRequest())}_linkToIdToken(h,f){return yr(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return yr(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Co(b){return $r(b.auth,new Hi(b),b.bypassAuthState)}function va(b){const{auth:h,user:f}=b;return qe(f,h,"internal-error"),mr(f,new Hi(b),b.bypassAuthState)}function Ns(b){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(b){const{auth:h,user:f}=b;return qe(f,h,"internal-error"),br(f,new Hi(b),b.bypassAuthState)})).apply(this,arguments)}class Es{constructor(h,f,T,K,de=!1){this.auth=h,this.resolver=T,this.user=K,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,c.Z)(function*(T,K){h.pendingPromise={resolve:T,reject:K};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(de){h.reject(de)}});return function(T,K){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,c.Z)(function*(){const{urlResponse:T,sessionId:K,postBody:de,tenantId:it,error:Gt,type:xn}=h;if(Gt)return void f.reject(Gt);const jn={auth:f.auth,requestUri:T,sessionId:K,tenantId:it||void 0,postBody:de||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(xn)(jn))}catch(oi){f.reject(oi)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Co;case"linkViaPopup":case"linkViaRedirect":return Ns;case"reauthViaPopup":case"reauthViaRedirect":return va;default:ge(this.auth,"internal-error")}}resolve(h){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gs=new Pt(2e3,1e4);function fl(){return(fl=(0,c.Z)(function*(b,h,f){const T=on(b);_t(b,h,Ir);const K=qn(T,f);return new xo(T,"signInViaPopup",h,K).executeNotNull()})).apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(b,h,f){const T=(0,g.m9)(b);_t(T.auth,h,Ir);const K=qn(T.auth,f);return new xo(T.auth,"reauthViaPopup",h,K,T).executeNotNull()})).apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(b,h,f){const T=(0,g.m9)(b);_t(T.auth,h,Ir);const K=qn(T.auth,f);return new xo(T.auth,"linkViaPopup",h,K,T).executeNotNull()})).apply(this,arguments)}let xo=(()=>{class b extends Es{constructor(f,T,K,de,it){super(f,T,de,it),this.provider=K,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var f=this;return(0,c.Z)(function*(){const T=yield f.execute();return qe(T,f.auth,"internal-error"),T})()}onExecution(){var f=this;return(0,c.Z)(function*(){St(1===f.filter.length,"Popup operations only handle one event");const T=Os();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],T),f.authWindow.associatedEvent=T,f.resolver._originValidation(f.auth).catch(K=>{f.reject(K)}),f.resolver._isIframeWebStorageSupported(f.auth,K=>{K||f.reject(pe(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const f=()=>{var T,K;this.pollId=null!==(K=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Gs.get())};f()}}return b.currentPopupAction=null,b})();const qa="pendingRedirect",Fs=new Map;class zu extends Es{constructor(h,f,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,c.Z)(function*(){let T=Fs.get(f.auth._key());if(!T){try{const de=(yield function Lr(b,h){return tc.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;T=()=>Promise.resolve(de)}catch(K){T=()=>Promise.reject(K)}Fs.set(f.auth._key(),T)}return f.bypassAuthState||Fs.set(f.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,T=this;return(0,c.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(T,h);if("unknown"!==h.type){if(h.eventId){const K=yield T.auth._redirectUserForId(h.eventId);if(K)return T.user=K,f().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function tc(){return(tc=(0,c.Z)(function*(b,h){const f=Ec(h),T=ws(b);if(!(yield T._isAvailable()))return!1;const K="true"===(yield T._get(f));return yield T._remove(f),K})).apply(this,arguments)}function uo(b,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(b,h){return ws(b)._set(Ec(h),"true")})).apply(this,arguments)}function pl(b,h){Fs.set(b._key(),h)}function ws(b){return Qt(b._redirectPersistence)}function Ec(b){return Le(qa,b.config.apiKey,b.name)}function Fd(b,h,f){return function $o(b,h,f){return ou.apply(this,arguments)}(b,h,f)}function ou(){return(ou=(0,c.Z)(function*(b,h,f){const T=on(b);_t(b,h,Ir),yield T._initializationPromise;const K=qn(T,f);return yield uo(K,T),K._openRedirect(T,h,"signInViaRedirect")})).apply(this,arguments)}function Ya(b,h,f){return function no(b,h,f){return la.apply(this,arguments)}(b,h,f)}function la(){return(la=(0,c.Z)(function*(b,h,f){const T=(0,g.m9)(b);_t(T.auth,h,Ir),yield T.auth._initializationPromise;const K=qn(T.auth,f);yield uo(K,T.auth);const de=yield Ws(T);return K._openRedirect(T.auth,h,"reauthViaRedirect",de)})).apply(this,arguments)}function wc(b,h,f){return function Cc(b,h,f){return Pl.apply(this,arguments)}(b,h,f)}function Pl(){return(Pl=(0,c.Z)(function*(b,h,f){const T=(0,g.m9)(b);_t(T.auth,h,Ir),yield T.auth._initializationPromise;const K=qn(T.auth,f);yield mo(!1,T,h.providerId),yield uo(K,T.auth);const de=yield Ws(T);return K._openRedirect(T.auth,h,"linkViaRedirect",de)})).apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(b,h){return yield on(b)._initializationPromise,Ea(b,h,!1)})).apply(this,arguments)}function Ea(b,h){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(b,h,f=!1){const T=on(b),K=qn(T,h),it=yield new zu(T,K,f).execute();return it&&!f&&(delete it.user._redirectEventId,yield T._persistUserIfCurrent(it.user),yield T._setRedirectUser(null,h)),it})).apply(this,arguments)}function Ws(b){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(b){const h=Os(`${b.uid}:::`);return b._redirectEventId=h,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),h})).apply(this,arguments)}class Zs{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(f=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ic(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qa(b);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var T;if(h.error&&!Qa(h)){const K=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";f.onError(pe(this.auth,K))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const T=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xc(h))}saveEventToCache(h){this.cachedEventUids.add(xc(h)),this.lastProcessedEventTime=Date.now()}}function xc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(h=>h).join("-")}function Qa({type:b,error:h}){return"unknown"===b&&"auth/no-auth-event"===h?.code}function su(b){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(b,h={}){return an(b,"GET","/v1/projects",h)})).apply(this,arguments)}const Gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nl=/^https?/;function Pa(){return(Pa=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:h}=yield su(b);for(const f of h)try{if(Fl(f))return}catch{}ge(b,"unauthorized-domain")})).apply(this,arguments)}function Fl(b){const h=bn(),{protocol:f,hostname:T}=new URL(h);if(b.startsWith("chrome-extension://")){const it=new URL(b);return""===it.hostname&&""===T?"chrome-extension:"===f&&b.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&it.hostname===T}if(!Nl.test(f))return!1;if(Gu.test(b))return T===b;const K=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(T)}const Ll=new Pt(3e4,6e4);function ca(){const b=Fn().___jsl;if(b?.H)for(const h of Object.keys(b.H))if(b.H[h].r=b.H[h].r||[],b.H[h].L=b.H[h].L||[],b.H[h].r=[...b.H[h].L],b.CP)for(let f=0;f<b.CP.length;f++)b.CP[f]=null}let Dc=null;const au=new Pt(5e3,15e3),ns="__/auth/iframe",lu="emulator/auth/iframe",io={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ja=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wu(b){const h=b.config;qe(h.authDomain,b,"auth-domain-config-required");const f=h.emulator?wt(h,lu):`https://${b.config.authDomain}/${ns}`,T={apiKey:h.apiKey,appName:b.name,v:fe.SDK_VERSION},K=Ja.get(b.config.apiHost);K&&(T.eid=K);const de=b._getFrameworks();return de.length&&(T.fw=de.join(",")),`${f}?${(0,g.xO)(T).slice(1)}`}function B(){return B=(0,c.Z)(function*(b){const h=yield function Xa(b){return Dc=Dc||function gl(b){return new Promise((h,f)=>{var T,K,de;function it(){ca(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ca(),f(pe(b,"network-request-failed"))},timeout:Ll.get()})}if(null!==(K=null===(T=Fn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==K&&K.Iframe)h(gapi.iframes.getContext());else{if(null===(de=Fn().gapi)||void 0===de||!de.load){const Gt=Ce("iframefcb");return Fn()[Gt]=()=>{gapi.load?it():f(pe(b,"network-request-failed"))},ee(`https://apis.google.com/js/api.js?onload=${Gt}`).catch(xn=>f(xn))}it()}}).catch(h=>{throw Dc=null,h})}(b),Dc}(b),f=Fn().gapi;return qe(f,b,"internal-error"),h.open({where:document.body,url:Wu(b),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:io,dontclear:!0},T=>new Promise(function(){var K=(0,c.Z)(function*(de,it){yield T.restyle({setHideOnLeave:!1});const Gt=pe(b,"network-request-failed"),xn=Fn().setTimeout(()=>{it(Gt)},au.get());function jn(){Fn().clearTimeout(xn),de(T)}T.ping(jn).then(jn,()=>{it(Gt)})});return function(de,it){return K.apply(this,arguments)}}()))}),B.apply(this,arguments)}const q={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pe=500,We=600,pt="_blank",Xt="http://localhost";class Hn{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pi="__/auth/handler",Ni="emulator/auth/handler",qs=encodeURIComponent("fac");function Io(b,h,f,T,K,de){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,c.Z)(function*(b,h,f,T,K,de){qe(b.config.authDomain,b,"auth-domain-config-required"),qe(b.config.apiKey,b,"invalid-api-key");const it={apiKey:b.config.apiKey,appName:b.name,authType:f,redirectUrl:T,v:fe.SDK_VERSION,eventId:K};if(h instanceof Ir){h.setDefaultLanguage(b.languageCode),it.providerId=h.providerId||"",(0,g.xb)(h.getCustomParameters())||(it.customParameters=JSON.stringify(h.getCustomParameters()));for(const[oi,ai]of Object.entries(de||{}))it[oi]=ai}if(h instanceof fo){const oi=h.getScopes().filter(ai=>""!==ai);oi.length>0&&(it.scopes=oi.join(","))}b.tenantId&&(it.tid=b.tenantId);const Gt=it;for(const oi of Object.keys(Gt))void 0===Gt[oi]&&delete Gt[oi];const xn=yield b._getAppCheckToken(),jn=xn?`#${qs}=${encodeURIComponent(xn)}`:"";return`${function Sc({config:b}){return b.emulator?wt(b,Ni):`https://${b.authDomain}/${Pi}`}(b)}?${(0,g.xO)(Gt).slice(1)}${jn}`})).apply(this,arguments)}const _l="webStorageSupport",wa=class ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pr,this._completeRedirectFn=Ea,this._overrideRedirectResult=pl}_openPopup(h,f,T,K){var de=this;return(0,c.Z)(function*(){var it;St(null===(it=de.eventManagers[h._key()])||void 0===it?void 0:it.manager,"_initialize() not called before _openPopup()");const Gt=yield Io(h,f,T,bn(),K);return function Un(b,h,f,T=Pe,K=We){const de=Math.max((window.screen.availHeight-K)/2,0).toString(),it=Math.max((window.screen.availWidth-T)/2,0).toString();let Gt="";const xn=Object.assign(Object.assign({},q),{width:T.toString(),height:K.toString(),top:de,left:it}),jn=(0,g.z$)().toLowerCase();f&&(Gt=ln(jn)?pt:f),$t(jn)&&(h=h||Xt,xn.scrollbars="yes");const oi=Object.entries(xn).reduce((Zr,[Cs,ac])=>`${Zr}${Cs}=${ac},`,"");if(function st(b=(0,g.z$)()){var h;return Z(b)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(jn)&&"_self"!==Gt)return function pi(b,h){const f=document.createElement("a");f.href=b,f.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(T)}(h||"",Gt),new Hn(null);const ai=window.open(h||"",Gt,oi);qe(ai,b,"popup-blocked");try{ai.focus()}catch{}return new Hn(ai)}(h,Gt,Os())})()}_openRedirect(h,f,T,K){var de=this;return(0,c.Z)(function*(){return yield de._originValidation(h),function bo(b){Fn().location.href=b}(yield Io(h,f,T,bn(),K)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:K,promise:de}=this.eventManagers[f];return K?Promise.resolve(K):(St(de,"If manager is not set, promise should be"),de)}const T=this.initAndGetManager(h);return this.eventManagers[f]={promise:T},T.catch(()=>{delete this.eventManagers[f]}),T}initAndGetManager(h){var f=this;return(0,c.Z)(function*(){const T=yield function M(b){return B.apply(this,arguments)}(h),K=new Zs(h);return T.register("authEvent",de=>(qe(de?.authEvent,h,"invalid-auth-event"),{status:K.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:K},f.iframes[h._key()]=T,K})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(_l,{type:_l},K=>{var de;const it=null===(de=K?.[0])||void 0===de?void 0:de[_l];void 0!==it&&f(!!it),ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Tc(b){return Pa.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return In()||Et()||Z()}};class nc{constructor(h){this.factorId=h}_process(h,f,T){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,T);case"signin":return this._finalizeSignIn(h,f.credential);default:return un("unexpected MultiFactorSessionType")}}}class Ld extends nc{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ld(h)}_finalizeEnroll(h,f,T){return function L(b,h){return an(b,"POST","/v2/accounts/mfaEnrollment:finalize",jt(b,h))}(h,{idToken:f,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function qt(b,h){return an(b,"POST","/v2/accounts/mfaSignIn:finalize",jt(b,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cu=(()=>{class b{constructor(){}static assertion(f){return Ld._fromCredential(f)}}return b.FACTOR_ID="phone",b})();var Mc="@firebase/auth";class Ku{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,c.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vl(){return window}(0,g.Pz)("authIdTokenMaxAge"),function yl(b){(0,fe._registerComponent)(new Oe.wA("auth",(h,{options:f})=>{const T=h.getProvider("app").getImmediate(),K=h.getProvider("heartbeat"),de=h.getProvider("app-check-internal"),{apiKey:it,authDomain:Gt}=T.options;qe(it&&!it.includes(":"),"invalid-api-key",{appName:T.name});const xn={apiKey:it,authDomain:Gt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:It(b)},jn=new Wt(T,K,de,xn);return function Nn(b,h){const f=h?.persistence||[],T=(Array.isArray(f)?f:[f]).map(Qt);h?.errorMap&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(T,h?.popupRedirectResolver)}(jn,f),jn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,T)=>{h.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new Oe.wA("auth-internal",h=>{const f=on(h.getProvider("auth").getImmediate());return new Ku(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(Mc,"0.23.2",function Bd(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,fe.registerVersion)(Mc,"0.23.2","esm2017")}("Browser");const ic=2e3;function rc(){return rc=(0,c.Z)(function*(b,h,f){var T;const{BuildInfo:K}=vl();St(h.sessionId,"AuthEvent did not contain a session ID");const de=yield function Vl(b){return qu.apply(this,arguments)}(h.sessionId),it={};return Z()?it.ibi=K.packageName:Q()?it.apn=K.packageName:ge(b,"operation-not-supported-in-this-environment"),K.displayName&&(it.appDisplayName=K.displayName),it.sessionId=de,Io(b,f,h.type,void 0,null!==(T=h.eventId)&&void 0!==T?T:void 0,it)}),rc.apply(this,arguments)}function bl(){return(bl=(0,c.Z)(function*(b){const{BuildInfo:h}=vl(),f={};Z()?f.iosBundleId=h.packageName:Q()?f.androidPackageName=h.packageName:ge(b,"operation-not-supported-in-this-environment"),yield su(b,f)})).apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(b,h,f){const{cordova:T}=vl();let K=()=>{};try{yield new Promise((de,it)=>{let Gt=null;function xn(){var ai;de();const Zr=null===(ai=T.plugins.browsertab)||void 0===ai?void 0:ai.close;"function"==typeof Zr&&Zr(),"function"==typeof f?.close&&f.close()}function jn(){Gt||(Gt=window.setTimeout(()=>{it(pe(b,"redirect-cancelled-by-user"))},ic))}function oi(){"visible"===document?.visibilityState&&jn()}h.addPassiveListener(xn),document.addEventListener("resume",jn,!1),Q()&&document.addEventListener("visibilitychange",oi,!1),K=()=>{h.removePassiveListener(xn),document.removeEventListener("resume",jn,!1),document.removeEventListener("visibilitychange",oi,!1),Gt&&window.clearTimeout(Gt)}})}finally{K()}})).apply(this,arguments)}function qu(){return(qu=(0,c.Z)(function*(b){const h=function il(b){if(St(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const h=new ArrayBuffer(b.length),f=new Uint8Array(h);for(let T=0;T<b.length;T++)f[T]=b.charCodeAt(T);return f}(b),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const hp=20;class Ca extends Zs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,c.Z)(function*(){yield h.initPromise})()}}function Yu(b){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(b){const h=yield Qu()._get(Rc(b));return h&&(yield Qu()._remove(Rc(b))),h})).apply(this,arguments)}function oc(){const b=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<hp;f++){const T=Math.floor(Math.random()*h.length);b.push(h.charAt(T))}return b.join("")}function Qu(){return Qt(or)}function Rc(b){return Le("authEvent",b.config.apiKey,b.name)}function Hl(b){if(!b?.includes("?"))return{};const[h,...f]=b.split("?");return(0,g.zd)(f.join("?"))}const Pc=class Ju{constructor(){this._redirectPersistence=Pr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ea,this._overrideRedirectResult=pl}_initialize(h){var f=this;return(0,c.Z)(function*(){const T=h._key();let K=f.eventManagers.get(T);return K||(K=new Ca(h),f.eventManagers.set(T,K),f.attachCallbackListeners(h,K)),K})()}_openPopup(h){ge(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,T,K){var de=this;return(0,c.Z)(function*(){!function zd(b){var h,f,T,K,de,it,Gt,xn,jn,oi;const ai=vl();qe("function"==typeof(null===(h=ai?.universalLinks)||void 0===h?void 0:h.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),qe(typeof(null===(f=ai?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),qe("function"==typeof(null===(de=null===(K=null===(T=ai?.cordova)||void 0===T?void 0:T.plugins)||void 0===K?void 0:K.browsertab)||void 0===de?void 0:de.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qe("function"==typeof(null===(xn=null===(Gt=null===(it=ai?.cordova)||void 0===it?void 0:it.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===xn?void 0:xn.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qe("function"==typeof(null===(oi=null===(jn=ai?.cordova)||void 0===jn?void 0:jn.InAppBrowser)||void 0===oi?void 0:oi.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const it=yield de._initialize(h);yield it.initialized(),it.resetRedirect(),function Nd(){Fs.clear()}(),yield de._originValidation(h);const Gt=function hu(b,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:oc(),postBody:null,tenantId:b.tenantId,error:pe(b,"no-auth-event")}}(h,T,K);yield function fu(b,h){return Qu()._set(Rc(b),h)}(h,Gt);const xn=yield function Ls(b,h,f){return rc.apply(this,arguments)}(h,Gt,f),jn=yield function $h(b){const{cordova:h}=vl();return new Promise(f=>{h.plugins.browsertab.isAvailable(T=>{let K=null;T?h.plugins.browsertab.openUrl(b):K=h.InAppBrowser.open(b,function be(b=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),f(K)})})}(xn);return function jd(b,h,f){return Ul.apply(this,arguments)}(h,it,jn)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function du(b){return bl.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:T,handleOpenURL:K,BuildInfo:de}=vl(),it=setTimeout((0,c.Z)(function*(){yield Yu(h),f.onEvent(pu())}),500),Gt=function(){var oi=(0,c.Z)(function*(ai){clearTimeout(it);const Zr=yield Yu(h);let Cs=null;Zr&&ai?.url&&(Cs=function $d(b,h){var f,T;const K=function Gh(b){const h=Hl(b),f=h.link?decodeURIComponent(h.link):void 0,T=Hl(f).link,K=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Hl(K).link||K||T||f||b}(h);if(K.includes("/__/auth/callback")){const de=Hl(K),it=de.firebaseError?function Gi(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(de.firebaseError)):null,Gt=null===(T=null===(f=it?.code)||void 0===f?void 0:f.split("auth/"))||void 0===T?void 0:T[1],xn=Gt?pe(Gt):null;return xn?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:xn,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:K,postBody:null}}return null}(Zr,ai.url)),f.onEvent(Cs||pu())});return function(Zr){return oi.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,Gt);const xn=K,jn=`${de.packageName.toLowerCase()}://`;vl().handleOpenURL=function(){var oi=(0,c.Z)(function*(ai){if(ai.toLowerCase().startsWith(jn)&&Gt({url:ai}),"function"==typeof xn)try{xn(ai)}catch(Zr){console.error(Zr)}});return function(ai){return oi.apply(this,arguments)}}()}};function pu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}const Oc=1e3;function Oa(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function Va(b=(0,g.z$)()){return!("file:"!==Oa()&&"ionic:"!==Oa()&&"capacitor:"!==Oa()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function mu(){try{const b=self.localStorage,h=Os();if(b)return b.setItem(h,"1"),b.removeItem(h),!function qh(b=(0,g.z$)()){return function Ha(){return(0,g.w1)()&&11===document?.documentMode}()||function Zh(b=(0,g.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,g.hl)()}catch{return Wd()&&(0,g.hl)()}return!1}function Wd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function gu(){return(function Gd(){return"http:"===Oa()||"https:"===Oa()}()||(0,g.ru)()||Va())&&!function ed(){return(0,g.b$)()||(0,g.UG)()}()&&mu()&&!Wd()}function ho(){return Va()&&typeof document<"u"}function El(){return(El=(0,c.Z)(function*(){return!!ho()&&new Promise(b=>{const h=setTimeout(()=>{b(!1)},Oc);document.addEventListener("deviceready",()=>{clearTimeout(h),b(!0)})})})).apply(this,arguments)}const da={LOCAL:"local",NONE:"none",SESSION:"session"},rl=qe,Kd="persistence";function zl(b){return ja.apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(b){yield b._initializationPromise;const h=Zd(),f=Le(Kd,b.config.apiKey,b.name);h&&h.setItem(f,b._getPersistence())})).apply(this,arguments)}function Zd(){var b;try{return(null===(b=function td(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Qh=qe;class Go{constructor(){this.browserResolver=Qt(wa),this.cordovaResolver=Qt(Pc),this.underlyingResolver=null,this._redirectPersistence=Pr,this._completeRedirectFn=Ea,this._overrideRedirectResult=pl}_initialize(h){var f=this;return(0,c.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,T,K){var de=this;return(0,c.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._openPopup(h,f,T,K)})()}_openRedirect(h,f,T,K){var de=this;return(0,c.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._openRedirect(h,f,T,K)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return ho()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,c.Z)(function*(){if(h.underlyingResolver)return;const f=yield function _u(){return El.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function wl(b){return b.unwrap()}function Yd(b){return Xh(b)}function Xh(b){const{_tokenResponse:h}=b instanceof g.ZR?b.customData:b;if(!h)return null;if(!(b instanceof g.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Kn.credentialFromResult(b);const f=h.providerId;if(!f||f===Ie.PASSWORD)return null;let T;switch(f){case Ie.GOOGLE:T=os;break;case Ie.FACEBOOK:T=Ss;break;case Ie.GITHUB:T=ss;break;case Ie.TWITTER:T=Xr;break;default:const{oauthIdToken:K,oauthAccessToken:de,oauthTokenSecret:it,pendingToken:Gt,nonce:xn}=h;return de||it||K||Gt?Gt?f.startsWith("saml.")?po._create(f,Gt):Yr._fromParams({providerId:f,signInMethod:f,pendingToken:Gt,idToken:K,accessToken:de}):new lo(f).credential({idToken:K,accessToken:de,rawNonce:xn}):null}return b instanceof g.ZR?T.credentialFromError(b):T.credentialFromResult(b)}function ha(b,h){return h.catch(f=>{throw f instanceof g.ZR&&function Qd(b,h){var f;const T=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Jh(b,function y(b,h){var f;const T=(0,g.m9)(b),K=h;return qe(h.customData.operationType,T,"argument-error"),qe(null===(f=K.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,T,"argument-error"),$._fromError(T,K)}(b,h));else if(T){const K=Xh(h),de=h;K&&(de.credential=K,de.tenantId=T.tenantId||void 0,de.email=T.email||void 0,de.phoneNumber=T.phoneNumber||void 0)}}(b,f),f}).then(f=>{const K=f.user;return{operationType:f.operationType,credential:Yd(f),additionalUserInfo:Da(f),user:ol.getOrCreate(K)}})}function Fo(b,h){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(b,h){const f=yield h;return{verificationId:f.verificationId,confirm:T=>ha(b,f.confirm(T))}})).apply(this,arguments)}class Jh{constructor(h,f){this.resolver=f,this.auth=function qd(b){return b.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ha(wl(this.auth),this.resolver.resolveSignIn(h))}}class ol{constructor(h){this._delegate=h,this.multiFactor=function ke(b){const h=(0,g.m9)(b);return $e.has(h)||$e.set(h,Xe._fromUser(h)),$e.get(h)}(h)}static getOrCreate(h){return ol.USER_MAP.has(h)||ol.USER_MAP.set(h,new ol(h)),ol.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,c.Z)(function*(){return ha(f.auth,_(f._delegate,h))})()}linkWithPhoneNumber(h,f){var T=this;return(0,c.Z)(function*(){return Fo(T.auth,function S(b,h,f){return E.apply(this,arguments)}(T._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,c.Z)(function*(){return ha(f.auth,function bc(b,h,f){return ec.apply(this,arguments)}(f._delegate,h,Go))})()}linkWithRedirect(h){var f=this;return(0,c.Z)(function*(){return yield zl(on(f.auth)),wc(f._delegate,h,Go)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,c.Z)(function*(){return ha(f.auth,j(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return Fo(this.auth,function F(b,h,f){return W.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return ha(this.auth,function Rl(b,h,f){return Jl.apply(this,arguments)}(this._delegate,h,Go))}reauthenticateWithRedirect(h){var f=this;return(0,c.Z)(function*(){return yield zl(on(f.auth)),Ya(f._delegate,h,Go)})()}sendEmailVerification(h){return function Po(b,h){return hs.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,c.Z)(function*(){return yield function Hs(b,h){return Nr.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function rr(b,h){return xr((0,g.m9)(b),h,null)}(this._delegate,h)}updatePassword(h){return function Jo(b,h){return xr((0,g.m9)(b),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function At(b,h){return hn.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ps(b,h){return Oo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function zs(b,h,f){return Xo.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ol.USER_MAP=new WeakMap;const sc=qe;let yu=(()=>{class b{constructor(f,T){if(this.app=f,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=f.options;sc(K,"invalid-api-key",{appName:f.name}),sc(K,"invalid-api-key",{appName:f.name});const de=typeof window<"u"?Go:void 0;this._delegate=T.initialize({options:{persistence:Cl(K,f.name),popupRedirectResolver:de}}),this._delegate._updateErrorMap(Ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ol.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,T){!function Si(b,h,f){const T=on(b);qe(T._canInitEmulator,T,"emulator-config-failed"),qe(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const K=!!f?.disableWarnings,de=Er(h),{host:it,port:Gt}=function Yn(b){const h=Er(b),f=/(\/\/)?([^?#/]+)/.exec(b.substr(h.length));if(!f)return{host:"",port:null};const T=f[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(T);if(K){const de=K[1];return{host:de,port:Mr(T.substr(de.length+1))}}{const[de,it]=T.split(":");return{host:de,port:Mr(it)}}}(h);T.config.emulator={url:`${de}//${it}${null===Gt?"":`:${Gt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:it,port:Gt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function dr(){function b(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,f,T)}applyActionCode(f){return function as(b,h){return Gr.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return fr(this._delegate,f)}confirmPasswordReset(f,T){return function co(b,h,f){return lr.apply(this,arguments)}(this._delegate,f,T)}createUserWithEmailAndPassword(f,T){var K=this;return(0,c.Z)(function*(){return ha(K._delegate,function jo(b,h,f){return Rr.apply(this,arguments)}(K._delegate,f,T))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function ga(b,h){return gs.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function ta(b,h){return"EMAIL_SIGNIN"===Vo.parseLink(h)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,c.Z)(function*(){sc(gu(),f._delegate,"operation-not-supported-in-this-environment");const T=yield function $u(b,h){return Ra.apply(this,arguments)}(f._delegate,Go);return T?ha(f._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Wh(b,h){on(b)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,T,K){const{next:de,error:it,complete:Gt}=kc(f,T,K);return this._delegate.onAuthStateChanged(de,it,Gt)}onIdTokenChanged(f,T,K){const{next:de,error:it,complete:Gt}=kc(f,T,K);return this._delegate.onIdTokenChanged(de,it,Gt)}sendSignInLinkToEmail(f,T){return function js(b,h,f){return Rs.apply(this,arguments)}(this._delegate,f,T)}sendPasswordResetEmail(f,T){return function ar(b,h,f){return zi.apply(this,arguments)}(this._delegate,f,T||void 0)}setPersistence(f){var T=this;return(0,c.Z)(function*(){let K;switch(function jl(b,h){rl(Object.values(da).includes(h),b,"invalid-persistence-type"),(0,g.b$)()?rl(h!==da.SESSION,b,"unsupported-persistence-type"):(0,g.UG)()?rl(h===da.NONE,b,"unsupported-persistence-type"):Wd()?rl(h===da.NONE||h===da.LOCAL&&(0,g.hl)(),b,"unsupported-persistence-type"):rl(h===da.NONE||mu(),b,"unsupported-persistence-type")}(T._delegate,f),f){case da.SESSION:K=Pr;break;case da.LOCAL:K=(yield Qt(_o)._isAvailable())?_o:or;break;case da.NONE:K=gi;break;default:return ge("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return ha(this._delegate,function vr(b){return Cr.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return ha(this._delegate,Qo(this._delegate,f))}signInWithCustomToken(f){return ha(this._delegate,function ut(b,h){return pn.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,T){return ha(this._delegate,function jr(b,h,f){return Qo((0,g.m9)(b),Us.credential(h,f))}(this._delegate,f,T))}signInWithEmailLink(f,T){return ha(this._delegate,function eo(b,h,f){return Kr.apply(this,arguments)}(this._delegate,f,T))}signInWithPhoneNumber(f,T){return Fo(this._delegate,function sa(b,h,f){return I.apply(this,arguments)}(this._delegate,f,T))}signInWithPopup(f){var T=this;return(0,c.Z)(function*(){return sc(gu(),T._delegate,"operation-not-supported-in-this-environment"),ha(T._delegate,function ba(b,h,f){return fl.apply(this,arguments)}(T._delegate,f,Go))})()}signInWithRedirect(f){var T=this;return(0,c.Z)(function*(){return sc(gu(),T._delegate,"operation-not-supported-in-this-environment"),yield zl(T._delegate),Fd(T._delegate,f,Go)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Hr(b,h){return Wr.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=da,b})();function kc(b,h,f){let T=b;"function"!=typeof b&&({next:T,error:h,complete:f}=b);const K=T;return{next:it=>K(it&&ol.getOrCreate(it)),error:h,complete:f}}function Cl(b,h){const f=function Yh(b,h){const f=Zd();if(!f)return[];const T=Le(Kd,b,h);switch(f.getItem(T)){case da.NONE:return[gi];case da.LOCAL:return[_o,Pr];case da.SESSION:return[Pr];default:return[]}}(b,h);if(typeof self<"u"&&!f.includes(_o)&&f.push(_o),typeof window<"u")for(const T of[or,Pr])f.includes(T)||f.push(T);return f.includes(gi)||f.push(gi),f}class $l{constructor(){this.providerId="phone",this._delegate=new Kn(wl(A.Z.auth()))}static credential(h,f){return Kn.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}$l.PHONE_SIGN_IN_METHOD=Kn.PHONE_SIGN_IN_METHOD,$l.PROVIDER_ID=Kn.PROVIDER_ID;const Xd=qe;class nd{constructor(h,f,T=A.Z.app()){var K;Xd(null===(K=T.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new No(h,f,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function id(b){b.INTERNAL.registerComponent(new Oe.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),T=h.getProvider("auth");return new yu(f,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:re_EMAIL_SIGNIN,PASSWORD_RESET:re_PASSWORD_RESET,RECOVER_EMAIL:re_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:re_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:re_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:re_VERIFY_EMAIL}},EmailAuthProvider:Us,FacebookAuthProvider:Ss,GithubAuthProvider:ss,GoogleAuthProvider:os,OAuthProvider:lo,SAMLAuthProvider:Ms,PhoneAuthProvider:$l,PhoneMultiFactorGenerator:cu,RecaptchaVerifier:nd,TwitterAuthProvider:Xr,Auth:yu,AuthCredential:zr,Error:g.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(A.Z)},8179:(_n,Ye,D)=>{D.d(Ye,{EK:()=>c.EK});var c=D(2810)},5861:(_n,Ye,D)=>{function c(g,fe,O,Te,Oe,ue,Ie){try{var ie=g[ue](Ie),ae=ie.value}catch(re){return void O(re)}ie.done?fe(ae):Promise.resolve(ae).then(Te,Oe)}function A(g){return function(){var fe=this,O=arguments;return new Promise(function(Te,Oe){var ue=g.apply(fe,O);function Ie(ae){c(ue,Te,Oe,Ie,ie,"next",ae)}function ie(ae){c(ue,Te,Oe,Ie,ie,"throw",ae)}Ie(void 0)})}}D.d(Ye,{Z:()=>A})}},_n=>{_n(_n.s=4689)}]);